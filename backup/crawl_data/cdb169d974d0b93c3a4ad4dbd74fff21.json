{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs221-2019-spring-project3?action=diff&version=2", "word_count": 1152, "words": ["cs221-2019-spring-project3", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Version", "1", "and", "Version", "2", "of", "cs221-2019-spring-project3", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "May", "2,", "2019,", "1:28:52", "PM", "(", "6", "years", "ago)", "Author:", "Zuozhi", "Wang", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs221-2019-spring-project3", "v1", "v2", "19", "19", "==", "Overview", "==", "20", "20", "21", "In", "this", "project,", "you'll", "be", "implementing", "a", "disk-based", "positional", "index", "and", "the", "phrase", "search", "operations.", "Compared", "to", "the", "inverted", "index", "in", "project", "2,", "positional", "index", "stores", "the", "positions", "of", "all", "occurrences", "of", "the", "keywords", "in", "a", "document.", "Moreover,", "positional", "index", "also", "stores", "the", "frequency", "information", "of", "the", "keywords.", "21", "In", "this", "project,", "you'll", "be", "implementing", "a", "disk-based", "positional", "index", "and", "the", "phrase", "search", "operations.", "Compared", "to", "the", "inverted", "index", "in", "project", "2,", "positional", "index", "stores", "the", "positions", "of", "all", "occurrences", "of", "the", "keywords", "in", "a", "document.", "In", "addition,", "we", "also", "store", "the", "frequency", "of", "a", "22", "23", "Positional", "index", "enables", "phrase", "search.", "Phrase", "search", "means", "searching", "a", "sequence", "of", "keywords", "in", "exact", "order.", "For", "example,", "the", "query", "\"new", "york\"", "will", "only", "match", "documents", "with", "\"new\"", "immediately", "followed", "by", "\"york\".", "A", "document", "like", "\"new", "...", "other", "tokens", "...", "york\"", "won't", "match.", "22", "24", "23", "25", "The", "\"position\"", "of", "a", "word", "in", "the", "positional", "index", "have", "many", "different", "kinds.", "It", "could", "be", "either", "character", "position", "or", "token", "position.", "Token", "position", "might", "include", "or", "exclude", "stop", "words.", "Different", "kinds", "of", "\"position\"", "also", "have", "different", "meanings", "on", "phrase", "search.", "For", "example,", "\"University", "of", "California,", "Irvine\",", "if", "we", "search", "the", "phrase", "\"University", "California\",", "choice", "on", "stop", "words", "affects", "the", "search", "result.", "\u2026", "\u2026", "28", "30", "==", "Task", "1:", "Implement", "LSM-like", "positional", "index.", "==", "29", "31", "30", "The", "on", "disk", "index", "structure", "of", "the", "positional", "index", "is", "similar", "to", "the", "LSM", "structure", "in", "project", "2.", "You", "need", "to", "implement", "the", "`addDocument`,", "`flush`,", "and", "`merge`", "operations", "similar", "to", "project", "2.", "32", "The", "on", "disk", "index", "structure", "of", "the", "positional", "index", "is", "similar", "to", "the", "LSM", "structure", "in", "project", "2.", "The", "behavior", "for", "`addDocument`,", "`flush`,", "and", "`merge`", "operations", "should", "be", "the", "same", "as", "project", "2.", "33", "34", "35", "{{{", "36", "---", "dictionary", "---", "37", "<term1>:", "<pointer_to_positional_posting>,", "<term2>:", "<pointer_to_positional_posting>,", "...", "38", "---", "positional", "posting", "lists", "---", "39", "<docID1>:", "<num_of_occurrences>,", "[pos1,", "pos2,", "pos3,", "...],", "<docID2>:", "<num_of_occurrences>,", "[pos1,", "pos2,", "pos3,", "...]", "40", "}}}", "41", "31", "42", "32", "43", "{{{", "\u2026", "\u2026", "45", "56", "==", "Task", "2:", "Implement", "phrase", "search.", "==", "46", "57", "47", "In", "this", "task,", "you'll", "implement", "searching", "using", "the", "inverted", "index.", "48", "You", "could", "assume", "all", "documents", "are", "flushed", "to", "disk", "segments", "when", "doing", "a", "search.", "58", "In", "this", "task,", "you'll", "implement", "phrase", "search", "using", "the", "positional", "index.", "You", "should", "make", "same", "assumptions", "about", "IO", "and", "tokenization", "as", "in", "project", "2.", "49", "59", "50", "Here", "we", "make", "the", "same", "assumption", "as", "in", "the", "merge", "case", "regarding", "what", "can", "be", "stored", "in", "memory.", "51", "52", "For", "every", "query", "keyword,", "you", "need", "to", "first", "analyze", "it", "using", "the", "provided", "analyzer", "before", "using", "it", "to", "access", "the", "inverted", "index.", "53", "You", "can", "assume", "the", "analyzer", "will", "not", "convert", "one", "keyword", "to", "multiple", "keywords.", "54", "If", "the", "keyword", "is", "empty,", "searching", "should", "not", "return", "any", "results.", "60", "The", "keywords", "in", "the", "list", "represents", "a", "consecutive", "sequence", "of", "keywords,", "a", "document", "only", "matches", "if", "it", "matches", "the", "sequence", "in", "exact", "order.", "55", "61", "56", "62", "The", "following", "are", "specific", "functions", "to", "implement:", "57", "63", "58", "64", "{{{", "59", "/**", "60", "*", "Performs", "a", "single-keyword", "search", "on", "the", "inverted", "index.", "61", "*", "You", "could", "assume", "the", "analyzer", "won't", "convert", "the", "keyword", "into", "multiple", "tokens.", "62", "*", "If", "the", "keyword", "is", "empty,", "it", "should", "not", "return", "anything.", "63", "*", "64", "*", "@param", "keyword", "keyword,", "cannot", "be", "null.", "65", "*", "@return", "a", "iterator", "of", "documents", "matching", "the", "query", "66", "*/", "67", "public", "Iterator<Document>", "searchQuery(String", "keyword)", "68", "69", "/**", "70", "*", "Performs", "an", "AND", "boolean", "search", "on", "the", "inverted", "index.", "71", "*", "72", "*", "@param", "keywords", "a", "list", "of", "keywords", "in", "the", "AND", "query", "73", "*", "@return", "a", "iterator", "of", "documents", "matching", "the", "query", "74", "*/", "75", "public", "Iterator<Document>", "searchAndQuery(List<String>", "keywords)", "76", "}", "77", "78", "/**", "79", "*", "Performs", "an", "OR", "boolean", "search", "on", "the", "inverted", "index.", "80", "*", "81", "*", "@param", "keywords", "a", "list", "of", "keywords", "in", "the", "OR", "query", "82", "*", "@return", "a", "iterator", "of", "documents", "matching", "the", "query", "83", "*/", "84", "public", "Iterator<Document>", "searchOrQuery(List<String>", "keywords)", "65", "public", "Iterator<Document>", "pharseSearch(List<String>", "keywords)", "85", "66", "}}}", "86", "67", "87", "68", "88", "==", "Task", "4", "(Optional", "Extra", "Credit):", "Implement", "deletions", ".", "==", "69", "==", "Task", "3:", "Implement", "compression", ".", "==", "89", "70", "90", "In", "the", "LSM-like", "index", "structure,", "deletion", "could", "be", "implemented", "by", "maintaining", "a", "list", "of", "deleted", "document", "IDs", "per", "segment.", "91", "Each", "deleted", "document", "is", "not", "physically", "deleted", "in", "the", "inverted", "index", "nor", "document", "store.", "92", "When", "reading", "or", "searching,", "each", "docID", "is", "checked", "to", "see", "if", "it", "has", "been", "logically", "deleted.", "93", "If", "so,", "we", "will", "not", "return", "it", "to", "the", "user.", "94", "95", "Those", "deleted", "documents", "within", "a", "segment", "should", "be", "physically", "deleted", "when", "we", "merge", "it", "with", "another", "segment.", "96", "97", "The", "following", "is", "the", "specific", "function", "to", "implement:", "98", "99", "{{{", "100", "/**", "101", "*", "Deletes", "all", "documents", "in", "all", "disk", "segments", "of", "the", "inverted", "index", "that", "match", "the", "keyword.", "102", "*", "@param", "keyword", "103", "*/", "104", "public", "void", "deleteDocuments(String", "keyword)", "105", "}}}", "106", "71", "107", "72", "108", "73", "==", "Test", "cases", "==", "109", "Please", "follow", "the", "similar", "general", "guideline", "and", "procedure", "as", "in", "project", "1.", "Here", "is", "[https://docs.google.com/spreadsheets/d/1_iwJOT-bnYDk9tWNNy61GCyi1kRN7s3VHdn5h_2T1DA/edit#gid=996032174", "test", "task", "assignment].", "There", "are", "some", "guidelines", "and", "tips", "for", "project", "2", "test", "cases:", "110", "1.", "Put", "the", "index", "and", "document", "files", "under", "your", "own", "folder.", "Specifically,", "you", "should", "use", "folder", "`index/YourTestName/`,", "for", "example", "`index/Team0StressTest`.", "111", "2.", "Clean", "up", "and", "delete", "all", "files", "after", "each", "test.", "You", "should", "use", "Junit", "`@After`", "to", "delete", "all", "written", "files.", "112", "3.", "For", "testing", "tasks", "1", "and", "2,", "you", "could", "change", "`default_flush_threshold`", "or", "`default_merge_threshold`,"], "content_hash": "693a2cd16908b383149d9b90a7197787"}
{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs222-2016-fall-project2-description?action=diff&version=1", "word_count": 2815, "words": ["cs222-2016-fall-project2-description", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Initial", "Version", "and", "Version", "1", "of", "cs222-2016-fall-project2-description", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "Oct", "5,", "2016,", "10:00:36", "AM", "(", "9", "years", "ago)", "Author:", "Joyce", "Shin", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs222-2016-fall-project2-description", "v1", "v1", "1", "=", "Introduction", "=", "2", "In", "this", "project,", "you", "will", "continue", "implementing", "the", "record-based", "file", "manager", "(RBFM).", "Once", "you", "have", "finished", "implementing", "that,", "you", "will", "build", "a", "relation", "manager", "(RM)", "on", "top", "of", "the", "basic", "paged", "file", "system.", "The", "RM", "manager", "should", "meet", "the", "following", "basic", "requirements.", "3", "4", "=", "Basic", "Requirements", "(100", "points)", "=", "5", "6", "7", "==", "Finish", "RBFM", "==", "8", "You", "need", "to", "finish", "the", "implementation", "of", "the", "record-based", "file", "manager", "(RBFM)", "that", "you", "have", "started", "in", "part", "1.", "Specifically,", "you", "should", "finish", "implementing", "the", "following", "methods:", "'''RecordBasedFileManager::deleteRecord()''',", "'''RecordBasedFileManager::updateRecord()''',", "'''RecordBasedFileManager::readAttribute()''',", "and", "'''RecordBasedFileManager::scan()'''.", "Please", "refer", "to", "[wiki:cs222-2016-fall-project1-description", "Project", "1", "Description]", "for", "their", "explanations", "and", "look", "at", "the", "file", "'''rbfm.h'''", "for", "the", "signature", "of", "those", "methods.", "Once", "you", "finish", "the", "implementation", "of", "those", "methods", "and", "test", "them", "well,", "you", "will", "use", "those", "methods", "to", "implement", "the", "relation", "manager", "(please", "have", "a", "look", "at", "the", "file", "'''rm.h''').", "9", "10", "==", "Implement", "the", "Relation", "Manager", "==", "11", "12", "The", "!RelationManager", "class", "is", "responsible", "for", "managing", "the", "database", "tables.", "It", "handles", "the", "creation", "and", "deletion", "of", "tables.", "It", "also", "handles", "the", "basic", "operations", "performed", "on", "top", "of", "a", "table", "(e.g.,", "insert", "and", "delete", "tuples).", "13", "14", "15", "===", "Catalog", "===", "16", "Create", "a", "catalog", "to", "hold", "all", "information", "about", "your", "database.", "This", "includes", "at", "least", "the", "following:", "17", "*", "Table", "information", "(e.g.,", "table-name,", "table-id,", "etc.).", "18", "*", "For", "each", "table,", "the", "columns,", "and", "for", "each", "of", "these", "columns:", "the", "column", "name,", "type,", "length,", "and", "position.", "19", "*", "The", "name", "of", "the", "record-based", "file", "in", "which", "the", "data", "corresponding", "to", "each", "table", "is", "stored.", "20", "21", "It", "is", "mandatory", "to", "store", "the", "catalog", "information", "by", "using", "the", "RBF", "layer", "functions.", "You", "should", "create", "the", "catalog's", "tables", "and", "populate", "them", "the", "first", "time", "your", "database", "is", "initialized", "(when", "the", "method", "createCatalog()", "is", "called).", "Once", "the", "catalog's", "tables", "and", "columns", "tables", "have", "been", "created,", "they", "should", "be", "persisted", "to", "disk.", "Please", "use", "the", "following", "name", "and", "type", "for", "the", "catalog", "tables", "and", "columns.", "You", "can", "add", "more", "attributes", "you", "want/need", "to.", "However,", "please", "do", "not", "change", "the", "given", "name", "of", "these", "two", "tables", "or", "their", "attribute", "names.", "22", "23", "{{{", "24", "Tables", "(table-id:int,", "table-name:varchar(50),", "file-name:varchar(50))", "25", "Columns(table-id:int,", "column-name:varchar(50),", "column-type:int,", "column-length:int,", "column-position:int)", "26", "}}}", "27", "28", "An", "example", "of", "the", "records", "that", "should", "be", "in", "these", "two", "tables", "after", "creating", "a", "table", "named", "\"Employee\"", "is:", "29", "30", "{{{", "31", "Tables", "32", "(1,", "\"Tables\",", "\"Tables\")", "33", "(2,", "\"Columns\",", "\"Columns\")", "34", "(3,", "\"Employee\",", "\"Employee\")", "35", "36", "Columns", "37", "(1,", "\"table-id\",", "TypeInt,", "4", ",", "1)", "38", "(1,", "\"table-name\",", "TypeVarChar,", "50,", "2)", "39", "(1,", "\"file-name\",", "TypeVarChar,", "50,", "3)", "40", "(2,", "\"table-id\",", "TypeInt,", "4,", "1)", "41", "(2,", "\"column-name\",", "TypeVarChar,", "50,", "2)", "42", "(2,", "\"column-type\",", "TypeInt,", "4,", "3)", "43", "(2,", "\"column-length\",", "TypeInt,", "4,", "4)", "44", "(2,", "\"column-position\",", "TypeInt,", "4,", "5)", "45", "(3,", "\"empname\",", "TypeVarChar,", "30,", "1)", "46", "(3,", "\"age\",", "TypeInt,", "4,", "2)", "47", "(3,", "\"height\",", "TypeReal,", "4,", "3)", "48", "(3,", "\"salary\",", "TypeInt,", "4,", "4)", "49", "}}}", "50", "Note", "that", "!TypeInt,", "!TypevarChar,", "and", "!TypeReal", "are", "the", "enum", "types", "used", "to", "represent", "an", "attribute", "type", "and", "defined", "in", "the", "rbfm.h", "file.", "Also", "for", "the", "file-name", "attribute,", "you", "can", "use", "your", "own", "naming", "conventions", "if", "you", "want", "(e.g,.", "\"Tables.tbl\"", "for", "Tables", "table).", "In", "this", "example,", "The", "last", "row", "of", "Tables", "table", "states", "that", "the", "table-id", "of", "the", "\"Employee\"", "table", "is", "3,", "its", "name", "is", "\"Employee\",", "and", "the", "RBF", "file", "associated", "with", "this", "table", "is", "\"Employee\".", "The", "last", "line", "of", "the", "Columns", "table", "shows", "the", "information", "about", "the", "\"salary\"", "column", "of", "the", "\"Employee\"", "table.", "Specifically,", "the", "table-id", "is", "3,", "the", "column-name", "is", "\"salary\",", "the", "type", "of", "this", "column", "is", "Int,", "its", "length", "is", "4,", "and", "the", "position", "of", "this", "column", "is", "4.", "51", "52", "The", "catalog", "tables", "(Tables", "and", "Columns)", "should", "be", "created", "when", "the", "method", "createCatalog()", "is", "called.", "All", "other", "subsequent", "invocations", "of", "your", "database", "should", "use", "the", "already", "created", "catalog's", "tables.", "The", "catalog", "tables", "will", "be", "deleted", "when", "the", "deleteCatalog()", "is", "called.", "Between", "the", "createCatalog()", "and", "deleteCatalog()", "methods,", "the", "catalog", "should", "be", "persistent", "on", "disk.", "Please", "note", "that", "users", "should", "be", "able", "to", "query", "your", "catalog's", "tables", "as", "any", "other", "table,", "but", "they", "should", "not", "be", "allowed", "to", "modify", "its", "content", "through", "the", "RM", "API.", "Modifications", "of", "the", "catalog's", "tables", "should", "be", "only", "allowed", "from", "internal", "calls", "(for", "instance,", "when", "creating", "a", "user", "table", "or", "deleting", "a", "user", "table,", "etc.).", "To", "do", "this,", "you", "may", "need", "to", "have", "a", "\"system\"", "vs.", "\"user\"", "flag", "in", "your", "Tables", "catalog", "so", "you", "can", "distinguish", "\"system", "tables\"", "from", "\"user", "tables\"", "and", "make", "it", "illegal", "to", "do", "anything", "but", "reading", "\"system", "tables\"", "through", "the", "RM", "layer.", "If", "you", "take", "this", "design,", "then", "you", "need", "to", "add", "one", "more", "column", "to", "the", "two", "schemas", "defined", "above.", "53", "54", "===", "!RelationManager", "class", "===", "55", "56", "The", "following", "is", "more", "information", "about", "the", "!RelationManager", "class.", "Your", "program", "should", "create", "exactly", "one", "instance", "of", "this", "class,", "and", "all", "requests", "for", "the", "RM", "component", "should", "be", "directed", "to", "that", "instance.", "The", "public", "methods", "of", "the", "class", "declaration", "are", "shown", "first,", "followed", "by", "descriptions", "of", "the", "methods.", "The", "last", "two", "methods", "in", "the", "class", "declaration", "are", "the", "constructor", "and", "destructor", "methods", "and", "are", "not", "explained", "further.", "'''Note:'''", "your", "tuple-oriented", "file", "system", "must", "create", "a", "relation", "manager", "(RM)", "that", "initializes", "the", "catalog", "information", "you", "may", "need", "to", "store.", "It", "also", "internally", "creates", "a", "record-based", "file", "manager", "using", "the", "implementation", "from", "Project", "1.", "57", "58", "{{{", "59", "class", "RelationManager", "60", "{", "61", "public:", "62", "RC", "createCatalog();", "63", "64", "RC", "deleteCatalog();", "65", "66", "RC", "createTable(const", "string", "&tableName,", "const", "vector<Attribute>", "&attrs);", "67", "68", "RC", "deleteTable(const", "string", "&tableName);", "69", "70", "RC", "getAttributes(const", "string", "&tableName,"], "content_hash": "55c965f1ae0f8cbeca4f384baa0ab627"}
{"url": "http://www.ics.uci.edu/~wjohnson/BIDA/DiagnosticTestsPart2/CodeandDataMedicalTestsPart2.txt", "word_count": 1808, "words": ["#####", "Section", "2:", "WinBUGS", "model", "for", "ovarian", "cancer", "data", "model{", "#", "Model", "for", "the", "outcomes", "for", "both", "tests", "for(i", "in", "1:51){", "ty0CA199[i]", "<-", "log(y0CA199[i])", "#", "Transform", "controls", "ty0CA125[i]", "<-", "log(y0CA125[i])", "ty0CA199[i]", "~", "dnorm(mu0199,tau0199)", "#", "Log", "normal", "model", "ty0CA125[i]", "~", "dnorm(mu0125,tau0125)", "#", "for", "controls", "}", "for(i", "in", "1:90){", "ty1CA199[i]", "<-", "log(y1CA199[i])", "#", "Transform", "cases", "ty1CA125[i]", "<-", "log(y1CA125[i])", "ty1CA199[i]", "~", "dnorm(mu1199,tau1199)", "#", "Log", "normal", "model", "ty1CA125[i]", "~", "dnorm(mu1125,tau1125)", "#", "for", "cases", "}", "#", "Diffuse", "priors", "mu0199~dnorm(0,0.01)", "tau0199~dgamma(0.01,0.01)", "mu0125~dnorm(0,0.01)", "tau0125~dgamma(0.01,0.01)", "mu1199~dnorm(0,0.01)", "tau1199~dgamma(0.01,0.01)", "mu1125~dnorm(0,0.01)", "tau1125~dgamma(0.01,0.01)", "AUC199", "<-", "phi(", "(mu1199", "-", "mu0199)/sqrt(1/tau0199", "+", "1/tau1199))", "AUC125", "<-", "phi(", "(mu1125", "-", "mu0125)/sqrt(1/tau0125", "+", "1/tau1125))", "for(i", "in", "1:101){", "#", "Get", "ROC", "values", "over", "the", "grid", "x[]", "=", "phi^{-1}(t[])", "ROC199[i]<-", "phi(sqrt(tau1199)*(mu1199-mu0199)+sqrt(tau1199/tau0199)*x[i])", "ROC125[i]<-", "phi(sqrt(tau1125)*(mu1125-mu0125)+sqrt(tau1125/tau0125)*x[i])", "}#", "Predictive", "probabilities", "of", "infection", "over", "the", "grid", "y[]", "for(i", "in", "1:321){", "f1199[i]", "<-", "sqrt(tau1199)*exp((-tau1199/2)*pow(y[i]-mu1199,2))", "f0199[i]", "<-", "sqrt(tau0199)*exp((-tau0199/2)*pow(y[i]-mu0199,2))", "f1125[i]", "<-", "sqrt(tau1125)*exp((-tau1125/2)*pow(y[i]-mu1125,2))", "f0125[i]", "<-", "sqrt(tau0125)*exp((-tau0125/2)*pow(y[i]-mu0125,2))", "probMale125[i]", "<-", "f1125[i]*pm/(f1125[i]*pm", "+", "f0125[i]*(1-pm))", "probFemale125[i]", "<-", "f1125[i]*pf/(f1125[i]*pf", "+", "f0125[i]*(1-pf))", "probMale199[i]", "<-", "f1199[i]*pm/(f1199[i]*pm", "+", "f0199[i]*(1-pm))", "probFemale199[i]", "<-", "f1199[i]*pf/(f1199[i]*pf", "+", "f0199[i]*(1-pf))", "}", "}", "#####", "Section", "3:", "WinBUGS", "model,", "data,", "and", "inits", "for", "the", "regression", "example", "with", "continuous", "y", "model{", "for(i", "in", "1:n){", "z[i]", "~", "dbern(pi[i])", "y[i]", "~", "dnorm(mmu[i],", "ttau[i])", "mmu[i]", "<-", "z[i]*mu[1]", "+", "(1-z[i])*mu[2]", "ttau[i]", "<-", "z[i]*tau[1]", "+", "(1-z[i])*tau[2]", "logit(pi[i])", "<-", "beta[1]", "+", "beta[2]*x[i]", "}", "tildepi[1]", "~", "dbeta(a[1],b[1])", "tildepi[2]", "~", "dbeta(a[2],b[2])", "beta[1]", "<-", "logit(tildepi[1])", "beta[2]", "<-", "logit(tildepi[2])", "-", "logit(tildepi[1])", "for(i", "in", "1:2){", "mu[i]", "~", "dnorm(d[i],0.001)", "tau[i]", "~", "dgamma(0.001,0.001)", "}", "v[1]", "~", "dnorm(mu[1],tau[1])", "#Pred", "Dens", "Popn", "1", "v[2]", "~", "dnorm(mu[2],tau[2])", "#Pred", "Dens", "Popn", "0", "#", "Get", "predictive", "probabilities", "of", "$D$", "for(i", "in", "1:n){", "f1[i]", "<-", "sqrt(tau[1])*exp((-tau[1]/2)*pow(y[i]-mu[1],2))", "f2[i]", "<-", "sqrt(tau[2])*exp((-tau[2]/2)*pow(y[i]-mu[2],2))", "prob[i]", "<-", "f1[i]*pi[i]/(f1[i]*pi[i]", "+", "f2[i]*(1-pi[i]))", "}", "}", "list(mu=c(55,45),", "tau=c(1,1),", "tildepi=c(.95,.05))", "list(z=c(0,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "0,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "0,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "0,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "0,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0))", "list(n=300,a=c(19,1),b=c(1,19),d=c(20,10),", "x", "=", "c(0,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "0,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "0,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "0,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "0,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0),", "y", "=", "c(46.9688885299112,", "52.3361408968752,", "55.0587095330899,", "67.063801419522,", "68.8339157013614,", "35.1997003210818,", "43.8434567496886,", "62.5678556871719,", "51.7401497932518,", "40.0210644491513,", "55.5803936018858,", "77.8540400706143,", "53.2577006714074,", "60.978096870618,", "44.8963836121789,", "45.8611825455399,", "31.8055612025579,", "44.0913994633267,", "57.722105348682,", "74.6109500714428,", "52.7449019892315,", "39.1355235642223,", "46.0213939033561,", "60.391334720546,", "55.9977718278595,", "44.1538782443230,", "39.8951487485588,", "57.8750840531612,", "52.741948596222,", "62.5174297594526,", "39.7587406576789,", "42.1347008412321,", "29.9739391852203,", "57.737985500304,", "60.9027770410002,", "40.8896197976564,", "39.3549237757351,", "42.9913777609811,", "47.4636851909366,", "40.19975650674,", "46.8049462243584,", "24.9840101346073,", "53.913147855837,", "31.7877258787095,", "46.8465351493863,", "44.6579914658539,", "65.5782255615336,", "47.3727177437165,", "61.4277824354533,", "41.3232437613357,", "35.55101258649,", "47.2046690388387,", "54.7556206451842,", "45.41255030363,", "42.8147384529643,", "22.7165793798118,", "46.2008902700476,", "55.2319677884315,", "53.0094398983507,", "48.3747036387213,", "66.3509396059549,", "43.739428059669,", "83.3584841203558,", "63.8976098188874,", "42.9241764802072,", "47.580661251016,", "66.5911443421293,", "57.8933498142899,", "58.7485101903814,", "41.1459589104188,", "45.0476882605214,", "48.17446507216,", "41.1737178765139,", "42.6121526136231,", "48.7625758570532,", "34.7531217958322,", "47.8557167896222,", "58.0750301395481,", "32.8325393816697,", "47.1903811877905,", "40.163918721602,", "45.2280622030011,", "56.0167740512132,", "43.8191866357756,", "54.5691711543537,", "37.7168944517151,", "34.9276809305544,", "62.3866423609381,", "50.1037075520153,", "58.4355197239564,", "40.2671573484903,", "60.7805867474096,", "42.8168780864038,", "55.4999551097814,", "59.9444187794951,", "44.5238375557945,", "64.1243050143463,", "24.5124935705296,", "55.0657551062564,", "58.9778393827595,", "29.1429226326105,", "31.4571459000624,", "36.7874450804490,", "34.5896554597068,", "40.750392806842,", "30.0467801951236,", "40.7489409160689,", "36.3809046657188,", "58.2365214172514,", "49.4283022810525,", "33.9009170390867,", "48.8656471648306,", "33.020910338002,", "41.4326955179173,", "51.7548175724649,", "39.979249177136,", "55.3342775942271,", "47.0222040653348,", "59.6656425570817,", "46.8155625838758,", "52.9454435060603,", "41.9878708909172,", "26.4391187698536,", "46.7718284534991,", "46.8378047376953,", "41.1191896022904,", "42.2769904851212,", "32.5460505660805,", "55.2361044591861,", "27.2078694980604,"], "content_hash": "b2c18c93f9b8323dcd901f110831eda9"}
{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs221-2019-spring-project3?action=diff&version=4", "word_count": 1397, "words": ["cs221-2019-spring-project3", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Version", "3", "and", "Version", "4", "of", "cs221-2019-spring-project3", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "May", "6,", "2019,", "1:08:12", "PM", "(", "6", "years", "ago)", "Author:", "Zuozhi", "Wang", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs221-2019-spring-project3", "v3", "v4", "7", "7", "8", "8", "==", "Coding", "Tasks", "==", "9", "1.", "Implement", "LSM-like", "Positional", "Index", "(insertion", "and", "merge).", "10", "1.", "Implement", "Phrase", "Search.", "11", "1.", "Implement", "Compression.", "9", "1.", "Implement", "LSM-like", "Positional", "Index", "(insertion", "and", "merge).", "(5", "points)", "10", "1.", "Implement", "Phrase", "Search.", "(4", "points)", "11", "1.", "Implement", "Compression.", "(6", "points)", "12", "12", "13", "13", "==", "Testing", "Tasks", "==", "\u2026", "\u2026", "19", "19", "==", "Overview", "==", "20", "20", "21", "In", "this", "project,", "you'll", "be", "implementing", "a", "disk-based", "positional", "index", "and", "the", "phrase", "search", "operations.", "Compared", "to", "the", "inverted", "index", "in", "project", "2,", "positional", "index", "stores", "the", "positions", "of", "all", "occurrences", "of", "the", "keywords", "in", "a", "document.", "In", "addition,", "we", "also", "store", "the", "frequency", "of", "a", "21", "In", "this", "project,", "you'll", "be", "implementing", "a", "disk-based", "positional", "index", "and", "the", "phrase", "search", "operations.", "Compared", "to", "the", "inverted", "index", "in", "project", "2,", "positional", "index", "stores", "the", "positions", "of", "all", "occurrences", "of", "the", "keywords", "in", "a", "document.", "In", "addition,", "we", "also", "store", "the", "term", "frequency", "-", "the", "number", "of", "times", "a", "word", "appears.", "Positional", "index", "is", "much", "bigger", "compared", "to", "inverted", "index,", "you'll", "implement", "delta-encoding", "and", "variable-length", "encoding", "to", "compress", "the", "inverted", "lists", "and", "positions.", "22", "22", "23", "23", "Positional", "index", "enables", "phrase", "search.", "Phrase", "search", "means", "searching", "a", "sequence", "of", "keywords", "in", "exact", "order.", "For", "example,", "the", "query", "\"new", "york\"", "will", "only", "match", "documents", "with", "\"new\"", "immediately", "followed", "by", "\"york\".", "A", "document", "like", "\"new", "...", "other", "tokens", "...", "york\"", "won't", "match.", "24", "24", "25", "The", "\"position\"", "of", "a", "word", "in", "the", "positional", "index", "have", "many", "different", "kind", "s.", "It", "could", "be", "either", "character", "position", "or", "token", "position.", "Token", "position", "might", "include", "or", "exclude", "stop", "words.", "Different", "kinds", "of", "\"position\"", "also", "have", "different", "meanings", "on", "phrase", "search.", "For", "example,", "\"University", "of", "California,", "Irvine\",", "if", "we", "search", "the", "phrase", "\"University", "California\",", "choice", "on", "stop", "words", "affects", "the", "search", "result.", "25", "The", "\"position\"", "of", "a", "word", "in", "the", "positional", "index", "have", "different", "variation", "s.", "It", "could", "be", "either", "character", "position", "or", "token", "position.", "Token", "position", "might", "include", "or", "exclude", "stop", "words.", "Different", "kinds", "of", "\"position\"", "also", "have", "different", "meanings", "on", "phrase", "search.", "For", "example,", "\"University", "of", "California,", "Irvine\",", "if", "we", "search", "the", "phrase", "\"University", "California\",", "choice", "on", "stop", "words", "affects", "the", "search", "result.", "26", "26", "27", "27", "In", "this", "project,", "we", "stores", "the", "'''token'''", "position.", "We", "use", "the", "tokens", "generated", "from", "the", "analyzer", "-", "if", "the", "analyzer", "removes", "the", "stop", "words,", "then", "the", "stop", "words", "are", "also", "excluded", "from", "the", "positional", "index.", "For", "example,", "the", "positions", "of", "\"cat", "and", "dog\"", "is", "\"{cat:", "1},", "{dog:", "2}\".", "\u2026", "\u2026", "30", "30", "==", "Task", "1:", "Implement", "LSM-like", "positional", "index.", "==", "31", "31", "32", "The", "on", "disk", "index", "structure", "of", "the", "positional", "index", "is", "similar", "to", "the", "LSM", "structure", "in", "project", "2.", "The", "behavior", "for", "`addDocument`,", "`flush`,", "and", "`merge`", "operations", "should", "be", "the", "same", "as", "project", "2.", "32", "The", "on", "disk", "index", "structure", "of", "the", "positional", "index", "is", "similar", "to", "the", "LSM", "structure", "in", "project", "2.", "The", "behavior", "for", "`addDocument`,", "`flush`,", "and", "`merge`", "operations", "should", "be", "the", "same", "as", "project", "2.", "You", "should", "continue", "using", "the", "`InvertedIndexManager`", "from", "project", "2.", "33", "33", "34", "The", "index", "format", "of", "the", "positional", "index", "should", "be", "based", "on", "top", "of", "the", "inverted", "index", "format", "in", "project", "2.", "Recall", "in", "project", "2", "we", "have", "3", "files", "per", "segment:", "docStore,", "dictionary,", "and", "invertedLists.", "The", "dictionary", "stores", "the", "pointer", "from", "a", "token", "to", "the", "inverted", "lists", "of", "the", "token.", "In", "this", "project,", "we", "need", "another", "\"position\"", "file", "to", "store", "the", "position", "list", "of", "a", "token", "in", "a", "document.", "The", "\"InvertedLists\"", "needs", "to", "store", "an", "additional", "pointer", "to", "the", "position", "list", "per", "documentID.", "35", "36", "You", "need", "to", "implement", "the", "following", "functions", "newly", "added", "to", "`InvertedIndexManager`", "34", "37", "35", "38", "{{{", "36", "---", "dictionary", "---", "37", "<term1>:", "<pointer_to_positional_posting>,", "<term2>:", "<pointer_to_positional_posting>,", "...", "38", "---", "positional", "posting", "lists", "---", "39", "<docID1>:", "<num_of_occurrences>,", "[pos1,", "pos2,", "pos3,", "...],", "<docID2>:", "<num_of_occurrences>,", "[pos1,", "pos2,", "pos3,", "...]", "40", "}}}", "39", "/**", "40", "*", "Creates", "a", "positional", "index", "with", "the", "given", "folder,", "analyzer,", "and", "the", "compressor.", "41", "*", "Compressor", "must", "be", "used", "to", "compress", "the", "inverted", "lists", "and", "the", "position", "lists.", "42", "*", "43", "*/", "44", "public", "static", "InvertedIndexManager", "createOrOpenPositional(String", "indexFolder,", "Analyzer", "analyzer,", "Compressor", "compressor)", "41", "45", "42", "43", "{{{", "44", "public", "void", "addDocument(Document", "document)", "45", "46", "public", "void", "flush()", "47", "48", "public", "Iterator<Document>", "documentIterator()", "49", "50", "public", "int", "getNumSegments()", "51", "52", "public", "PositionalIndexSegmentForTest", "getIndexSegment(int", "segmentNum)", "46", "/**", "47", "*", "Reads", "a", "disk", "segment", "of", "a", "positional", "index", "into", "memory", "based", "on", "segmentNum.", "48", "*", "This", "function", "is", "mainly", "used", "for", "checking", "correctness", "in", "test", "cases.", "49", "*", "50", "*", "Throws", "UnsupportedOperationException", "if", "the", "inverted", "index", "is", "not", "a", "positional", "index.", "51", "*", "52", "*", "@param", "segmentNum", "n-th", "segment", "in", "the", "inverted", "index", "(start", "from", "0).", "53", "*", "@return", "in-memory", "data", "structure", "with", "all", "contents", "in", "the", "index", "segment,", "null", "if", "segmentNum", "don't", "exist.", "54", "*/", "55", "public", "PositionalIndexSegmentForTest", "getIndexSegmentPositional(int", "segmentNum)", "53", "56", "54", "57", "}}}", "\u2026", "\u2026", "60", "63", "The", "keywords", "in", "the", "list", "represents", "a", "consecutive", "sequence", "of", "keywords,", "a", "document", "only", "matches", "if", "it", "matches", "the", "sequence", "in", "exact", "order.", "61", "64", "62", "The", "following", "are", "specific", "functions", "to", "implement", ":", "65", "Implement", "the", "following", "function", ":", "63", "66", "64", "67", "{{{", "65", "public", "Iterator<Document>", "pharseSearch(List<String>", "keywords)", "68", "/**", "69", "70", "*", "Performs", "a", "phrase", "search", "on", "a", "positional", "index.", "71", "*", "Phrase", "search", "means", "the", "document", "must", "contain", "the", "consecutive", "sequence", "of", "keywords", "in", "exact", "order.", "72", "*", "73", "*", "You", "could", "assume", "the", "analyzer", "won't", "convert", "each", "keyword", "into", "multiple", "tokens.", "74", "*", "Throws", "UnsupportedOperationException", "if", "the", "inverted", "index", "is", "not", "a", "positional", "index.", "75", "*"], "content_hash": "ddb59d66087bad6e22be68c420900727"}
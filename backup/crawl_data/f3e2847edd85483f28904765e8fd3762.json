{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs222p-2017-fall-project2-description?action=diff&version=1", "word_count": 2844, "words": ["cs222p-2017-fall-project2-description", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Initial", "Version", "and", "Version", "1", "of", "cs222p-2017-fall-project2-description", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "Oct", "10,", "2017,", "6:54:22", "PM", "(", "8", "years", "ago)", "Author:", "Zuozhi", "Wang", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs222p-2017-fall-project2-description", "v1", "v1", "1", "{{{#!div", "style=\"background-color:#f2f3f4\"", "2", "3", "{{{", "4", "#!div", "style=\"background-color:lightblue\"", "5", "=", "CS222P", "Fall", "2017:", "Principles", "of", "Data", "Management", "-", "Project", "2", "Description", "=", "6", "}}}", "7", "8", "=", "Introduction", "=", "9", "In", "this", "project,", "you", "will", "continue", "implementing", "the", "record-based", "file", "manager", "(RBFM).", "Once", "you", "have", "finished", "implementing", "that,", "you", "will", "build", "a", "relation", "manager", "(RM)", "on", "top", "of", "the", "basic", "paged", "file", "system.", "The", "RM", "manager", "should", "meet", "the", "following", "basic", "requirements.", "10", "11", "=", "Basic", "Requirements", "(100", "points)", "=", "12", "13", "14", "==", "Finish", "RBFM", "==", "15", "You", "need", "to", "finish", "the", "implementation", "of", "the", "record-based", "file", "manager", "(RBFM)", "that", "you", "have", "started", "in", "part", "1.", "Specifically,", "you", "should", "finish", "implementing", "the", "following", "methods:", "'''RecordBasedFileManager::deleteRecord()''',", "'''RecordBasedFileManager::updateRecord()''',", "'''RecordBasedFileManager::readAttribute()''',", "and", "'''RecordBasedFileManager::scan()'''.", "Please", "refer", "to", "[wiki:cs222-2016-fall-project1-description", "Project", "1", "Description]", "for", "their", "explanations", "and", "look", "at", "the", "file", "'''rbfm.h'''", "for", "the", "signature", "of", "those", "methods.", "Once", "you", "finish", "the", "implementation", "of", "those", "methods", "and", "test", "them", "well,", "you", "will", "use", "those", "methods", "to", "implement", "the", "relation", "manager", "(please", "have", "a", "look", "at", "the", "file", "'''rm.h''').", "16", "17", "==", "Implement", "the", "Relation", "Manager", "==", "18", "19", "The", "!RelationManager", "class", "is", "responsible", "for", "managing", "the", "database", "tables.", "It", "handles", "the", "creation", "and", "deletion", "of", "tables.", "It", "also", "handles", "the", "basic", "operations", "performed", "on", "top", "of", "a", "table", "(e.g.,", "insert", "and", "delete", "tuples).", "20", "21", "22", "===", "Catalog", "===", "23", "Create", "a", "catalog", "to", "hold", "all", "information", "about", "your", "database.", "This", "includes", "at", "least", "the", "following:", "24", "*", "Table", "information", "(e.g.,", "table-name,", "table-id,", "etc.).", "25", "*", "For", "each", "table,", "the", "columns,", "and", "for", "each", "of", "these", "columns:", "the", "column", "name,", "type,", "length,", "and", "position.", "26", "*", "The", "name", "of", "the", "record-based", "file", "in", "which", "the", "data", "corresponding", "to", "each", "table", "is", "stored.", "27", "28", "It", "is", "mandatory", "to", "store", "the", "catalog", "information", "by", "using", "the", "RBF", "layer", "functions.", "You", "should", "create", "the", "catalog's", "tables", "and", "populate", "them", "the", "first", "time", "your", "database", "is", "initialized", "(when", "the", "method", "createCatalog()", "is", "called).", "Once", "the", "catalog's", "tables", "and", "columns", "tables", "have", "been", "created,", "they", "should", "be", "persisted", "to", "disk.", "Please", "use", "the", "following", "name", "and", "type", "for", "the", "catalog", "tables", "and", "columns.", "You", "can", "add", "more", "attributes", "you", "want/need", "to.", "However,", "please", "do", "not", "change", "the", "given", "name", "of", "these", "two", "tables", "or", "their", "attribute", "names.", "29", "30", "{{{", "31", "Tables", "(table-id:int,", "table-name:varchar(50),", "file-name:varchar(50))", "32", "Columns(table-id:int,", "column-name:varchar(50),", "column-type:int,", "column-length:int,", "column-position:int)", "33", "}}}", "34", "35", "An", "example", "of", "the", "records", "that", "should", "be", "in", "these", "two", "tables", "after", "creating", "a", "table", "named", "\"Employee\"", "is:", "36", "37", "{{{", "38", "Tables", "39", "(1,", "\"Tables\",", "\"Tables\")", "40", "(2,", "\"Columns\",", "\"Columns\")", "41", "(3,", "\"Employee\",", "\"Employee\")", "42", "43", "Columns", "44", "(1,", "\"table-id\",", "TypeInt,", "4", ",", "1)", "45", "(1,", "\"table-name\",", "TypeVarChar,", "50,", "2)", "46", "(1,", "\"file-name\",", "TypeVarChar,", "50,", "3)", "47", "(2,", "\"table-id\",", "TypeInt,", "4,", "1)", "48", "(2,", "\"column-name\",", "TypeVarChar,", "50,", "2)", "49", "(2,", "\"column-type\",", "TypeInt,", "4,", "3)", "50", "(2,", "\"column-length\",", "TypeInt,", "4,", "4)", "51", "(2,", "\"column-position\",", "TypeInt,", "4,", "5)", "52", "(3,", "\"empname\",", "TypeVarChar,", "30,", "1)", "53", "(3,", "\"age\",", "TypeInt,", "4,", "2)", "54", "(3,", "\"height\",", "TypeReal,", "4,", "3)", "55", "(3,", "\"salary\",", "TypeInt,", "4,", "4)", "56", "}}}", "57", "Note", "that", "!TypeInt,", "!TypevarChar,", "and", "!TypeReal", "are", "the", "enum", "types", "used", "to", "represent", "an", "attribute", "type", "and", "defined", "in", "the", "rbfm.h", "file.", "Also", "for", "the", "file-name", "attribute,", "you", "can", "use", "your", "own", "naming", "conventions", "if", "you", "want", "(e.g,.", "\"Tables.tbl\"", "for", "Tables", "table).", "In", "this", "example,", "The", "last", "row", "of", "Tables", "table", "states", "that", "the", "table-id", "of", "the", "\"Employee\"", "table", "is", "3,", "its", "name", "is", "\"Employee\",", "and", "the", "RBF", "file", "associated", "with", "this", "table", "is", "\"Employee\".", "The", "last", "line", "of", "the", "Columns", "table", "shows", "the", "information", "about", "the", "\"salary\"", "column", "of", "the", "\"Employee\"", "table.", "Specifically,", "the", "table-id", "is", "3,", "the", "column-name", "is", "\"salary\",", "the", "type", "of", "this", "column", "is", "Int,", "its", "length", "is", "4,", "and", "the", "position", "of", "this", "column", "is", "4.", "58", "59", "The", "catalog", "tables", "(Tables", "and", "Columns)", "should", "be", "created", "when", "the", "method", "createCatalog()", "is", "called.", "All", "other", "subsequent", "invocations", "of", "your", "database", "should", "use", "the", "already", "created", "catalog's", "tables.", "The", "catalog", "tables", "will", "be", "deleted", "when", "the", "deleteCatalog()", "is", "called.", "Between", "the", "createCatalog()", "and", "deleteCatalog()", "methods,", "the", "catalog", "should", "be", "persistent", "on", "disk.", "Please", "note", "that", "users", "should", "be", "able", "to", "query", "your", "catalog's", "tables", "as", "any", "other", "table,", "but", "they", "should", "not", "be", "allowed", "to", "modify", "its", "content", "through", "the", "RM", "API.", "Modifications", "of", "the", "catalog's", "tables", "should", "be", "only", "allowed", "from", "internal", "calls", "(for", "instance,", "when", "creating", "a", "user", "table", "or", "deleting", "a", "user", "table,", "etc.).", "To", "do", "this,", "you", "may", "need", "to", "have", "a", "\"system\"", "vs.", "\"user\"", "flag", "in", "your", "Tables", "catalog", "so", "you", "can", "distinguish", "\"system", "tables\"", "from", "\"user", "tables\"", "and", "make", "it", "illegal", "to", "do", "anything", "but", "reading", "\"system", "tables\"", "through", "the", "RM", "layer.", "If", "you", "take", "this", "design,", "then", "you", "need", "to", "add", "one", "more", "column", "to", "the", "two", "schemas", "defined", "above.", "60", "61", "===", "!RelationManager", "class", "===", "62", "63", "The", "following", "is", "more", "information", "about", "the", "!RelationManager", "class.", "Your", "program", "should", "create", "exactly", "one", "instance", "of", "this", "class,", "and", "all", "requests", "for", "the", "RM", "component", "should", "be", "directed", "to", "that", "instance.", "The", "public", "methods", "of", "the", "class", "declaration", "are", "shown", "first,", "followed", "by", "descriptions", "of", "the", "methods.", "The", "last", "two", "methods", "in", "the", "class", "declaration", "are", "the", "constructor", "and", "destructor", "methods", "and", "are", "not", "explained", "further.", "'''Note:'''", "your", "tuple-oriented", "file", "system", "must", "create", "a", "relation", "manager", "(RM)", "that", "initializes", "the", "catalog", "information", "you", "may", "need", "to", "store.", "It", "also", "internally", "creates", "a", "record-based", "file", "manager", "using", "the", "implementation", "from", "Project", "1.", "64", "65", "{{{", "66", "class", "RelationManager", "67", "{", "68", "public:", "69", "RC"], "content_hash": "34a6bb57f808bf521d3feeac0ef62b30"}
{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs222p-2018-fall-project4?action=diff&version=1", "word_count": 4275, "words": ["cs222p-2018-fall-project4", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Initial", "Version", "and", "Version", "1", "of", "cs222p-2018-fall-project4", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "Nov", "20,", "2018,", "4:30:43", "PM", "(", "7", "years", "ago)", "Author:", "Abulrahman", "Abdulhamid", "Alsaudi", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs222p-2018-fall-project4", "v1", "v1", "1", "{{{", "2", "#!div", "style=\"background-color:rgb(237,222,222)\"", "3", "4", "5", "[[PageOutline]]", "6", "7", "=", "Project", "4:", "Implementing", "a", "Query", "Engine", "with", "the", "Extension", "of", "the", "Relation", "Manager", "=", "8", "*", "'''", "Deadline:", "Friday,", "Dec", "7,", "2018", "at", "11:45", "pm,", "on", "Github.'''", "9", "*", "'''", "Full", "Credit:", "100", "points", "'''", "10", "*", "'''", "Maximum", "Extra", "Credit:", "15", "points.", "'''[[br]]", "11", "*", "'''", "As", "in", "Projects", "2", "and", "3,", "you", "should", "work", "with", "your", "original", "team", "member", "for", "this", "Project.", "'''", "12", "13", "==", "Introduction", "==", "14", "In", "this", "project,", "you", "will", "first", "extend", "the", "!RelationManager", "(RM)", "component", "that", "you", "implemented", "for", "project", "2", "so", "that", "the", "RM", "layer", "can", "orchestrate", "both", "the", "!RecordBasedFileManager", "(RBF)", "and", "!IndexManager", "(IX)", "layers", "when", "tuple-level", "operations", "happen,", "and", "the", "RM", "layer", "will", "also", "be", "managing", "the", "catalog", "information", "related", "to", "indices", "at", "this", "level.", "After", "the", "RM", "layer", "extension,", "you", "will", "implement", "a", "!QueryEngine", "(QE)", "component.", "The", "QE", "component", "provides", "classes", "and", "methods", "for", "answering", "SQL", "queries.", "For", "simplicity,", "you", "only", "need", "to", "implement", "several", "basic", "relational", "operators.", "All", "operators", "are", "iterator-based.", "To", "give", "you", "a", "jumpstart,", "we've", "implemented", "two", "wrapper", "operators", "on", "top", "of", "the", "RM", "layer", "that", "provide", "file", "and", "index", "scanning.", "See", "the", "[wiki:cs222p-2018-fall-project4#Appendix", "Appendix]", "for", "more", "details.[[BR]]", "15", "16", "You", "can", "pull", "again", "from", "our", "[https://github.com/UCI-Chenli-teaching/cs222p-fall18", "github", "repo]", "to", "get", "the", "project", "template.", "17", "See", "also", "the", "test", "cases", "included", "in", "the", "codebase", "for", "in-depth", "examples", "of", "how", "the", "operators", "are", "used.", "18", "19", "20", "[[BR]]", "21", "=", "Part", "4.1:", "!RelationManager", "Extensions", "=", "22", "==", "!RelationManager", "==", "23", "All", "of", "the", "methods", "that", "you", "implemented", "for", "Project", "2", "should", "now", "be", "extended", "to", "coordinate", "data", "files", "plus", "any", "associated", "indices", "of", "the", "data", "files.", "For", "example,", "if", "you", "insert", "a", "tuple", "into", "a", "table", "using", "RelationManager::insertTuple(),", "the", "tuple", "should", "be", "inserted", "into", "the", "table", "(via", "the", "RBF", "layer)", "and", "each", "corresponding", "entry", "should", "be", "inserted", "into", "each", "associated", "index", "of", "the", "table", "(via", "the", "IX", "layer).", "Also,", "if", "you", "delete", "a", "table", "using", "RelationManager::deleteTable(),", "all", "associated", "indices", "should", "be", "deleted,", "too.", "This", "applies", "both", "to", "catalog", "entries", "that", "record", "what's", "what", "and", "to", "the", "file", "artifacts", "themselves.", "The", "!RelationManager", "class,", "in", "addition", "to", "enforcing", "the", "coordination", "semantics", "between", "data", "files", "and", "the", "indices", "in", "your", "existing", "methods,", "will", "also", "include", "the", "following", "newly-added", "index-related", "methods.", "These", "methods", "can", "all", "be", "implemented", "by", "simply", "delegating", "their", "work", "to", "the", "underlying", "IX", "layer", "that", "you", "built", "in", "Project", "3.", "(This", "part", "of", "the", "project", "is", "largely", "a", "big", "wrapper.", ":-))", "24", "25", "{{{", "26", "class", "RelationManager", "27", "{", "28", "public:", "29", "...", "30", "RC", "createIndex(const", "string", "&tableName,", "const", "string", "&attributeName);", "31", "32", "RC", "destroyIndex(const", "string", "&tableName,", "const", "string", "&attributeName);", "33", "34", "//", "indexScan", "returns", "an", "iterator", "to", "allow", "the", "caller", "to", "go", "through", "qualified", "entries", "in", "index", "35", "RC", "indexScan(const", "string", "&tableName,", "36", "const", "string", "&attributeName,", "37", "const", "void", "*lowKey,", "38", "const", "void", "*highKey,", "39", "bool", "lowKeyInclusive,", "40", "bool", "highKeyInclusive,", "41", "RM_IndexScanIterator", "&rm_IndexScanIterator", "42", ");", "43", "...", "44", "}", "45", "}}}", "46", "47", "===", "RC", "createIndex(const", "string", "&tableName,", "const", "string", "&attributeName)", "===", "48", "This", "method", "creates", "an", "index", "on", "a", "given", "attribute", "of", "a", "given", "table.", "(It", "should", "also", "reflect", "its", "existence", "in", "the", "catalogs.)", "49", "50", "===", "RC", "destroyIndex(const", "string", "&tableName,", "const", "string", "&attributeName)", "===", "51", "This", "method", "destroys", "an", "index", "on", "a", "given", "attribute", "of", "a", "given", "table.", "(It", "should", "also", "reflect", "its", "non-existence", "in", "the", "catalogs.)", "52", "53", "===", "RC", "indexScan(const", "string", "&tableName,", "const", "string", "&attributeName,", "const", "void", "*lowKey,", "const", "void", "*highKey,", "bool", "lowKeyInclusive,", "bool", "highKeyInclusive,", "RM_IndexScanIterator", "&rm_IndexScanIterator)", "===", "54", "This", "method", "should", "initialize", "a", "condition-based", "scan", "over", "the", "entries", "in", "the", "open", "index", "on", "the", "given", "attribute", "of", "the", "given", "table.", "If", "the", "scan", "initiation", "method", "is", "successful,", "a", "RM_IndexScanIterator", "object", "called", "rm_IndexScanIterator", "is", "returned.", "(Please", "see", "the", "RM_IndexScanIterator", "class", "below.)", "Once", "underway,", "by", "calling", "RM_IndexScanIterator::getNextEntry(),", "the", "iterator", "should", "produce", "the", "entries", "of", "all", "records", "whose", "indexed", "attribute", "key", "falls", "into", "the", "range", "specified", "by", "the", "lowKey,", "highKey,", "and", "inclusive", "flags.", "If", "lowKey", "is", "NULL,", "it", "can", "be", "interpreted", "as", "-infinity.", "If", "highKey", "is", "NULL,", "it", "can", "be", "interpreted", "as", "+infinity.", "The", "format", "of", "the", "parameter", "lowKey", "and", "highKey", "is", "the", "same", "as", "the", "format", "of", "the", "key", "in", "IndexManager::insertEntry().", "55", "56", "==", "RM_IndexScanIterator", "==", "57", "{{{", "58", "class", "RM_IndexScanIterator", "{", "59", "public:", "60", "RM_IndexScanIterator();", "//", "Constructor", "61", "~RM_IndexScanIterator();", "//", "Destructor", "62", "63", "//", "\"key\"", "follows", "the", "same", "format", "as", "in", "IndexManager::insertEntry()", "64", "RC", "getNextEntry(RID", "&rid,", "void", "*key);", "//", "Get", "next", "matching", "entry", "65", "RC", "close();", "//", "Terminate", "index", "scan", "66", "};", "67", "}}}", "68", "69", "===", "RC", "getNextEntry(RID", "&rid,", "void", "*key)", "===", "70", "This", "method", "should", "set", "its", "output", "parameters", "rid", "and", "key", "to", "be", "the", "RID", "and", "key,", "respectively,", "of", "the", "next", "record", "in", "the", "index", "scan.", "This", "method", "should", "return", "RM_EOF", "if", "there", "are", "no", "index", "entries", "left", "satisfying", "the", "scan", "condition.", "You", "may", "assume", "that", "RM", "component", "clients", "will", "not", "close", "the", "corresponding", "open", "index", "while", "a", "scan", "is", "underway.", "71", "72", "===", "RC", "close()", "===", "73", "This", "method", "should", "terminate", "the", "index", "scan.", "74", "75", "76", "[[BR]]", "77", "[[BR]]", "78", "=", "Part", "4.2:", "Query", "Engine", "=", "79", "==", "Iterator", "Interface", "==", "80", "All", "of", "the", "operators", "that", "you", "will", "implement", "in", "this", "part", "inherit", "from", "the", "following", "'''Iterator'''", "interface.", "81", "82", "{{{", "83", "class", "Iterator", "{", "84", "//", "All", "the", "relational", "operators", "and", "access", "methods", "are", "iterators", "85", "//", "This", "class", "is", "the", "super", "class", "of", "all", "the", "following", "operator", "classes", "86", "public:", "87", "virtual", "RC", "getNextTuple(void", "*data)", "=", "0;", "88", "//", "For", "each", "attribute", "in", "vector<Attribute>,", "name", "it", "rel.attr"], "content_hash": "f44bc84a9f9248bdc3fd818cf4f2b56d"}
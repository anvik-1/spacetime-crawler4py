{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs221-2019-spring-project2", "word_count": 1805, "words": ["c", "221-2019-", "pring-project2", "\u2013", "Public", "Login", "Preference", "About", "Trac", "Regi", "ter", "wiki:", "c", "221-2019-", "pring-project2", "Context", "Navigation", "Hi", "tory", "CS221:", "Project", "2", "-", "II:", "Inverted", "index,", "boolean", "earch", "Te", "t", "Ca", "e", "Due:", "Week", "4", "Tu.", "(Apr", "23),", "Due", "on", "Github", "a", "Pull", "Reque", "t", "Review", "Due:", "Week", "4,", "Fri.", "(Apr", "26),", "Due", "on", "Github", "a", "Pull", "Reque", "t", "Comment", "Final", "Code", "Due:", "Week", "5,", "Sun.", "(May.", "5),", "Due", "on", "Github.", "Codeba", "e", "\u200b", "github", "repo", "Coding", "Ta", "k", "Implement", "LSM-like", "di", "k-ba", "ed", "inverted", "index", "that", "upport", "in", "ertion", ".", "(6", "point", ")", "Implement", "merge", "of", "inverted", "index", "egment", ".", "(4", "point", ")", "Implement", "keyword", "earch,", "boolean", "AND", "earch,", "and", "boolean", "OR", "earch.", "(5", "point", ")", "(Optional", "Extra", "Credit):", "Implement", "deletion", ".", "(2", "point", ")", "Te", "ting", "Ta", "k", "Write", "at", "lea", "t", "2", "te", "t", "ca", "e", "for", "a", "ta", "k", "(2", "point", ")", "Review", "the", "te", "t", "ca", "e", "of", "two", "team", "(2", "point", ")", "Total:", "19", "point", "(+", "2", "extra", "credit", ")", "Overview", "In", "thi", "project,", "you'll", "be", "implementing", "a", "di", "k-ba", "ed", "inverted", "index", "and", "the", "earch", "operation", ".", "At", "a", "high", "level,", "inverted", "index", "tore", "a", "mapping", "from", "keyword", "to", "the", "id", "of", "document", "they", "appear", "in.", "A", "imple", "in-memory", "tructure", "could", "be", "Map<String,", "Li", "t<Integer>>", ",", "where", "each", "key", "i", "a", "keyword", "token", "(al", "o", "called", "a", "\"term\"),", "and", "each", "value", "i", "a", "li", "t", "of", "(often", "orted)", "document", "ID", "(al", "o", "called", "\"po", "ting", "\").", "In", "thi", "project,", "the", "di", "k-ba", "ed", "index", "tructure", "i", "ba", "ed", "on", "the", "idea", "of", "LSM", "(Log-Structured", "Merge", "tree).", "It", "main", "idea", "i", "the", "following:", "The", "inverted", "index", "con", "i", "t", "of", "multiple", "index", "egment", ",", "where", "each", "egment", "i", "initially", "created", "in", "memory.", "Once", "a", "egment", "i", "written", "to", "di", "k,", "it", "become", "immutable", "and", "i", "never", "changed.", "Each", "index", "egment", "i", "a", "fully", "earchable", "inverted", "index.", "It", "contain", "a", "po", "ting", "li", "t", "tructure", "a", "well", "a", "a", "document", "tore,", "which", "i", "a", "mapping", "from", "a", "docID", "to", "the", "corre", "ponding", "document.", "The", "document", "ID", "within", "each", "egment", "are", "local", "in", "the", "egment", "and", "are", "invi", "ible", "to", "the", "u", "er.", "The", "e", "in-di", "k", "egment", "are", "periodically", "merged", "to", "bigger", "egment", ".", "When", "u", "er", "earch", "a", "keyword,", "all", "egment", "are", "earched,", "and", "the", "re", "ult", "document", "from", "each", "egment", "are", "combined.", "Example:", "Add", "document", "Doc{\"cat", "dog\"}", "and", "Doc{\"cat", "elephant\"},", "then", "flu", "h", "to", "Segment0.", "Segment0:", "----------", "Po", "tingLi", "t:", "{\"cat\":", "[0,", "1],", "\"dog\":", "[0],", "\"elephant\":", "[1]}", "DocStore:", "{0:", "\"cat", "dog\",", "1:", "\"cat", "elephant\"}", "----------", "Then", "add", "document", "Doc{\"cat", "dog\"}", "and", "Doc{\"wolf", "dog\"},", "and", "flu", "h", "to", "Segment1.", "Segment1:", "----------", "Po", "tingLi", "t:", "{\"cat\":", "[0],", "\"dog\":", "[0,", "1],", "\"wolf\":", "[1]}", "DocStore:", "{0:", "\"cat", "dog\",", "1:", "\"wolf", "dog\"}", "----------", "When", "earching", "the", "word", "\"cat\",", "we", "fir", "t", "earch", "Segment0", "and", "get", "[Doc{\"cat", "dog\"},", "Doc{\"cat", "elephant\"}].", "Then", "we", "earch", "Segment1", "and", "get", "[Doc{\"cat", "dog\"}].", "We", "combine", "the", "e", "re", "ult", "and", "get", "[Doc{\"cat", "dog\"},", "Doc{\"cat", "elephant\"},", "Doc{\"cat", "dog\"}]", "Ta", "k", "1:", "Implement", "LSM-like", "di", "k-ba", "ed", "inverted", "index", "that", "upport", "in", "ertion", "only.", "In", "thi", "ta", "k,", "you'll", "implement", "the", "di", "k", "file", "tructure", "of", "a", "ingle", "egment.", "When", "a", "document", "i", "added", "via", "addDocument()", ",", "it", "hould", "be", "fir", "t", "tored", "in", "an", "in-memory", "buffer.", "You", "need", "to", "de", "ign", "the", "data", "tructure", "for", "the", "in-memory", "egment.", "Whenever", "the", "number", "of", "document", "reache", "a", "parameter", "default_flu", "h_thre", "hold", ",", "or", "function", "flu", "h()", "i", "called,", "you", "hould", "flu", "h", "the", "egment", "to", "di", "k.", "The", "pecific", "format", "of", "the", "di", "k", "po", "ting", "li", "t", "hould", "follow", "what", "we", "cover", "in", "lecture", ".", "You", "al", "o", "have", "freedom", "to", "improve", "the", "format", "to", "make", "it", "more", "efficient.", "The", "following", "are", "pecific", "function", "to", "implement:", "/**", "*", "Add", "a", "document", "to", "the", "inverted", "index.", "*", "Document", "hould", "live", "in", "an", "in-memory", "buffer", "until", "flu", "h()", "i", "called", "to", "write", "the", "egment", "to", "di", "k.", "*", "@param", "document", "*/", "public", "void", "addDocument(Document", "document)", "/**", "*", "Flu", "he", "all", "the", "document", "in", "the", "in-memory", "buffer", "to", "di", "k.", "If", "the", "buffer", "i", "empty,", "it", "hould", "not", "do", "anything.", "*", "flu", "h()", "write", "the", "egment", "to", "di", "k", "containing", "the", "po", "ting", "li", "t", "and", "the", "corre", "ponding", "document", "tore.", "*/", "public", "void", "flu", "h()", "/**", "*", "Iterate", "through", "all", "the", "document", "in", "all", "the", "di", "k", "egment", ".", "*/", "public", "Iterator<Document>", "documentIterator()", "{", "throw", "new", "Un", "upportedOperationException();", "}", "/**", "*", "Get", "the", "total", "number", "of", "egment", "in", "the", "inverted", "index.", "*", "Thi", "function", "i", "u", "ed", "for", "checking", "correctne", "in", "te", "t", "ca", "e", ".", "*", "*", "@return", "number", "of", "index", "egment", ".", "*/", "public", "int", "getNumSegment", "()", "/**", "*", "Read", "a", "di", "k", "egment", "into", "memory", "ba", "ed", "on", "egmentNum.", "*", "Thi", "function", "i", "mainly", "u", "ed", "for", "checking", "correctne", "in", "te", "t", "ca", "e", ".", "*", "*", "@param", "egmentNum", "n-th", "egment", "in", "the", "inverted", "index", "(", "tarting", "from", "0).", "*", "@return", "in-memory", "data", "tructure", "with", "all", "the", "content", "in", "the", "index", "egment,", "null", "if", "*", "the", "egment", "of", "egmentNum", "doe", "n't", "exi", "t.", "*/", "public", "InvertedIndexSegmentForTe", "t", "getIndexSegment(int", "egmentNum)", "Ta", "k", "2:", "Implement", "merge", "of", "di", "k", "egment", ".", "In", "thi", "ta", "k,", "you'll", "implement", "the", "merging", "of", "di", "k", "egment", ".", "We", "cannot", "let", "the", "number", "of", "egment", "grow", "indefinitely", "becau", "e", "otherwi", "e", "earching", "a", "keyword", "need", "to", "go", "through", "a", "lot", "of", "egment", ".", "In", "general,", "there", "are", "many", "merging", "policie", ".", "In", "thi", "ta", "k,", "we", "want", "to", "implement", "a", "particular", "policy.", "Whenever", "the", "number", "of", "egment", "ha", "reached", "a", "parameter", "default_merge_thre", "hold", ",", "or", "mergeAllSegment", "()", "i", "called,", "you", "need", "to", "merge", "all", "the", "di", "k", "egment", "pair-wi", "e.", "For", "example,", "uppo", "e", "there", "are", "10", "di", "k", "egment", ".", "After", "the", "merge,", "we", "hould", "have", "5", "di", "k", "egment", ".", "You", "could", "a", "ume", "merging", "only", "happen", "when", "you", "have", "an", "even", "number", "of", "egment", ".", "When", "merging", "two", "egment", "into", "one,", "ince", "each", "egment", "ha", "it", "own", "local", "document", "ID", ",", "you", "need", "to", "generate", "new", "document", "ID"], "content_hash": "55a16738a8c4663721ce20f15face66a"}
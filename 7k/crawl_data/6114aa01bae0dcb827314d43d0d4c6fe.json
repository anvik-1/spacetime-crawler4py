{"url": "https://grape.ics.uci.edu/wiki/public/raw-attachment/wiki/cs122b-2018-winter-project3/DomParserExample.java", "word_count": 528, "words": ["import", "java.io.IOException;", "import", "java.util.ArrayLi", "t;", "import", "java.util.Iterator;", "import", "java.util.Li", "t;", "import", "javax.xml.par", "er", ".DocumentBuilder;", "import", "javax.xml.par", "er", ".DocumentBuilderFactory;", "import", "javax.xml.par", "er", ".Par", "erConfigurationException;", "import", "org.w3c.dom.Document;", "import", "org.w3c.dom.Element;", "import", "org.w3c.dom.NodeLi", "t;", "import", "org.xml.", "ax.SAXException;", "public", "cla", "DomPar", "erExample", "{", "Li", "t", "myEmpl", ";", "Document", "dom;", "public", "DomPar", "erExample()", "{", "//create", "a", "li", "t", "to", "hold", "the", "employee", "object", "myEmpl", "=", "new", "ArrayLi", "t<>();", "}", "public", "void", "runExample()", "{", "//par", "e", "the", "xml", "file", "and", "get", "the", "dom", "object", "par", "eXmlFile();", "//get", "each", "employee", "element", "and", "create", "a", "Employee", "object", "par", "eDocument();", "//Iterate", "through", "the", "li", "t", "and", "print", "the", "data", "printData();", "}", "private", "void", "par", "eXmlFile()", "{", "//get", "the", "factory", "DocumentBuilderFactory", "dbf", "=", "DocumentBuilderFactory.newIn", "tance();", "try", "{", "//U", "ing", "factory", "get", "an", "in", "tance", "of", "document", "builder", "DocumentBuilder", "db", "=", "dbf.newDocumentBuilder();", "//par", "e", "u", "ing", "builder", "to", "get", "DOM", "repre", "entation", "of", "the", "XML", "file", "dom", "=", "db.par", "e(\"employee", ".xml\");", "}", "catch", "(Par", "erConfigurationException", "pce)", "{", "pce.printStackTrace();", "}", "catch", "(SAXException", "e)", "{", "e.printStackTrace();", "}", "catch", "(IOException", "ioe)", "{", "ioe.printStackTrace();", "}", "}", "private", "void", "par", "eDocument()", "{", "//get", "the", "root", "elememt", "Element", "docEle", "=", "dom.getDocumentElement();", "//get", "a", "nodeli", "t", "of", "element", "NodeLi", "t", "nl", "=", "docEle.getElement", "ByTagName(\"Employee\");", "if", "(nl", "!=", "null", "&&", "nl.getLength()", ">", "0)", "{", "for", "(int", "i", "=", "0;", "i", "<", "nl.getLength();", "i++)", "{", "//get", "the", "employee", "element", "Element", "el", "=", "(Element)", "nl.item(i);", "//get", "the", "Employee", "object", "Employee", "e", "=", "getEmployee(el);", "//add", "it", "to", "li", "t", "myEmpl", ".add(e);", "}", "}", "}", "/**", "*", "I", "take", "an", "employee", "element", "and", "read", "the", "value", "in,", "create", "*", "an", "Employee", "object", "and", "return", "it", "*", "*", "@param", "empEl", "*", "@return", "*/", "private", "Employee", "getEmployee(Element", "empEl)", "{", "//for", "each", "element", "get", "text", "or", "int", "value", "of", "//name", ",id,", "age", "and", "name", "String", "name", "=", "getTextValue(empEl,", "\"Name\");", "int", "id", "=", "getIntValue(empEl,", "\"Id\");", "int", "age", "=", "getIntValue(empEl,", "\"Age\");", "String", "type", "=", "empEl.getAttribute(\"type\");", "//Create", "a", "new", "Employee", "with", "the", "value", "read", "from", "the", "xml", "node", "Employee", "e", "=", "new", "Employee(name,", "id,", "age,", "type);", "return", "e;", "}", "/**", "*", "I", "take", "a", "xml", "element", "and", "the", "tag", "name,", "look", "for", "the", "tag", "and", "get", "*", "the", "text", "content", "*", "i.e", "for", "John", "xml", "nippet", "if", "*", "the", "Element", "point", "to", "employee", "node", "and", "tagName", "i", "name", "I", "will", "return", "John", "*", "*", "@param", "ele", "*", "@param", "tagName", "*", "@return", "*/", "private", "String", "getTextValue(Element", "ele,", "String", "tagName)", "{", "String", "textVal", "=", "null;", "NodeLi", "t", "nl", "=", "ele.getElement", "ByTagName(tagName);", "if", "(nl", "!=", "null", "&&", "nl.getLength()", ">", "0)", "{", "Element", "el", "=", "(Element)", "nl.item(0);", "textVal", "=", "el.getFir", "tChild().getNodeValue();", "}", "return", "textVal;", "}", "/**", "*", "Call", "getTextValue", "and", "return", "a", "int", "value", "*", "*", "@param", "ele", "*", "@param", "tagName", "*", "@return", "*/", "private", "int", "getIntValue(Element", "ele,", "String", "tagName)", "{", "//in", "production", "application", "you", "would", "catch", "the", "exception", "return", "Integer.par", "eInt(getTextValue(ele,", "tagName));", "}", "/**", "*", "Iterate", "through", "the", "li", "t", "and", "print", "the", "*", "content", "to", "con", "ole", "*/", "private", "void", "printData()", "{", "Sy", "tem.out.println(\"No", "of", "Employee", "'\"", "+", "myEmpl", ".", "ize()", "+", "\"'.\");", "Iterator", "it", "=", "myEmpl", ".iterator();", "while", "(it.ha", "Next())", "{", "Sy", "tem.out.println(it.next().toString());", "}", "}", "public", "tatic", "void", "main(String[]", "arg", ")", "{", "//create", "an", "in", "tance", "DomPar", "erExample", "dpe", "=", "new", "DomPar", "erExample();", "//call", "run", "example", "dpe.runExample();", "}", "}"], "content_hash": "f829789a831ef4a8c080dde8d3b5c5d1"}
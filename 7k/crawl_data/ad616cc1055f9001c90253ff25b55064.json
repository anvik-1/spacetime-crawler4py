{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs221-2019-spring-project4", "word_count": 1584, "words": ["c", "221-2019-", "pring-project4", "\u2013", "Public", "Login", "Preference", "About", "Trac", "Regi", "ter", "wiki:", "c", "221-2019-", "pring-project4", "Context", "Navigation", "Hi", "tory", "CS221:", "Project", "4", "-", "RA:", "Ranking", "Te", "t", "Ca", "e", "Due:", "Week", "9", "Tue.", "(May", "28)", "Week", "9", "Th.", "(May", "30),", "Due", "on", "Github", "a", "Pull", "Reque", "t", "Review", "Due:", "Week", "9", "Fri.", "(May", "31)", "Week", "9", "Sun", "(June", "2),", "Due", "on", "Github", "a", "Pull", "Reque", "t", "Comment", "Final", "Code", "Due:", "Week", "10,", "Sun.", "(June", "9),", "Due", "on", "Github.", "Coding", "Ta", "k", "Implement", "TF-IDF", "ranking", "(Co", "ine)", "(10", "point", ")", "Implement", "PageRank", "and", "run", "with", "ICS", "web", "ite", "(5", "point", ")", "Te", "ting", "Ta", "k", "Write", "at", "lea", "t", "1", "te", "t", "ca", "e", "for", "a", "ta", "k", "(2", "point", ")", "Review", "the", "te", "t", "ca", "e", "of", "two", "team", "(2", "point", ")", "Total:", "19", "point", "Overview", "In", "thi", "project,", "you'll", "implement", "two", "ranking", "method", ":", "TF-IDF", "(Co", "ine)", "and", "PageRank.", "Ta", "k", "1:", "Implement", "TF-IDF", "ranking.", "Modify", "both", "your", "InvertedIndex", "from", "Project", "2", "and", "Po", "itionalIndex", "from", "Project", "3", "to", "include", "all", "nece", "ary", "information", "to", "calculate", "TF-IDF", "core", ".", "Implement", "the", "following", "earchTfIdf", "function", "that", "return", "the", "top-K", "document", "ranked", "by", "TF-IDF", "core", ".", "Fir", "t,", "we'll", "go", "over", "an", "example", "to", "calculate", "TF-IDF", "Co", "ine", "core", "u", "ing", "the", "vector", "pace", "model.", "Segment", "1", "d1:", "\u201cnew", "york", "city\u201d", "d2:", "\u201clo", "angele", "city\u201d", "Segment", "2", "d1:", "\u201cnew", "york", "po", "t\u201d", "Query", "q:", "\"new", "new", "city\".", "(We", "u", "e", "two", "copie", "of", "\"new\"", "on", "purpo", "e.)", "Number", "of", "document", "in", "the", "y", "tem:", "3.", "Document", "frequency", "for", "query", "keyword", ":", "new", "=", "2", "{", "1d1,", "2d1}", "city", "=", "2", "{", "1d1,", "1d2}", "IDF:", "new", "=", "log(3/2)", "\u2248", "0.18", "city", "=", "log(3/2)", "\u2248", "0.18", "TF", "(Term", "frequency):", "new", "=", "{", "1d1:", "1,", "2d1:", "1,", "query:", "2}", "city", "=", "{", "1d1:", "1,", "1d2:", "1,", "query:", "1}", "TF-IDF", "vector", "of", "document", "and", "query:", "1d1", "=", "[new:", "1", "*", "IDF(new),", "city:", "1", "*", "IDF(city)]", "=", "[0.18,", "0.18]", "1d2", "=", "[new:", "0,", "city:", "1", "*", "IDF(city)]", "=", "[0", ",", "0.18]", "2d1", "=", "[new:", "1", "*", "IDF(new),", "city:", "0]", "=", "[0.18,", "0", "]", "query", "=", "[new:", "2", "*", "IDF(new),", "city:", "1", "*", "IDF(city)]", "=", "[0.36,", "0.18]", "Co", "ine", "imilarity", "between", "the", "query", "and", "each", "document:", "im(", "1d1,", "q)", "=", "1d1", "\u00b7", "query", "/", "\u2016", "1d1\u2016", "=", "(0.18", "*", "0.36", "+", "0.18", "*", "0.18)", "/", "qrt(0.18^2", "+", "0.18^2)", "\u2248", "0.38", "im(", "1d2,", "q)", "=", "(0", "*", "0.36", "+", "0.18", "*", "0.18)", "/", "qrt(0", "+", "0.18^2)", "=", "0.18", "im(", "2d1,", "q)", "=", "(0.18", "*", "0.36", "+", "0", "*", "0.18)", "/", "qrt(0.18^2", "+", "0)", "=", "0.36", "So", "the", "ranked", "order", "of", "the", "document", "i", ":", "[", "1d1,", "2d1,", "1d2].", "Next", "we'll", "di", "cu", "a", "two-pa", "method", "to", "calculate", "the", "e", "core", ".", "For", "each", "query", "keyword,", "ince", "it", "ha", "inverted", "li", "t", "in", "multiple", "LSM", "egment", ",", "in", "order", "to", "compute", "it", "global", "IDF,", "we", "need", "to", "know", "the", "frequency", "of", "thi", "word", "in", "each", "egment.", "In", "the", "fir", "t", "pa", ",", "we", "acce", "each", "egment", "to", "retrieve", "the", "frequency", "of", "each", "query", "keyword,", "a", "well", "a", "the", "number", "of", "document", "within", "the", "egment,", "and", "u", "e", "the", "e", "value", "to", "calculate", "the", "IDF'", "of", "the", "query", "keyword", ".", "In", "the", "econd", "pa", ",", "within", "each", "egment,", "we", "traver", "e", "the", "inverted", "li", "t", "of", "a", "query", "keyword,", "and", "u", "e", "the", "(local)", "TF", "for", "each", "document", "and", "the", "(global)", "IDF", "of", "the", "keyword", "to", "compute", "the", "TF-IDF", "value", "for", "thi", "keyword", "and", "thi", "document.", "We", "accumulate", "the", "product", "of", "thi", "value", "and", "the", "corre", "ponding", "TF-IDF", "value", "of", "the", "query", "keyword", "in", "order", "to", "compute", "the", "dot", "product", "of", "the", "document", "and", "the", "query.", "Furthermore,", "for", "each", "document,", "ince", "we", "need", "to", "normalize", "it", "TF-IDF", "vector", "by", "it", "length,", "we", "al", "o", "need", "to", "accumulate", "the", "quare", "of", "the", "TF-IDF'", "of", "the", "query", "keyword", "in", "thi", "document.", "The", "following", "i", "the", "p", "eudo", "code:", "Map<DocID,", "Double>", "dotProductAccumulator;", "//", "DocID", "i", "<SegmentID,", "LocalDocID>", "Map<DocID,", "Double>", "vectorLengthAccumulator;", "for", "each", "egment:", "for", "each", "query", "token", "w:", "for", "each", "docID", "on", "the", "po", "tingLi", "t", "of", "w:", "tfidf", "=", "TF(w,", "docID)", "*", "IDF(w);", "dotProductAccumulator[docID]", "+=", "tfidf", "*", "queryTfIdf[w];", "vectorLengthAccumulator[docID]", "+=", "tfidf", "^", "2;", "for", "each", "docID", "in", "thi", "egment", "core(docID)", "=", "dotProductAccumulator[docID]", "/", "qrt(vectorLengthAccumulator[docID]);", "In", "thi", "method,", "we", "need", "to", "tore", "a", "double", "(IDF)", "for", "each", "query", "keyword.", "In", "addition,", "for", "each", "egment,", "for", "each", "of", "it", "document", ",", "we", "need", "to", "tore", "2", "double", ".", "Notice", "that", "ince", "we", "want", "to", "return", "topK", "document", ",", "we", "need", "to", "maintain", "a", "global", "priority", "queue", "of", "K", "docID", ".", "After", "vi", "iting", "each", "egment,", "we", "only", "need", "to", "add", "the", "top-K", "docID", "of", "thi", "egment", "into", "thi", "priority", "query", "and", "free", "the", "pace", "for", "the", "docID", "of", "thi", "egment.", "To", "implement", "the", "method,", "you", "need", "the", "following", "API", "function", "for", "each", "egment:", "public", "int", "getNumDocument", "(int", "egmentNum);", "public", "int", "getDocumentFrequency(int", "egmentNum,", "String", "token);", "/**", "*", "Perform", "top-K", "ranked", "earch", "u", "ing", "TF-IDF.", "*", "Return", "an", "iterator", "that", "return", "the", "top", "K", "document", "with", "highe", "t", "TF-IDF", "core", ".", "*", "*", "Each", "element", "i", "a", "pair", "of", "<Document,", "Double", "(TF-IDF", "Score)>.", "*", "*", "If", "parameter", "`topK`", "i", "null,", "then", "return", "all", "the", "matching", "document", ".", "*", "*", "Unlike", "Boolean", "Query", "and", "Phra", "e", "Query", "where", "order", "of", "the", "document", "doe", "n't", "matter,", "*", "for", "ranked", "earch,", "order", "of", "the", "document", "returned", "by", "the", "iterator", "matter", ".", "*", "*", "@param", "keyword", ",", "a", "li", "t", "of", "keyword", "in", "the", "query", "*", "@param", "topK,", "number", "of", "top", "document", "weighted", "by", "TF-IDF,", "all", "document", "if", "topK", "i", "null", "*", "@return", "a", "iterator", "of", "top-k", "ordered", "document", "matching", "the", "query", "*/", "public", "Iterator<Pair<Document,", "Double>>", "earchTfIdf(Li", "t<String>", "keyword", ",", "Integer", "topK)", "Ta", "k", "2:", "Implement", "PageRank.", "Note:", "the", "de", "cription", "of", "thi", "ta", "k", "could", "have", "minor", "change", ".", "In", "thi", "ta", "k,", "you'll", "run", "the", "PageRank", "algorithm", "on", "the", "collection", "of", "ICS", "web", "ite", "we", "provided,", "index", "all", "the", "ICS", "web", "ite", "document", ",", "and", "combine", "PageRank", "with", "the", "TF-IDF", "weighted", "earch", "re", "ult", ".", "Download", "the", "provided"], "content_hash": "310e81cfc3da338d050257f86095dab8"}
{"url": "https://grape.ics.uci.edu/wiki/public/raw-attachment/wiki/cs122b-2018-spring-project2/Form.java", "word_count": 335, "words": ["/*", "A", "ervlet", "to", "di", "play", "the", "content", "of", "the", "MySQL", "movieDB", "databa", "e", "*/", "import", "javax.", "ervlet.annotation.WebServlet;", "import", "javax.", "ervlet.http.HttpServlet;", "import", "javax.", "ervlet.http.HttpServletReque", "t;", "import", "javax.", "ervlet.http.HttpServletRe", "pon", "e;", "import", "java.io.IOException;", "import", "java.io.PrintWriter;", "import", "java.", "ql.Connection;", "import", "java.", "ql.DriverManager;", "import", "java.", "ql.Re", "ultSet;", "import", "java.", "ql.Statement;", "//", "Declaring", "a", "WebServlet", "called", "FormServlet,", "which", "map", "to", "url", "\"/form\"", "@WebServlet(name", "=", "\"FormServlet\",", "urlPattern", "=", "\"/form\")", "public", "cla", "Form", "extend", "HttpServlet", "{", "public", "String", "getServletInfo()", "{", "return", "\"Servlet", "connect", "to", "MySQL", "databa", "e", "and", "di", "play", "re", "ult", "of", "a", "SELECT\";", "}", "//", "U", "e", "http", "GET", "public", "void", "doGet(HttpServletReque", "t", "reque", "t,", "HttpServletRe", "pon", "e", "re", "pon", "e)", "throw", "IOException", "{", "String", "loginU", "er", "=", "\"myte", "tu", "er\";", "String", "loginPa", "wd", "=", "\"mypa", "word\";", "String", "loginUrl", "=", "\"jdbc:my", "ql://localho", "t:3306/moviedb\";", "re", "pon", "e.", "etContentType(\"text/html\");", "//", "Re", "pon", "e", "mime", "type", "//", "Output", "tream", "to", "STDOUT", "PrintWriter", "out", "=", "re", "pon", "e.getWriter();", "//", "building", "page", "head", "with", "title", "out.println(\"", "MovieDB:", "Found", "Record", "\");", "//", "building", "page", "body", "out.println(\"", "MovieDB:", "Found", "Record", "\");", "try", "{", "Cla", ".forName(\"com.my", "ql.jdbc.Driver\").newIn", "tance();", "//", "Create", "a", "new", "connection", "to", "databa", "e", "Connection", "dbCon", "=", "DriverManager.getConnection(loginUrl,", "loginU", "er,", "loginPa", "wd);", "//", "Declare", "a", "new", "tatement", "Statement", "tatement", "=", "dbCon.createStatement();", "//", "Retrieve", "parameter", "\"name\"", "from", "reque", "t,", "which", "refer", "to", "the", "value", "of", "in", "index.html", "String", "name", "=", "reque", "t.getParameter(\"name\");", "//", "Generate", "a", "SQL", "query", "String", "query", "=", "String.format(\"SELECT", "*", "from", "tar", "where", "name", "like", "'%", "'\",", "name);", "//", "Perform", "the", "query", "Re", "ultSet", "r", "=", "tatement.executeQuery(query);", "//", "Create", "a", "html", "out.println(\"", "\");", "//", "Iterate", "through", "each", "row", "of", "r", "and", "create", "a", "table", "row", "out.println(\"", "ID", "Name", "\");", "while", "(r", ".next())", "{", "String", "m_ID", "=", "r", ".getString(\"ID\");", "String", "m_Name", "=", "r", ".getString(\"name\");", "out.println(String.format(\"", "%", "%", "\",", "m_ID,", "m_Name));", "}", "out.println(\"", "\");", "//", "Clo", "e", "all", "tructure", "r", ".clo", "e();", "tatement.clo", "e();", "dbCon.clo", "e();", "}", "catch", "(Exception", "ex)", "{", "//", "Output", "Error", "Ma", "age", "to", "html", "out.println(String.format(\"", "MovieDB:", "Error", "\\n", "SQL", "error", "in", "doGet:", "%", "\",", "ex.getMe", "age()));", "return;", "}", "out.clo", "e();", "}", "}"], "content_hash": "9cc173d6824d71ecca95af9389e06a3b"}
{"url": "https://grape.ics.uci.edu/wiki/asterix/raw-attachment/wiki/stats170ab-2018/clustering_demo.ipynb", "word_count": 1211, "words": ["{", "\"cell", "\":", "[", "{", "\"cell_type\":", "\"markdown\",", "\"metadata\":", "{},", "\"", "ource\":", "[", "\"#", "Clu", "tering", "Algorithm", "\\n\",", "\"Stat", "170A,", "Winter", "2018\\n\",", "\"\\n\",", "\"Illu", "tration", "of", "clu", "tering", "algorithm", "\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{", "\"collap", "ed\":", "true", "},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"#", "Fir", "t,", "we'll", "import", "panda", "and", "numpy\\n\",", "\"import", "panda", "a", "pd\\n\",", "\"import", "numpy", "a", "np\\n\",", "\"\\n\",", "\"#", "import", "relevant", "part", "of", "klearn\\n\",", "\"from", "klearn", "import", "clu", "ter,", "data", "et", "\\n\",", "\"\\n\",", "\"#", "We'll", "al", "o", "import", "eaborn,", "a", "Python", "graphing", "library\\n\",", "\"#", "(you", "may", "need", "to", "run", ">conda", "in", "tall", "eaborn", "(if", "u", "ing", "Anaconda))", "\\n\",", "\"import", "eaborn", "a", "n", "\\n\",", "\"\\n\",", "\"#", "and", "matplotlib\\n\",", "\"import", "matplotlib.pyplot", "a", "plt\\n\",", "\"", "n", ".", "et(", "tyle=\\\"white\\\",", "color_code", "=True)\\n\",", "\"%matplotlib", "inline\\n\",", "\"\\n\",", "\"#", "and", "turn", "off", "annoying", "warning", "...(if", "we", "were", "writing", "\\\"real", "code\\\"", "we", "houldn't", "do", "thi", ")\\n\",", "\"import", "warning", "\\n\",", "\"warning", ".", "implefilter('ignore')\"", "]", "},", "{", "\"cell_type\":", "\"markdown\",", "\"metadata\":", "{},", "\"", "ource\":", "[", "\"##", "Load", "and", "Explore", "the", "Iri", "Data", "Set\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"iri", "=", "pd.read_c", "v('iri", ".c", "v')\\n\",", "\"iri", ".head()", "\"", "]", "},", "{", "\"cell_type\":", "\"markdown\",", "\"metadata\":", "{},", "\"", "ource\":", "[", "\"##", "U", "e", "Kmean", "to", "Clu", "ter", "the", "Iri", "Data\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"col", "=", "iri", ".column", "[0:4]", "#", "pull", "out", "the", "real-valued", "column", "for", "clu", "tering,", "ignore", "pecie", "column\\n\",", "\"X", "=", "iri", "[col", "]", "\\n\",", "\"kmean", "=", "clu", "ter.KMean", "(n_clu", "ter", "=3)\\n\",", "\"clabel", "=", "kmean", ".fit_predict(X)", "\\n\",", "\"iri", "['kmean", "_label']", "=", "clabel", "\\n\",", "\"iri", "\"", "]", "},", "{", "\"cell_type\":", "\"markdown\",", "\"metadata\":", "{},", "\"", "ource\":", "[", "\"##", "Vi", "ually", "compare", "K-Mean", "Clu", "tering", "with", "True", "Specie", "Label", "\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"", "n", ".", "et(rc={'axe", ".facecolor':'light", "lategray'})\\n\",", "\"", "n", ".pairplot(x_var", "=['", "epal_length'],", "y_var", "=['", "epal_width'],", "data=iri", ",", "hue=\\\"kmean", "_label\\\",", "ize=4)", "\\n\",", "\"", "n", ".pairplot(x_var", "=['", "epal_length'],", "y_var", "=['", "epal_width'],", "data=iri", ",", "hue=\\\"", "pecie", "\\\",", "ize=4)\"", "]", "},", "{", "\"cell_type\":", "\"markdown\",", "\"metadata\":", "{},", "\"", "ource\":", "[", "\"##", "3d", "Plot", "of", "Iri", "Data", "with", "KMean", "Clu", "ter", "Label", "\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"from", "mpl_toolkit", ".mplot3d", "import", "Axe", "3D\\n\",", "\"%matplotlib", "\\n\",", "\"fig", "=", "plt.figure()\\n\",", "\"ax", "=", "fig.add_", "ubplot(111,", "projection='3d')\\n\",", "\"ax.", "catter(iri", "['", "epal_length'],", "iri", "['", "epal_width'],", "iri", "['petal_length'],", "c=iri", ".kmean", "_label,", "=60)\\n\",", "\"ax.view_init(30,", "185)\\n\",", "\"ax.", "et_xlabel('Sepal", "Length')\\n\",", "\"ax.", "et_ylabel('Sepal", "Width')\\n\",", "\"ax.", "et_zlabel('Petal", "Length')\\n\",", "\"plt.", "how()\"", "]", "},", "{", "\"cell_type\":", "\"markdown\",", "\"metadata\":", "{},", "\"", "ource\":", "[", "\"##", "Plot", "the", "Kmean", "Centroid", "a", "4-Dimen", "ional", "Vector", "\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"%matplotlib", "inline\\n\",", "\"centroid", "=", "kmean", ".clu", "ter_center", "_", "\\n\",", "\"", "n", ".", "et_", "tyle(\\\"whitegrid\\\")\\n\",", "\"plt.plot(centroid", ".tran", "po", "e())\\n\",", "\"ax.", "et_xlabel('Indice", "of", "Variable", "')\\n\",", "\"ax.", "et_ylabel('Value", "of", "Variable", "')\\n\",", "\"plt.", "how()\\n\",", "\"centroid", "\"", "]", "},", "{", "\"cell_type\":", "\"markdown\",", "\"metadata\":", "{},", "\"", "ource\":", "[", "\"##", "U", "e", "Hierarchical", "(Agglomerative)", "Clu", "tering", "to", "Clu", "ter", "the", "Iri", "Data", "\\n\",", "\"...", "and", "we", "will", "compare", "to", "the", "Kmean", "clu", "tering\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"hlabel", "=", "clu", "ter.AgglomerativeClu", "tering(n_clu", "ter", "=3,", "linkage='ward').fit_predict(X)", "\\n\",", "\"iri", "['hier_label']", "=", "hlabel", "\\n\",", "\"print(hlabel", "[::10])\\n\",", "\"print(clabel", "[::10])\\n\",", "\"iri", "\"", "]", "},", "{", "\"cell_type\":", "\"markdown\",", "\"metadata\":", "{},", "\"", "ource\":", "[", "\"##", "Analyzing", "Hou", "ing", "Data\\n\",", "\"Now", "we", "look", "at", "a", "different", "data", "et,", "a", "hou", "ing", "data", "et", "u", "ed", "in", "a", "Kaggle", "prediction", "competition\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"hou", "e", "=", "pd.read_c", "v('hou", "e_price_prediction/train.c", "v')\\n\",", "\"hou", "e", ".head()\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"analy", "i", "_var", "=", "['LotArea',", "'LotFrontage',", "'1", "tFlrSF',", "'GrLivArea',", "'MoSold',", "'YrSold',", "'YearBuilt',", "'SalePrice'", "]\\n\",", "\"hou", "e", "_real", "=", "hou", "e", "[analy", "i", "_var", "].dropna()\\n\",", "\"hou", "e", "_real.head()\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"kmean", "2", "=", "clu", "ter.KMean", "(n_clu", "ter", "=3)\\n\",", "\"clabel", "2", "=", "kmean", "2.fit_predict(hou", "e", "_real.dropna())", "\\n\",", "\"hou", "e", "_real['kmean", "_label']", "=", "clabel", "2", "\\n\",", "\"", "n", ".", "et(rc={'axe", ".facecolor':'light", "lategray'})\\n\",", "\"", "n", ".pairplot(x_var", "=['YearBuilt'],", "y_var", "=['SalePrice'],", "data=hou", "e", "_real,", "hue=\\\"kmean", "_label\\\",", "ize=6)", "\"", "]", "},", "{", "\"cell_type\":", "\"markdown\",", "\"metadata\":", "{},", "\"", "ource\":", "[", "\"###", "Comment\\n\",", "\"The", "plot", "abova", "actually", "give", "u", "ome", "u", "eful", "information", "about", "what", "Kmean", "i", "doing", "with", "thi", "data.", "It", "i", "telling", "u", "that", "kmean", "i", "plitting", "along", "the", "y-axi", "(Sale", "Price)", "and", "virtually", "ignoring", "the", "x-axi", "(YearBuilt).", "Why", "i", "thi", "happening?", "And", "what", "might", "we", "do", "to", "the", "data", "to", "change", "thi", "behavior?\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"centroid", "=", "kmean", "2.clu", "ter_center", "_", "\\n\",", "\"np.", "et_printoption", "(", "uppre", "=True)", "#", "uppre", "cientific", "notation", "o", "that", "we", "can", "ee", "the", "\\\"real\\\"", "value", "\\n\",", "\"centroid", "\"", "]", "},", "{", "\"cell_type\":", "\"markdown\",", "\"metadata\":", "{},", "\"", "ource\":", "[", "\"###", "Let", "normalize", "the", "column", "to", "have", "mean", "0", "and", "tandard", "deviation", "1\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"tmp", "=", "hou", "e", "_real.drop(['kmean", "_label'],axi", "=1)\\n\",", "\"tmp.head()", "\\n\",", "\"np.", "et_printoption", "(", "uppre", "=True)", "#", "uppre", "cientific", "notation", "o", "that", "we", "can", "ee", "the", "\\\"real\\\"", "value", "\\n\",", "\"#Norm_hou", "e", "_real", "=", "tmp.apply(lambda", "x:", "(x", "-", "np.mean(x))", "/", "(np.max(x)", "-", "np.min(x)))\\n\",", "\"Norm_hou", "e", "_real", "=", "tmp.apply(lambda", "x:", "(x", "-", "np.mean(x))", "/", "(np.", "td(x))", ")\\n\",", "\"Norm_hou", "e", "_real.head()\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"Norm_hou", "e", "_real.de", "cribe()\"", "]", "},", "{", "\"cell_type\":", "\"code\",", "\"execution_count\":", "null,", "\"metadata\":", "{},", "\"output", "\":", "[],", "\"", "ource\":", "[", "\"clabel", "2", "=", "kmean", "2.fit_predict(Norm_hou", "e", "_real.dropna())", "\\n\",", "\"Norm_hou", "e", "_real['kmean", "_label']", "=", "clabel", "2", "\\n\",", "\"hou", "e", "_real['kmean", "_label']", "=", "clabel", "2", "\\n\",", "\"", "n", ".", "et(rc={'axe", ".facecolor':'light", "lategray'})\\n\",", "\"", "n", ".pairplot(x_var", "=['YearBuilt'],", "y_var", "=['SalePrice'],", "data=Norm_hou", "e", "_real,", "hue=\\\"kmean", "_label\\\",", "ize=6)", "\"", "]", "},", "{", "\"cell_type\":", "\"code\","], "content_hash": "1acbc91b4fa1c5b6e119b3a23befecea"}
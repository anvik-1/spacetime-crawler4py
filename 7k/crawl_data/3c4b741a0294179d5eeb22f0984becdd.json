{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave", "word_count": 901, "words": ["c", "122b-2017-winter-project5-my", "ql-ma", "ter-", "lave", "\u2013", "Public", "Login", "Preference", "About", "Trac", "Regi", "ter", "wiki:", "c", "122b-2017-winter-project5-my", "ql-ma", "ter-", "lave", "Context", "Navigation", "Hi", "tory", "MySQL", "Ma", "ter-Slave", "Replication", "Thi", "tutorial", "how", "how", "to", "etup", "a", "MySQL", "clu", "ter", "on", "AWS", "that", "include", "a", "ma", "ter", "and", "a", "lave.", "Read", "can", "be", "ent", "to", "any", "of", "the", "two", "in", "tance", ",", "and", "write", "have", "to", "be", "ent", "to", "the", "ma", "ter", "in", "tance.", "Setup", "two", "new", "AWS", "in", "tance", ":", "Create", "two", "new", "AWS", "in", "tance", "identical", "to", "your", "previou", "in", "tance", "u", "ed", "to", "run", "Fabflix.", "We", "call", "the", "e", "\"in", "tance", "2\"", "(a", "the", "ma", "ter)", "and", "\"in", "tance", "3\"'", "(a", "the", "lave).", "We", "a", "ume", "their", "public", "IP", "are", "2.2.2.2", "and", "3.3.3.3,", "and", "their", "internal", "AWS", "IP", "are", "172.2.2.2", "and", "172.3.3.3,", "re", "pectively.", "Add", "new", "rule", "in", "their", "ecurity", "group(", ")", "to", "open", "their", "MYSQL/Aurora", "type", "to", "each", "other", "u", "ing", "their", "AWS", "internal", "IP.", "Watch", "\u200b", "thi", "video", "to", "have", "a", "good", "under", "tanding", "of", "thi", "feature.", "The", "following", "tep", "are", "mainly", "ba", "ed", "on", "tho", "e", "in", "truction", "in", "the", "video.", "Set", "up", "the", "ma", "ter", "in", "tance.", "SSH", "to", "the", "ma", "ter", "in", "tance.", "Run", "the", "following", "command", "to", "in", "tall", "MySQL", "erver.", "ma", "ter-", "hell>", "udo", "apt-get", "update", "ma", "ter-", "hell>", "udo", "apt-get", "in", "tall", "my", "ql-", "erver", "Edit", "the", "/etc/my", "ql/my.cnf", "file", "and", "et", "the", "bind-addre", "to", "0.0.0.0", ".", "Al", "o,", "uncomment", "the", "line", "of", "erver-id", "and", "log_bin", "propertie", ".", "Re", "tart", "the", "MySQL", "ervice.", "ma", "ter-", "hell>", "udo", "ervice", "my", "ql", "re", "tart", "Login", "to", "the", "MySQL", "con", "ole.", "Create", "a", "new", "u", "er", "and", "give", "it", "the", "permi", "ion", "for", "replicating", "the", "databa", "e:", "ma", "ter-", "hell>", "my", "ql", "-u", "root", "-p", "ma", "ter-my", "ql>", "create", "u", "er", "'repl'@'%'", "identified", "by", "'", "lavepa", "word';", "ma", "ter-my", "ql>", "grant", "replication", "lave", "on", "*.*", "to", "'repl'@'%'", ";", "Run", "the", "following", "command", "in", "MySQL", "con", "ole", "to", "get", "the", "tatu", "about", "the", "ma", "ter", "MySQL:", "ma", "ter-my", "ql>", "how", "ma", "ter", "tatu", ";", "Keep", "the", "value", "of", "the", "File", "and", "Po", "ition", "column", ",", "a", "they", "are", "needed", "in", "the", "next", "tep.", "For", "example,", "the", "e", "value", "are", "my", "ql-bin.000001", "and", "337", ".", "Set", "up", "the", "lave", "in", "tance:", "SSH", "to", "the", "lave", "in", "tance.", "Run", "the", "following", "command", "to", "in", "tall", "MySQL", "erver.", "lave-", "hell>", "udo", "apt-get", "update", "lave-", "hell>", "udo", "apt-get", "in", "tall", "my", "ql-", "erver", "Edit", "the", "/etc/my", "ql/my.cnf", "file", "and", "et", "the", "bind-addre", "to", "0.0.0.0", ".", "Al", "o,", "uncomment", "the", "erver-id", "property", "and", "u", "e", "value", "2.", "Do", "not", "uncomment", "the", "log_bin", "property.", "Re", "tart", "the", "MySQL", "ervice.", "lave-", "hell>", "udo", "ervice", "my", "ql", "re", "tart", "Login", "to", "the", "MySQL", "con", "ole", "and", "let", "the", "lave", "know", "about", "the", "ma", "ter", "erver:", "lave-", "hell>", "my", "ql", "-u", "root", "-p", "lave-my", "ql>", "CHANGE", "MASTER", "TO", "MASTER_HOST='172.2.2.2',", "MASTER_USER='repl',", "MASTER_PASSWORD='", "lavepa", "word',", "MASTER_LOG_FILE='my", "ql-bin.000001',", "MASTER_LOG_POS=337;", "Note", "that", "the", "value", "u", "ed", "for", "MASTER_LOG_FILE", "and", "MASTER_LOG_POS", "are", "the", "one", "from", "the", "la", "t", "tep.", "Start", "the", "MySQL", "lave:", "lave-my", "ql>", "tart", "lave;", "lave-my", "ql>", "how", "lave", "tatu", ";", "It", "hould", "how", "\"Slave_IO_State:", "Waiting", "for", "ma", "ter", "to", "end", "event\".", "Te", "t", "if", "the", "ynchronization", "work", ":", "On", "the", "ma", "ter", "in", "tance,", "create", "a", "databa", "e", "with", "a", "table", "with", "a", "tuple:", "ma", "ter-", "hell>", "my", "ql", "-u", "root", "-p", "ma", "ter-my", "ql>", "create", "databa", "e", "pet", ";", "ma", "ter-my", "ql>", "u", "e", "pet", ";", "ma", "ter-my", "ql>", "create", "table", "pet", "(name", "varchar(20));", "ma", "ter-my", "ql>", "in", "ert", "into", "pet", "value", "(\"fluffy\");", "On", "the", "lave", "in", "tance,", "check", "if", "the", "data", "ha", "been", "propagated", "from", "the", "ma", "ter:", "lave-", "hell>", "my", "ql", "-u", "root", "-p", "lave-my", "ql>", "how", "databa", "e", ";", "lave-my", "ql>", "u", "e", "pet", ";", "lave-my", "ql>", "how", "table", ";", "lave-my", "ql>", "elect", "*", "from", "pet", ";", "We", "hould", "be", "able", "to", "ee", "the", "databa", "e,", "table,", "and", "record", "on", "thi", "in", "tance", "propagated", "from", "the", "ma", "ter.", "If", "o,", "congratulation", "!", "Create", "moviedb", "on", "the", "ma", "ter", "in", "tance:", "Populate", "moviedb", "on", "ma", "ter", "in", "tance", "u", "ing", "\"create_table.", "ql\"", "and", "\"data.", "ql\"", "(You", "have", "done", "thi", "many", "time", ")", "On", "the", "lave", "in", "tance,", "check", "if", "the", "data", "i", "automatically", "propagated:", "lave-", "hell>", "my", "ql", "-u", "root", "-p", "lave-my", "ql>", "u", "e", "moviedb;", "how", "table", ";", "Note:", "The", "propagation", "i", "only", "from", "the", "ma", "ter", "to", "the", "lave,", "not", "the", "other", "way", "around.", "To", "te", "t", "it,", "you", "can", "in", "ert", "ome", "record", "to", "a", "table", "in", "the", "lave", "databa", "e,", "and", "check", "if", "it'", "propagated", "to", "the", "ma", "ter", "in", "tance.", "It", "hould", "NOT!", "Note:", "When", "you", "re", "tart", "your", "AWS", "in", "tance", ",", "the", "IP", "addre", "e", "of", "your", "in", "tance", "could", "change.", "At", "thi", "time,", "you", "need", "to", "re", "et", "the", "ma", "ter", "addre", "on", "the", "lave", "in", "tance", "to", "re-connect", "them.", "However,", "note", "that", "MASTER_LOG_FILE", "and", "MASTER_LOG_POS", "could", "change,", "and", "thu", "you", "need", "to", "check", "the", "ma", "ter", "tatu", "again.", "ma", "ter-my", "ql>", "how", "ma", "ter", "tatu", ";", "lave-my", "ql>", "top", "lave;", "lave-my", "ql>", "CHANGE", "MASTER", "TO", "MASTER_HOST='172.2.2.2',", "MASTER_USER='repl',", "MASTER_PASSWORD='", "lavepa", "word',", "MASTER_LOG_FILE='my", "ql-bin.000001',", "MASTER_LOG_POS=337;", "lave-my", "ql>", "tart", "lave;", "La", "t", "modified", "9", "year", "ago", "La", "t", "modified", "on", "Mar", "8,", "2017,", "10:01:34", "PM", "Note:", "See", "TracWiki", "for", "help", "on", "u", "ing", "the", "wiki.", "Download", "in", "other", "format", ":", "Plain", "Text", "Powered", "by", "Trac", "1.5.3", "By", "Edgewall", "Software", ".", "Vi", "it", "the", "Trac", "open", "ource", "project", "at", "http://trac.edgewall.org/"], "content_hash": "6381227cc50b97d776f668fa246f8fdf"}
{"url": "https://grape.ics.uci.edu/wiki/public/attachment/wiki/cs122b-2017-spring-project3/DomParserExample.java", "word_count": 944, "words": ["DomPar", "erExample.java", "on", "c", "122b-2017-", "pring-project3", "\u2013", "Attachment", "\u2013", "Public", "Login", "Preference", "About", "Trac", "Regi", "ter", "Context", "Navigation", "Back", "to", "c", "122b-2017-", "pring-project3", "c", "122b-2017-", "pring-project3", ":", "DomPar", "erExample.java", "File", "DomPar", "erExample.java,", "4.4", "KB", "(added", "by", "Gift", "Sinthong", ",", "8", "year", "ago", ")", "Line", "1", "2", "import", "java.io.IOException", ";", "3", "import", "java.util.ArrayLi", "t", ";", "4", "import", "java.util.Iterator", ";", "5", "import", "java.util.Li", "t", ";", "6", "7", "import", "javax.xml.par", "er", ".DocumentBuilder", ";", "8", "import", "javax.xml.par", "er", ".DocumentBuilderFactory", ";", "9", "import", "javax.xml.par", "er", ".Par", "erConfigurationException", ";", "10", "11", "import", "org.w3c.dom.Document", ";", "12", "import", "org.w3c.dom.Element", ";", "13", "import", "org.w3c.dom.NodeLi", "t", ";", "14", "import", "org.xml.", "ax.SAXException", ";", "15", "16", "public", "cla", "DomPar", "erExample", "{", "17", "18", "Li", "t", "<", "Employee", ">", "myEmpl", ";", "19", "Document", "dom", ";", "20", "21", "public", "DomPar", "erExample", "()", "{", "22", "//create", "a", "li", "t", "to", "hold", "the", "employee", "object", "23", "myEmpl", "=", "new", "ArrayLi", "t", "<>", "();", "24", "}", "25", "26", "public", "void", "runExample", "()", "{", "27", "28", "//par", "e", "the", "xml", "file", "and", "get", "the", "dom", "object", "29", "par", "eXmlFile", "();", "30", "31", "//get", "each", "employee", "element", "and", "create", "a", "Employee", "object", "32", "par", "eDocument", "();", "33", "34", "//Iterate", "through", "the", "li", "t", "and", "print", "the", "data", "35", "printData", "();", "36", "37", "}", "38", "39", "private", "void", "par", "eXmlFile", "()", "{", "40", "//get", "the", "factory", "41", "DocumentBuilderFactory", "dbf", "=", "DocumentBuilderFactory", ".", "newIn", "tance", "();", "42", "43", "try", "{", "44", "45", "//U", "ing", "factory", "get", "an", "in", "tance", "of", "document", "builder", "46", "DocumentBuilder", "db", "=", "dbf", ".", "newDocumentBuilder", "();", "47", "48", "//par", "e", "u", "ing", "builder", "to", "get", "DOM", "repre", "entation", "of", "the", "XML", "file", "49", "dom", "=", "db", ".", "par", "e", "(", "\"employee", ".xml\"", ");", "50", "51", "}", "catch", "(", "Par", "erConfigurationException", "pce", ")", "{", "52", "pce", ".", "printStackTrace", "();", "53", "}", "catch", "(", "SAXException", "e", ")", "{", "54", "e", ".", "printStackTrace", "();", "55", "}", "catch", "(", "IOException", "ioe", ")", "{", "56", "ioe", ".", "printStackTrace", "();", "57", "}", "58", "}", "59", "60", "private", "void", "par", "eDocument", "()", "{", "61", "//get", "the", "root", "elememt", "62", "Element", "docEle", "=", "dom", ".", "getDocumentElement", "();", "63", "64", "//get", "a", "nodeli", "t", "of", "<employee>", "element", "65", "NodeLi", "t", "nl", "=", "docEle", ".", "getElement", "ByTagName", "(", "\"Employee\"", ");", "66", "if", "(", "nl", "!=", "null", "&&", "nl", ".", "getLength", "()", ">", "0", ")", "{", "67", "for", "(", "int", "i", "=", "0", ";", "i", "<", "nl", ".", "getLength", "();", "i", "++", ")", "{", "68", "69", "//get", "the", "employee", "element", "70", "Element", "el", "=", "(", "Element", ")", "nl", ".", "item", "(", "i", ");", "71", "72", "//get", "the", "Employee", "object", "73", "Employee", "e", "=", "getEmployee", "(", "el", ");", "74", "75", "//add", "it", "to", "li", "t", "76", "myEmpl", ".", "add", "(", "e", ");", "77", "}", "78", "}", "79", "}", "80", "81", "/**", "82", "*", "I", "take", "an", "employee", "element", "and", "read", "the", "value", "in,", "create", "83", "*", "an", "Employee", "object", "and", "return", "it", "84", "*", "85", "*", "@param", "empEl", "86", "*", "@return", "87", "*/", "88", "private", "Employee", "getEmployee", "(", "Element", "empEl", ")", "{", "89", "90", "//for", "each", "<employee>", "element", "get", "text", "or", "int", "value", "of", "91", "//name", ",id,", "age", "and", "name", "92", "String", "name", "=", "getTextValue", "(", "empEl", ",", "\"Name\"", ");", "93", "int", "id", "=", "getIntValue", "(", "empEl", ",", "\"Id\"", ");", "94", "int", "age", "=", "getIntValue", "(", "empEl", ",", "\"Age\"", ");", "95", "96", "String", "type", "=", "empEl", ".", "getAttribute", "(", "\"type\"", ");", "97", "98", "//Create", "a", "new", "Employee", "with", "the", "value", "read", "from", "the", "xml", "node", "99", "Employee", "e", "=", "new", "Employee", "(", "name", ",", "id", ",", "age", ",", "type", ");", "100", "101", "return", "e", ";", "102", "}", "103", "104", "/**", "105", "*", "I", "take", "a", "xml", "element", "and", "the", "tag", "name,", "look", "for", "the", "tag", "and", "get", "106", "*", "the", "text", "content", "107", "*", "i.e", "for", "<employee><name>John</name></employee>", "xml", "nippet", "if", "108", "*", "the", "Element", "point", "to", "employee", "node", "and", "tagName", "i", "name", "I", "will", "return", "John", "109", "*", "110", "*", "@param", "ele", "111", "*", "@param", "tagName", "112", "*", "@return", "113", "*/", "114", "private", "String", "getTextValue", "(", "Element", "ele", ",", "String", "tagName", ")", "{", "115", "String", "textVal", "=", "null", ";", "116", "NodeLi", "t", "nl", "=", "ele", ".", "getElement", "ByTagName", "(", "tagName", ");", "117", "if", "(", "nl", "!=", "null", "&&", "nl", ".", "getLength", "()", ">", "0", ")", "{", "118", "Element", "el", "=", "(", "Element", ")", "nl", ".", "item", "(", "0", ");", "119", "textVal", "=", "el", ".", "getFir", "tChild", "().", "getNodeValue", "();", "120", "}", "121", "122", "return", "textVal", ";", "123", "}", "124", "125", "/**", "126", "*", "Call", "getTextValue", "and", "return", "a", "int", "value", "127", "*", "128", "*", "@param", "ele", "129", "*", "@param", "tagName", "130", "*", "@return", "131", "*/", "132", "private", "int", "getIntValue", "(", "Element", "ele", ",", "String", "tagName", ")", "{", "133", "//in", "production", "application", "you", "would", "catch", "the", "exception", "134", "return", "Integer", ".", "par", "eInt", "(", "getTextValue", "(", "ele", ",", "tagName", "));", "135", "}", "136", "137", "/**", "138", "*", "Iterate", "through", "the", "li", "t", "and", "print", "the", "139", "*", "content", "to", "con", "ole", "140", "*/", "141", "private", "void", "printData", "()", "{", "142", "143", "Sy", "tem", ".", "out", ".", "println", "(", "\"No", "of", "Employee", "'\"", "+", "myEmpl", ".", "ize", "()", "+", "\"'.\"", ");", "144", "145", "Iterator", "<", "Employee", ">", "it", "=", "myEmpl", ".", "iterator", "();", "146", "while", "(", "it", ".", "ha", "Next", "())", "{", "147", "Sy", "tem", ".", "out", ".", "println", "(", "it", ".", "next", "().", "toString", "());", "148", "}", "149", "}", "150", "151", "public", "tatic", "void", "main", "(", "String", "[]", "arg", ")", "{", "152", "//create", "an", "in", "tance", "153", "DomPar", "erExample", "dpe", "=", "new", "DomPar", "erExample", "();", "154", "155", "//call", "run", "example", "156", "dpe", ".", "runExample", "();", "157", "}", "158", "159", "}", "Download", "in", "other", "format", ":", "Original", "Format", "Powered", "by", "Trac", "1.5.3", "By", "Edgewall", "Software", ".", "Vi", "it", "the", "Trac", "open", "ource", "project", "at", "http://trac.edgewall.org/"], "content_hash": "d43cd99037a1eda565ed1d38f138d466"}
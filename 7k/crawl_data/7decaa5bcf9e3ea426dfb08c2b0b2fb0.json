{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2019-winter-project5-mysql-master-slave?action=diff&version=1", "word_count": 1192, "words": ["c", "122b-2019-winter-project5-my", "ql-ma", "ter-", "lave", "(diff)", "\u2013", "Public", "Login", "Preference", "About", "Trac", "Regi", "ter", "Context", "Navigation", "\u2190", "Previou", "Change", "Wiki", "Hi", "tory", "Next", "Change", "\u2192", "Change", "between", "Initial", "Ver", "ion", "and", "Ver", "ion", "1", "of", "c", "122b-2019-winter-project5-my", "ql-ma", "ter-", "lave", "View", "difference", "inline", "ide", "by", "ide", "Show", "line", "around", "each", "change", "Show", "the", "change", "in", "full", "context", "Ignore:", "Blank", "line", "Ca", "e", "change", "White", "pace", "change", "Time", "tamp:", "Feb", "28,", "2019,", "8:12:06", "PM", "(", "7", "year", "ago)", "Author:", "Avina", "h", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "c", "122b-2019-winter-project5-my", "ql-ma", "ter-", "lave", "v1", "v1", "1", "===", "MySQL", "Ma", "ter-Slave", "Replication", "===", "2", "Thi", "tutorial", "how", "how", "to", "etup", "a", "MySQL", "clu", "ter", "on", "AWS", "that", "include", "a", "ma", "ter", "and", "a", "lave.", "Read", "can", "be", "ent", "to", "any", "of", "the", "two", "in", "tance", ",", "and", "write", "have", "to", "be", "ent", "to", "the", "ma", "ter", "in", "tance.", "3", "4", "1.", "Setup", "two", "new", "AWS", "in", "tance", ":", "5", "i.", "Create", "two", "new", "AWS", "in", "tance", "identical", "to", "your", "previou", "in", "tance", "u", "ed", "to", "run", "Fabflix.", "We", "call", "the", "e", "\"in", "tance", "2\"", "(a", "the", "ma", "ter)", "and", "\"in", "tance", "3\"'", "(a", "the", "lave).", "We", "a", "ume", "their", "public", "IP", "are", "2.2.2.2", "and", "3.3.3.3,", "and", "their", "internal", "AWS", "IP", "are", "172.2.2.2", "and", "172.3.3.3,", "re", "pectively.", "6", "i.", "Add", "new", "rule", "in", "their", "ecurity", "group(", ")", "to", "open", "their", "`MYSQL/Aurora`", "type", "to", "each", "other", "u", "ing", "their", "AWS", "internal", "IP.", "7", "1.", "Watch", "[http", "://www.youtube.com/watch?v=JXDuVypcHNA", "thi", "video]", "to", "have", "a", "good", "under", "tanding", "of", "thi", "feature.", "The", "following", "tep", "are", "mainly", "ba", "ed", "on", "tho", "e", "in", "truction", "in", "the", "video.", "8", "1.", "Set", "up", "the", "ma", "ter", "in", "tance.", "9", "i.", "SSH", "to", "the", "ma", "ter", "in", "tance.", "Run", "the", "following", "command", "to", "in", "tall", "MySQL", "erver.", "10", "{{{", "11", "ma", "ter-", "hell>", "udo", "apt-get", "update", "12", "ma", "ter-", "hell>", "udo", "apt-get", "in", "tall", "my", "ql-", "erver", "13", "}}}", "14", "i.", "Edit", "the", "`/etc/my", "ql/my", "ql.conf.d/my", "qld.cnf`", "file", "and", "et", "the", "`bind-addre", "`", "to", "'''0.0.0.0'''.", "Al", "o,", "uncomment", "the", "line", "of", "`", "erver-id`", "and", "`log_bin`", "propertie", ".", "15", "i.", "Re", "tart", "the", "MySQL", "ervice.", "16", "{{{", "17", "ma", "ter-", "hell>", "udo", "ervice", "my", "ql", "re", "tart", "18", "}}}", "19", "i.", "Login", "to", "the", "MySQL", "con", "ole.", "Create", "a", "new", "u", "er", "and", "give", "it", "the", "permi", "ion", "for", "replicating", "the", "databa", "e:[[BR]]", "20", "{{{", "21", "ma", "ter-", "hell>", "my", "ql", "-u", "root", "-p", "22", "ma", "ter-my", "ql>", "create", "u", "er", "'repl'@'%'", "identified", "by", "'", "lavepa", "word';", "23", "ma", "ter-my", "ql>", "grant", "replication", "lave", "on", "*.*", "to", "'repl'@'%'", ";", "24", "}}}", "25", "i.", "Run", "the", "following", "command", "in", "MySQL", "con", "ole", "to", "get", "the", "tatu", "about", "the", "ma", "ter", "MySQL:[[BR]]", "26", "{{{", "27", "ma", "ter-my", "ql>", "how", "ma", "ter", "tatu", ";", "28", "}}}", "29", "Keep", "the", "value", "of", "the", "`File`", "and", "`Po", "ition`", "column", ",", "a", "they", "are", "needed", "in", "the", "next", "tep.", "For", "example,", "the", "e", "value", "are", "`my", "ql-bin.000001`", "and", "`337`.", "30", "1.", "Set", "up", "the", "lave", "in", "tance:", "31", "i.", "SSH", "to", "the", "lave", "in", "tance.", "Run", "the", "following", "command", "to", "in", "tall", "MySQL", "erver.", "32", "{{{", "33", "lave-", "hell>", "udo", "apt-get", "update", "34", "lave-", "hell>", "udo", "apt-get", "in", "tall", "my", "ql-", "erver", "35", "}}}", "36", "i.", "Edit", "the", "`/etc/my", "ql/my", "ql.conf.d/my", "qld.cnf`", "file", "and", "et", "the", "`bind-addre", "`", "to", "'''0.0.0.0'''.", "Al", "o,", "uncomment", "the", "`", "erver-id`", "property", "and", "u", "e", "value", "2.", "Do", "'''not'''", "uncomment", "the", "`log_bin`", "property.", "37", "i.", "Re", "tart", "the", "MySQL", "ervice.", "38", "{{{", "39", "lave-", "hell>", "udo", "ervice", "my", "ql", "re", "tart", "40", "}}}", "41", "i.", "Login", "to", "the", "MySQL", "con", "ole", "and", "let", "the", "lave", "know", "about", "the", "ma", "ter", "erver:[[BR]]", "42", "{{{", "43", "lave-", "hell>", "my", "ql", "-u", "root", "-p", "44", "lave-my", "ql>", "CHANGE", "MASTER", "TO", "MASTER_HOST='172.2.2.2',", "MASTER_USER='repl',", "MASTER_PASSWORD='", "lavepa", "word',", "MASTER_LOG_FILE='my", "ql-bin.000001',", "MASTER_LOG_POS=337;", "45", "}}}", "46", "Note", "that", "the", "value", "u", "ed", "for", "`MASTER_LOG_FILE`", "and", "`MASTER_LOG_POS`", "are", "the", "one", "from", "the", "la", "t", "tep.", "47", "i.", "Start", "the", "MySQL", "lave:[[BR]]", "48", "{{{", "49", "lave-my", "ql>", "tart", "lave;", "50", "lave-my", "ql>", "how", "lave", "tatu", ";", "51", "}}}", "52", "It", "hould", "how", "\"Slave_IO_State:", "Waiting", "for", "ma", "ter", "to", "end", "event\".", "53", "1.", "Te", "t", "if", "the", "ynchronization", "work", ":", "54", "i.", "On", "the", "ma", "ter", "in", "tance,", "create", "a", "databa", "e", "with", "a", "table", "with", "a", "tuple:", "55", "{{{", "56", "ma", "ter-", "hell>", "my", "ql", "-u", "root", "-p", "57", "ma", "ter-my", "ql>", "create", "databa", "e", "pet", ";", "58", "ma", "ter-my", "ql>", "u", "e", "pet", ";", "59", "ma", "ter-my", "ql>", "create", "table", "cat", "(name", "varchar(20));", "60", "ma", "ter-my", "ql>", "in", "ert", "into", "cat", "value", "(\"fluffy\");", "61", "}}}", "62", "i.", "On", "the", "lave", "in", "tance,", "check", "if", "the", "data", "ha", "been", "propagated", "from", "the", "ma", "ter:", "63", "{{{", "64", "lave-", "hell>", "my", "ql", "-u", "root", "-p", "65", "lave-my", "ql>", "how", "databa", "e", ";", "66", "lave-my", "ql>", "u", "e", "pet", ";", "67", "lave-my", "ql>", "how", "table", ";", "68", "lave-my", "ql>", "elect", "*", "from", "cat", ";", "69", "}}}", "70", "We", "hould", "be", "able", "to", "ee", "the", "databa", "e,", "table,", "and", "record", "on", "thi", "in", "tance", "propagated", "from", "the", "ma", "ter.", "If", "o,", "congratulation", "!", "71", "1.", "Create", "moviedb", "on", "the", "ma", "ter", "in", "tance:", "72", "i.", "Populate", "moviedb", "on", "ma", "ter", "in", "tance", "u", "ing", "\"create_table.", "ql\"", "and", "\"data.", "ql\"", "(You", "have", "done", "thi", "many", "time", ")", "73", "i.", "On", "the", "lave", "in", "tance,", "check", "if", "the", "data", "i", "automatically", "propagated:", "74", "{{{", "75", "lave-", "hell>", "my", "ql", "-u", "root", "-p", "76", "lave-my", "ql>", "u", "e", "moviedb;", "how", "table", ";", "77", "}}}", "78", "Note:", "The", "propagation", "i", "only", "from", "the", "ma", "ter", "to", "the", "lave,", "not", "the", "other", "way", "around.", "To", "te", "t", "it,", "you", "can", "in", "ert", "ome", "record", "to", "a", "table", "in", "the", "lave", "databa", "e,", "and", "check", "if", "it'", "propagated", "to", "the", "ma", "ter", "in", "tance.", "It", "hould", "NOT!", "79", "80", "'''Note:", "When", "you", "re", "tart", "your", "AWS", "in", "tance", ",", "the", "IP", "addre", "e", "of", "your", "in", "tance", "could", "change.", "At", "thi", "time,", "you", "need", "to", "re", "et", "the", "ma", "ter", "addre", "on"], "content_hash": "5eb428992b755e433940f2eb8f16009a"}
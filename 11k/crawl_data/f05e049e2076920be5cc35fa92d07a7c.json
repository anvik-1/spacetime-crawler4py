{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs222-2016-fall-project3?action=diff&version=1", "word_count": 3091, "words": ["cs222-2016-fall-project3", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Initial", "Version", "and", "Version", "1", "of", "cs222-2016-fall-project3", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "Oct", "26,", "2016,", "4:43:14", "PM", "(", "9", "years", "ago)", "Author:", "teyuc", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs222-2016-fall-project3", "v1", "v1", "1", "[[PageOutline]]", "2", "3", "Project", "3:", "Implementing", "an", "Index", "Manager", "4", "Deadline:", "Nov", "17,", "2016,", "Thursday,", "11:45", "pm,", "on", "EEE.", "5", "Full", "Credit:", "100", "points,", "Extra", "Credit:", "20", "points", "6", "7", "Introduction", "8", "9", "In", "this", "project", "you", "will", "implement", "an", "Indexing", "(IX)", "component.", "The", "IX", "component", "provides", "classes", "and", "methods", "for", "managing", "persistent", "indexes", "over", "unordered", "data", "records", "stored", "in", "files.", "Each", "data", "file", "may", "have", "any", "number", "of", "(single-attribute)", "indexes", "associated", "with", "it.", "The", "indexes", "ultimately", "will", "be", "used", "to", "speed", "up", "processing", "of", "relational", "selections,", "joins,", "condition-based", "update,", "and", "delete", "operations.", "Like", "the", "data", "records", "themselves,", "the", "indexes", "are", "also", "stored", "in", "files.", "Hence,", "in", "implementing", "the", "IX", "component,", "you", "will", "use", "the", "file", "system,", "namely", "the", "PagedFileManager", "(PF)", "component", "that", "you", "implemented", "in", "Project", "1,", "similar", "to", "the", "manner", "in", "which", "you", "used", "it", "for", "implementing", "the", "RecordBasedFileManager", "(RBF)", "in", "Projects", "1-2.", "In", "the", "projects'", "overall", "database", "system", "architecture,", "you", "can", "think", "of", "the", "IX", "component", "and", "the", "RBF", "component", "as", "sitting", "side-by-side", "above", "the", "PF", "layer", "and", "below", "the", "RelationManager", "(RM)", "component.", "As", "you", "did", "for", "the", "RBF", "component,", "you", "should", "pass", "attribute", "information", "in", "to", "the", "methods", "of", "the", "IX", "component.", "The", "RM", "layer", "will", "later", "be", "orchestrating", "both", "the", "RBF", "(for", "data", "files)", "and", "IX", "(for", "indices)", "layers", "when", "tuple-level", "operations", "happen,", "and", "the", "RM", "layer", "will", "also", "be", "managing", "the", "catalog", "information", "related", "to", "indexes", "at", "this", "level.", "However,", "in", "this", "part", "of", "the", "project,", "you", "will", "implement", "the", "IX", "component", "without", "worrying", "(yet)", "about", "the", "RM", "layer,", "just", "as", "you", "did", "for", "the", "RBF", "layer", "earlier.", "The", "RM", "layer", "and", "its", "behavior", "will", "come", "into", "play", "in", "Project", "4.", "10", "11", "B+Trees", "12", "13", "You", "will", "implement", "a", "basic", "B+", "tree", "that", "has", "support", "for", "range", "predicates.", "Each", "B+", "tree", "index", "can", "be", "stored", "in", "one", "file", "in", "the", "paged", "file", "system.", "14", "15", "You", "can", "download", "the", "source", "code.", "16", "17", "Note:", "It", "is", "possible", "to", "find", "pseudo-code", "and", "perhaps", "even", "software", "packages", "for", "B+", "trees", "available", "publicly.", "You", "are", "welcome", "to", "use", "anything", "you", "happen", "to", "find", "as", "a", "reference,", "as", "long", "as", "you", "provide", "proper", "acknowledgment", "in", "your", "readme", "file", "when", "you", "turn", "in", "this", "part", "of", "the", "project.", "However,", "you", "are", "not", "welcome", "to", "reuse", "any", "code", "that", "you", "find", "elsewhere;", "the", "purpose", "of", "this", "project", "is", "for", "you", "to", "gain", "experience", "and", "understanding", "by", "actually", "writing", "the", "B+", "tree", "code.", "18", "19", "IX", "Interface", "20", "21", "The", "IX", "interface", "that", "you", "are", "to", "implement", "consists", "of", "two", "classes:", "the", "IndexManager", "class", "and", "IX_ScanIterator", "class.", "In", "addition,", "there", "is", "an", "IX_PrintError", "routine", "for", "printing", "messages", "associated", "with", "nonzero", "return", "codes.", "As", "usual,", "all", "IX", "component", "public", "methods", "(except", "constructors", "and", "destructors)", "should", "return", "0", "if", "they", "complete", "normally", "and", "a", "nonzero", "return", "code", "otherwise.", "If", "you", "compare", "the", "RFB", "and", "IX", "components'", "interfaces,", "the", "pattern", "that", "you", "see", "here", "should", "be", "very", "familiar", "(:-)).", "22", "23", "1.", "IndexManager", "Class", "24", "25", "The", "IndexManager", "class", "handles", "the", "creation,", "deletion,", "opening,", "and", "closing", "of", "index", "files", "as", "well", "as", "the", "insert,", "delete,", "and", "scan", "initiation", "operations.", "Your", "program", "should", "create", "exactly", "one", "instance", "of", "the", "IndexManager", "class.", "All", "necessary", "initialization", "for", "the", "IX", "component", "should", "take", "place", "within", "the", "constructor", "for", "the", "IndexManager", "class.", "Symmetrically,", "any", "necessary", "clean-up", "in", "the", "IX", "component", "should", "take", "place", "within", "the", "destructor", "for", "the", "IndexManager", "class.", "26", "27", "class", "IndexManager", "{", "28", "29", "public:", "30", "static", "IndexManager*", "instance();", "31", "32", "//", "Create", "an", "index", "file", "33", "RC", "createFile(const", "string", "&fileName);", "34", "35", "//", "Delete", "an", "index", "file", "36", "RC", "destroyFile(const", "string", "&fileName);", "37", "38", "//", "Open", "an", "index", "and", "return", "an", "ixfileHandle", "39", "RC", "openFile(const", "string", "&fileName,", "IXFileHandle", "&ixfileHandle);", "40", "41", "//", "Close", "an", "ixfileHandle", "for", "an", "index.", "42", "RC", "closeFile(IXFileHandle", "&ixfileHandle);", "43", "44", "//", "Insert", "an", "entry", "into", "the", "given", "index", "that", "is", "indicated", "by", "the", "given", "ixfileHandle", "45", "RC", "insertEntry(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "void", "*key,", "const", "RID", "&rid);", "46", "47", "//", "Delete", "an", "entry", "from", "the", "given", "index", "that", "is", "indicated", "by", "the", "given", "ixfileHandle", "48", "RC", "deleteEntry(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "void", "*key,", "const", "RID", "&rid);", "49", "50", "//", "Initialize", "and", "IX_ScanIterator", "to", "support", "a", "range", "search", "51", "RC", "scan(IXFileHandle", "&ixfileHandle,", "52", "const", "Attribute", "&attribute,", "53", "const", "void", "*lowKey,", "54", "const", "void", "*highKey,", "55", "bool", "lowKeyInclusive,", "56", "bool", "highKeyInclusive,", "57", "IX_ScanIterator", "&ix_ScanIterator);", "58", "59", "//", "Print", "the", "B+", "tree", "in", "pre-order", "(in", "a", "JSON", "record", "format)", "60", "void", "printBtree(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute);", "61", "62", "protected:", "63", "IndexManager();", "64", "~IndexManager();", "65", "66", "private:", "67", "static", "IndexManager", "*_index_manager;", "68", "};", "69", "RC", "createFile(const", "string", "&fileName)", "70", "71", "This", "method", "creates", "a", "B+tree", "index", "file", "with", "the", "given", "index", "name.", "72", "73", "RC", "destroyFile(const", "string", "&fileName)", "74", "75", "This", "method", "should", "delete", "the", "index", "file", "whose", "name", "is", "fileName.", "76", "77", "RC", "openFile(const", "string", "&fileName,", "IXFileHandle", "&ixfileHandle)", "78", "79", "This", "method", "will", "open", "the", "index", "file.", "If", "the", "open", "call", "is", "successful,", "an", "IXFileHandle", "object", "for", "the", "given", "index", "is", "returned.", "This", "ixfileHandle", "is", "passed", "to", "the", "insertEntry(),", "deleteEntry(),", "and", "scan()", "methods", "to", "insert/delete/scan", "entries", "in", "the", "index", "file.", "80", "81", "RC", "closeFile(IXFileHandle", "&ixfileHandle)", "82", "83", "This", "method", "closes", "the", "index", "file", "indicated", "by", "the", "ixfileHandle.", "84", "85", "RC", "insertEntry(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "void", "*key,", "const", "RID", "&rid)", "86", "87", "This", "method", "should", "insert", "a", "new", "entry,", "a", "<key,rid>", "pair,", "into", "the", "index", "file.", "The", "second", "parameter", "is", "the", "attribute", "descriptor", "of", "the", "key,", "and", "the", "parameter", "rid", "identifies", "the", "record", "that", "will", "be", "paired", "with", "the", "key", "in", "the", "index", "file."], "content_hash": "d97759df9ce8b83f86c7e4dea4e6756d"}
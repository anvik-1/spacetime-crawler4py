{"url": "https://wiki.ics.uci.edu/doku.php/accounts:fuse-sshfs", "word_count": 1290, "words": ["Mounting", "Remote", "Directories(Samba/SSHFS/NFSv4)", "[Support", "Wiki]", "Trace:", "\u2022", "Mounting", "Remote", "Directories(Samba/SSHFS/NFSv4)", "Mounting", "Remote", "Directories(Samba/SSHFS/NFSv4)", "Sidebar", "ICS", "Accounts", "ICS", "Email", "Services", "Account", "Activation", "Ethical", "Use", "of", "Computing", "Resources", "Mounting", "Remote", "Directories(Samba/SSHFS/NFSv4)", "ICS", "Google", "Account", "ICS", "Home", "Directory", "New", "User", "Guide", "ICS", "Password", "Overview", "Account", "Quotas", "Set", "Up", "SSH", "Keys", "VSCode", "with", "SSH", "VSCODE", "with", "SLURM", "Welcome", "to", "Bren", "ICS!", "Announcement", "and", "Maintenance", "Backups", "@", "ICS", "Common", "Tasks", "and", "Commands", "Group", "Files", "Hardware", "Support", "Instructional", "Support", "Resources", "Network", "os", "policies", "projects", "remote_support", "requesttracker", "Research", "Support", "security", "services", "Software", "Virtual", "Environments", "ICS", "Web", "Applications", "wiki", "Table", "of", "Contents", "Mounting", "Remote", "Directories(Samba/SSHFS/NFSv4)", "Samba", "SMBFS", "Special", "Samba", "Mount", "Points", "SSHFS", "Install", "SSHFS/FUSE", "FUSE", "Group", "Membership", "Mount", "a", "Remote", "Directory", "Example", "ICS", "Group", "Leader", "Accounts", "NFSv4", "ICS", "Home", "Directory", "SSHFS", "and", "SMBFS", "Troubleshooting", "Large", "File", "Size", "Support", "Transport", "Endpoint", "Not", "Connected", "Hanging", "Performance", "Mounting", "Remote", "Directories(Samba/SSHFS/NFSv4)", "Samba", "SMBCLIENT", "The", "smbclient", "can", "be", "used", "to", "mount", "a", "remote", "directory.", "We", "provide", "the", "command", "to", "access", "your", "ICS", "home", "directory", "below.", "smbclient", "//samba.ics.uci.edu/<username>", "--user=ics.uci.edu/<username>", "Example:", "Use", "SMBClient", "to", "Mount", "Your", "Own", "Home", "Directory", "Peter", "the", "Anteater", "is", "a", "fictional", "user,", "use", "your", "own", "username", "in", "place.", "%", "smbclient", "//samba.ics.uci.edu/ptanteater2", "--user=ics.uci.edu/panteater2", "Password", "for", "[ICS.UCI.EDU\\ptanteater2]:", "SMBFS", "Users", "that", "have", "sudo", "or", "root", "access", "on", "their", "Linux", "host,", "may", "use", "the", "command", "`mount", "-t", "cifs`", "or", "`mount.cifs`", "to", "mount", "a", "SAMBA", "directory", "to", "appear", "as", "part", "of", "the", "filesystem.", "The", "username", "panteater", "is", "a", "place", "filler,", "replace", "it", "with", "your", "own", "username", "Some", "linux", "systems", "will", "not", "resolve", "a", "hostname.", "This", "is", "why", "we", "convert", "it", "to", "an", "ip", "address", "using", "dig", "+short", "sudo", "mount", "-t", "cifs", "//$(dig", "+short", "samba.ics.uci.edu)/panteater", "\\", "/tmp/samba.ics.uci.edu/panteater", "\\", "-o", "user=panteater,domain=ics.uci.edu", "You", "will", "be", "prompted", "for", "a", "password.", "Enter", "your", "ICS", "account", "password.", "if", "your", "Ubuntu", "host", "is", "complaining", "about", "mounting", "\u201cread-only\u201d", "or", "not", "prompting", "for", "a", "password,", "install", "the", "cifs-utils", "package", "Other,", "non-ICS", "SAMBA", "drives", "can", "be", "similarly", "mounted:", "DOMAIN=example.domain", "SAMBASERVER=samba.example.com", "SHARE=example", "&&", "\\", "(", "[", "-d", "/tmp/$USER/$SAMBASERVER", "]", "||", "mkdir", "-p", "/tmp/$USER/$SAMBASERVER", ")", "\\", "&&", "sudo", "mount", "-t", "cifs", "//$(dig", "+short", "$SAMBASERVER)/$SHARE", "/tmp/$USER/$SAMBASERVER", "\\", "-o", "username=$USER,domain=$DOMAIN", "Special", "Samba", "Mount", "Points", "If", "a", "user", "wants", "access", "to", "someone", "else's", "home/extra", "directory", "at", "the", "root", "or", "a", "subdirectory,", "a", "special", "samba", "mount", "point", "needs", "to", "be", "added.", "For", "example,", "if", "Pat", "(username:", "pat)", "needs", "to", "access", "/extra/anteater0/subdir,", "a", "request", "needs", "to", "be", "made", "by", "Anteater", "to", "allow", "Pat", "access.", "At", "that", "point,", "edit", "the", "smb.conf.supplemental", "file", "with", "the", "following", "format", "but", "with", "the", "correct", "path,", "force", "user,", "and", "valid", "users:", "[smb-mount-name]", "comment", "=", "Special", "share", "for", "the", "<name>", "account", "path", "=", "<directory", "path", "to", "special", "mount", "point>", "force", "user", "=", "<name>", "valid", "users", "=", "<list", "of", "users", "who", "can", "mount>", "browseable", "=", "no", "public", "=", "no", "writable", "=", "yes", "printable", "=", "no", "create", "mask", "=", "0644", "directory", "mask", "=", "0755", "Once", "the", "\u201csmb-mount-name\u201d", "has", "been", "added,", "you", "can", ".", "If", "it", "is", "a", "group", "account's", "extra", "directory", "and", "access", "is", "granted,", "then", "just", "add", "the", "user", "to", "the", "group", "account.", "SSHFS", "In", "computing,", "SSHFS", "(SSH", "Filesystem)", "is", "a", "filesystem", "client", "used", "to", "mount", "and", "interact", "with", "directories", "and", "files", "located", "on", "a", "remote", "server", "or", "workstation", "over", "a", "normal", "SSH", "connection.", "This", "is", "useful", "for", "users", "on", "Unix-like", "operating", "systems", "who", "need", "access", "to", "home", "or", "group", "directories", "available", "through", "our", "ICS", "servers.", "Install", "SSHFS/FUSE", "This", "step", "depends", "on", "your", "distribution.", "You", "basically", "install", "\u201csshfs\u201d", "which", "installs", "FUSE", "as", "a", "dependency.", "The", "user", "probably", "needs", "to", "be", "added", "to", "the", "local", "\u201cfuse\u201d", "UNIX", "group.", "Once", "the", "software", "is", "installed,", "notice", "the", "lack", "of", "the", "\u201csudo\u201d", "command.", "The", "mounting", "is", "all", "done", "in", "user", "space", "as", "the", "user.", "Ubuntu:", "http://help.ubuntu.com/community/SSHFS", "Fedora:", "http://fedorasolved.org/server-solutions/sshfs", "Gentoo:", "http://gentoo-wiki.com/HOWTO_FTP_Mount#FUSE", "Automating", "the", "Connection:", "http://www.linuxjournal.com/article/8904", "FUSE", "Group", "Membership", "Any", "FUSE", "users", "will", "need", "to", "be", "members", "of", "the", "fuse", "group.", "The", "fusermount", "program", "is", "setgid", "root.", "Only", "members", "of", "the", "fuse", "group", "can", "run", "sshfs.", "The", "fuse", "membership", "is", "assigned", "by", "puppet", "in", "the", "local", "/etc/group", "file", "by", "including", "the", "\u201cfuse\u201d", "statement", "in", "the", "user", "class", "in", "the", "node's", ".pp", "file", "(/etc/puppet/manifests/nodes/ailab.pp):", "class", "{", "user:", "rootpw", "=>", "\"RSH\",", "netgroups", "=>", "['+@common_u::::::',", "'+@ailab_u:x:::::',", "'+::::::/sbin/nologin'],", "fuse", "=>", "\"fuse:*:493:vipada,hans,ihler,ailab\"", "}", "Mount", "a", "Remote", "Directory", "In", "the", "following", "examples,", "please", "replace", "icsuser", "with", "your", "username", "SSHFS", "Options", "idmap=user:", "Makes", "sure", "the", "files", "will", "be", "owned", "by", "the", "local", "user", "allow_other:", "Allow", "your", "non-root", "user", "access", "to", "the", "specific", "resource", "you're", "mounting", "default_permissions:", "Allow", "kernel", "to", "check", "permissions,", "i.e.,", "use", "the", "actual", "permissions", "on", "the", "remote", "filesystem.", "This", "allows", "prohibiting", "access", "to", "everybody", "otherwise", "granted", "by", "allow_other", "Personal", "Workstation", "The", "following", "command", "should", "be", "run", "on", "the", "remote", "system", "where", "you", "want", "to", "mount", "your", "home", "directory:", "sshfs", "-o", "allow_other,idmap=user", "\\", "icsuser@openlab.ics.uci.edu:/home/icsuser", "/mnt/icsuser", "ICS", "Managed", "Linux", "Host", "If", "you", "are", "on", "an", "ICS", "system,", "please", "use", "something", "similar", "to", "the", "following", "instead:", "sshfs", "-o", "default_permissions,idmap=user", "\\", "icsuser@openlab.ics.uci.edu:/home/icsuser", "/scratch/icsuser", "Example", "The", "following", "example", "is", "run", "on", "any", "ICS", "managed", "system", "and", "mounts", "a", "directory", "from", "a", "local", "disk", "on", "a", "remote", "machine,", "medusa.ics.uci.edu,", "as", "the", "user", "hankwu:", "mkdir", "/scratch/hankwu", "sshfs", "-o", "default_permissions,idmap=user", "\\", "hankwu@medusa.ics.uci.edu:/srv/disk00/hans", "/scratch/hankwu", "Some", "of", "these", "settings", "can", "also", "be", "applied", "via", "the", "/etc/fuse.conf", "file.", "Unmount", "Your", "Filesystem", "fusermount", "-u", "/scratch/mountpoint", "Example", "fusermount", "-u", "/scratch/hankwu", "ICS", "Group", "Leader", "Accounts", "If", "the", "space", "you", "need", "to", "access", "is", "owned", "by", "a", "group", "leader", "account", ",", "first", "set", "up", "SSH", "keys", "for", "the", "group", "leader", "account.", "Once", "the", "key", "is", "set", "up", "in", "the", "group", "account,", "then", "use", "the", "following", "command:", "sshfs", "-o", "\"IdentityFile=$HOME/.ssh/yourkeyfile\"", "<user>@<server>:<file_path>", "$HOME/mount-local", "NFSv4", "ICS", "Home", "Directory", "SSHFS", "and", "SMBFS", "Troubleshooting", "Large", "File", "Size", "Support", "An", "issue", "you", "can", "have:", "localuser@local-desktop:/mnt/mountpoint$", "dd", "if=/dev/zero", "of=onegig", "bs=1024", "count=2100000", "File", "size", "limit", "exceeded", "(core", "dumped)", "There's", "no", "large", "file", "support", "because", "SMB", "is", "very", "similar", "to", "the", "FAT", "file", "system.", "DD", "Write", "dd", "if=/dev/zero", "of=onegig", "bs=1024", "count=1000000", "(1.0", "GB)", "copied,", "722.577", "seconds,", "1.4", "MB/s", "DD", "Read", "dd", "if=onegig", "of=/dev/null", "bs=1024", "(1.0", "GB)", "copied,", "252.435", "seconds,", "4.1", "MB/s", "IOZone", "./iozone", "-Rac", "-i", "0", "-i", "1", "-b", "data2.xls", "Writes", "average", "is:", "3416.452381", "KB/s", "Re-writes", "average", "is:", "3791.206349", "KB/s", "Reads", "average", "is:", "3942.507937", "KB/s", "Re-reads"], "content_hash": "a3fe05db40111bc3edefa53ce496694d"}
{"url": "http://www.ics.uci.edu/~jacobson/cs122b/Project/pg_config_os.h", "word_count": 1336, "words": ["/*", "$PostgreSQL:", "pgsql/src/include/port/win32.h,v", "1.83", "2008/01/09", "09:16:43", "mha", "Exp", "$", "*/", "//", "Commented", "out", "references", "to", "timezone", "and", "itimerval,", "as", "they", "are", "defined", "elsewhere", "//", "and", "having", "them", "duplicated", "here", "is", "causing", "fatal", "errors", "when", "compiling", "with", "MSVC++", "cl.exe", "(9.0)", "//", "See", "discussion", "in", "thread", "\"Custom", "C", "function", "-", "is", "palloc()", "broken?\"", "on", "pgsql-general", "newsgroup", "//", "at", "www.postgres.org.", "//", "//", "N.", "Jacobson", "9/15/08", "#if", "defined(_MSC_VER)", "||", "defined(__BORLANDC__)", "#define", "WIN32_ONLY_COMPILER", "#endif", "#define", "_WIN32_WINNT", "0x0500", "/*", "*", "Always", "build", "with", "SSPI", "support.", "Keep", "it", "as", "a", "#define", "in", "case", "*", "we", "want", "a", "switch", "to", "disable", "it", "sometime", "in", "the", "future.", "*/", "#ifndef", "__BORLANDC__", "#define", "ENABLE_SSPI", "1", "#endif", "/*", "undefine", "and", "redefine", "after", "#include", "*/", "#undef", "mkdir", "#undef", "ERROR", "#define", "_WINSOCKAPI_", "#include", "#include", "#include", "#undef", "small", "#include", "#include", "#include", "#include", "#ifndef", "__BORLANDC__", "#include", "/*", "for", "non-unicode", "version", "*/", "#endif", "#undef", "near", "/*", "Must", "be", "here", "to", "avoid", "conflicting", "with", "prototype", "in", "windows.h", "*/", "#define", "mkdir(a,b)", "mkdir(a)", "#define", "HAVE_FSYNC_WRITETHROUGH", "#define", "HAVE_FSYNC_WRITETHROUGH_ONLY", "#define", "ftruncate(a,b)", "chsize(a,b)", "/*", "*", "Even", "though", "we", "don't", "support", "'fsync'", "as", "a", "wal_sync_method,", "*", "we", "do", "fsync()", "a", "few", "other", "places", "where", "_commit()", "is", "just", "fine.", "*/", "#define", "fsync(fd)", "_commit(fd)", "#define", "USES_WINSOCK", "/*", "*", "Ensure", "that", "anyone", "building", "an", "extension", "is", "using", "a", "32", "bit", "time_t.", "*", "On", "Mingw/Msys,", "that", "should", "always", "be", "the", "case,", "but", "MSVC++", "defaults", "*", "to", "64", "bits.", "We", "set", "that", "for", "our", "own", "build", "in", "the", "project", "files", "*/", "#if", "defined(WIN32_ONLY_COMPILER)", "&&", "!defined(FRONTEND)", "#ifndef", "_USE_32BIT_TIME_T", "#error", "\"Postgres", "uses", "32", "bit", "time_t", "-", "add", "#define", "_USE_32BIT_TIME_T", "on", "Windows\"", "#endif", "#endif", "/*", "defines", "for", "dynamic", "linking", "on", "Win32", "platform", "*/", "#if", "defined(WIN32)", "||", "defined(__CYGWIN__)", "#if", "__GNUC__", "&&", "!", "defined", "(__declspec)", "#error", "You", "need", "egcs", "1.1", "or", "newer", "for", "compiling!", "#endif", "#ifdef", "BUILDING_DLL", "#define", "PGDLLIMPORT", "__declspec", "(dllexport)", "#else", "/*", "not", "BUILDING_DLL", "*/", "#define", "PGDLLIMPORT", "__declspec", "(dllimport)", "#endif", "#else", "/*", "not", "CYGWIN,", "not", "MSVC,", "not", "MingW", "*/", "#define", "PGDLLIMPORT", "#endif", "/*", "*", "IPC", "defines", "*/", "#undef", "HAVE_UNION_SEMUN", "#define", "HAVE_UNION_SEMUN", "1", "#define", "IPC_RMID", "256", "#define", "IPC_CREAT", "512", "#define", "IPC_EXCL", "1024", "#define", "IPC_PRIVATE", "234564", "#define", "IPC_NOWAIT", "2048", "#define", "IPC_STAT", "4096", "#define", "EACCESS", "2048", "#define", "EIDRM", "4096", "#define", "SETALL", "8192", "#define", "GETNCNT", "16384", "#define", "GETVAL", "65536", "#define", "SETVAL", "131072", "#define", "GETPID", "262144", "/*", "*", "Signal", "stuff", "*", "*", "For", "WIN32,", "there", "is", "no", "wait()", "call", "so", "there", "are", "no", "wait()", "macros", "*", "to", "interpret", "the", "return", "value", "of", "system().", "Instead,", "system()", "*", "return", "values", "<", "0x100", "are", "used", "for", "exit()", "termination,", "and", "higher", "*", "values", "are", "used", "to", "indicated", "non-exit()", "termination,", "which", "is", "*", "similar", "to", "a", "unix-style", "signal", "exit", "(think", "SIGSEGV", "==", "*", "STATUS_ACCESS_VIOLATION).", "Return", "values", "are", "broken", "up", "into", "groups:", "*", "*", "http://msdn2.microsoft.com/en-gb/library/aa489609.aspx", "*", "*", "NT_SUCCESS", "0", "-", "0x3FFFFFFF", "*", "NT_INFORMATION", "0x40000000", "-", "0x7FFFFFFF", "*", "NT_WARNING", "0x80000000", "-", "0xBFFFFFFF", "*", "NT_ERROR", "0xC0000000", "-", "0xFFFFFFFF", "*", "*", "Effectively,", "we", "don't", "care", "on", "the", "severity", "of", "the", "return", "value", "from", "*", "system(),", "we", "just", "need", "to", "know", "if", "it", "was", "because", "of", "exit()", "or", "generated", "*", "by", "the", "system,", "and", "it", "seems", "values", ">=", "0x100", "are", "system-generated.", "*", "See", "this", "URL", "for", "a", "list", "of", "WIN32", "STATUS_*", "values:", "*", "*", "Wine", "(URL", "used", "in", "our", "error", "messages)", "-", "*", "http://source.winehq.org/source/include/ntstatus.h", "*", "Descriptions", "-", "http://www.comp.nus.edu.sg/~wuyongzh/my_doc/ntstatus.txt", "*", "MS", "SDK", "-", "http://www.nologs.com/ntstatus.html", "*", "*", "It", "seems", "the", "exception", "lists", "are", "in", "both", "ntstatus.h", "and", "winnt.h,", "but", "*", "ntstatus.h", "has", "a", "more", "comprehensive", "list,", "and", "it", "only", "contains", "*", "exception", "values,", "rather", "than", "winnt,", "which", "contains", "lots", "of", "other", "*", "things:", "*", "*", "http://www.microsoft.com/msj/0197/exception/exception.aspx", "*", "*", "The", "ExceptionCode", "parameter", "is", "the", "number", "that", "the", "operating", "system", "*", "assigned", "to", "the", "exception.", "You", "can", "see", "a", "list", "of", "various", "exception", "codes", "*", "in", "WINNT.H", "by", "searching", "for", "#defines", "that", "start", "with", "\"STATUS_\".", "For", "*", "example,", "the", "code", "for", "the", "all-too-familiar", "STATUS_ACCESS_VIOLATION", "is", "*", "0xC0000005.", "A", "more", "complete", "set", "of", "exception", "codes", "can", "be", "found", "in", "*", "NTSTATUS.H", "from", "the", "Windows", "NT", "DDK.", "*", "*", "Some", "day", "we", "might", "want", "to", "print", "descriptions", "for", "the", "most", "common", "*", "exceptions,", "rather", "than", "printing", "an", "include", "file", "name.", "We", "could", "use", "*", "RtlNtStatusToDosError()", "and", "pass", "to", "FormatMessage(),", "which", "can", "print", "*", "the", "text", "of", "error", "values,", "but", "MinGW", "does", "not", "support", "*", "RtlNtStatusToDosError().", "*/", "#define", "WIFEXITED(w)", "(((w)", "&", "0XFFFFFF00)", "==", "0)", "#define", "WIFSIGNALED(w)", "(!WIFEXITED(w))", "#define", "WEXITSTATUS(w)", "(w)", "#define", "WTERMSIG(w)", "(w)", "#define", "sigmask(sig)", "(", "1", "<<", "((sig)-1)", ")", "/*", "Signal", "function", "return", "values", "*/", "#undef", "SIG_DFL", "#undef", "SIG_ERR", "#undef", "SIG_IGN", "#define", "SIG_DFL", "((pqsigfunc)0)", "#define", "SIG_ERR", "((pqsigfunc)-1)", "#define", "SIG_IGN", "((pqsigfunc)1)", "/*", "Some", "extra", "signals", "*/", "#define", "SIGHUP", "1", "#define", "SIGQUIT", "3", "#define", "SIGTRAP", "5", "#define", "SIGABRT", "22", "/*", "Set", "to", "match", "W32", "value", "--", "not", "UNIX", "value", "*/", "#define", "SIGKILL", "9", "#define", "SIGPIPE", "13", "#define", "SIGALRM", "14", "#define", "SIGSTOP", "17", "#define", "SIGTSTP", "18", "#define", "SIGCONT", "19", "#define", "SIGCHLD", "20", "#define", "SIGTTIN", "21", "#define", "SIGTTOU", "22", "/*", "Same", "as", "SIGABRT", "--", "no", "problem,", "I", "hope", "*/", "#define", "SIGWINCH", "28", "#ifndef", "__BORLANDC__", "#define", "SIGUSR1", "30", "#define", "SIGUSR2", "31", "#endif", "/*", "*", "New", "versions", "of", "mingw", "have", "gettimeofday()", "and", "also", "declare", "*", "struct", "timezone", "to", "support", "it.", "*/", "#ifndef", "HAVE_GETTIMEOFDAY", "//struct", "timezone", "//{", "//", "int", "tz_minuteswest;", "/*", "Minutes", "west", "of", "GMT.", "*/", "//", "int", "tz_dsttime;", "/*", "Nonzero", "if", "DST", "is", "ever", "in", "effect.", "*/", "//};", "#endif", "/*", "for", "setitimer", "in", "backend/port/win32/timer.c", "*/", "#define", "ITIMER_REAL", "0", "//struct", "itimerval", "//{", "//", "struct", "timeval", "it_interval;", "//", "struct", "timeval", "it_value;", "//};", "int", "setitimer(int", "which,", "const", "struct", "itimerval", "*", "value,", "struct", "itimerval", "*", "ovalue);", "/*", "*", "Supplement", "to", ".", "*", "*", "Perl", "already", "has", "typedefs", "for", "uid_t", "and", "gid_t.", "*/", "#ifndef", "PLPERL_HAVE_UID_GID", "typedef", "int", "uid_t;", "typedef", "int", "gid_t;", "#endif", "typedef", "long", "key_t;", "#ifdef", "WIN32_ONLY_COMPILER", "typedef", "int", "pid_t;", "#endif", "/*", "*", "Supplement", "to", ".", "*/", "#define", "lstat(path,", "sb)", "stat((path),", "(sb))", "/*", "*", "Supplement", "to", ".", "*", "This", "is", "the", "same", "value", "as", "_O_NOINHERIT", "in", "the", "MS", "header", "file.", "This", "is", "*", "to", "ensure", "that", "we", "don't", "collide", "with", "a", "future", "definition.", "It", "means", "*", "we", "cannot", "use", "_O_NOINHERIT", "ourselves.", "*/", "#define", "O_DSYNC", "0x0080", "/*", "*", "Supplement", "to", ".", "*/", "#undef", "EAGAIN", "#undef", "EINTR", "#define", "EINTR", "WSAEINTR", "#define", "EAGAIN", "WSAEWOULDBLOCK", "#define", "EMSGSIZE", "WSAEMSGSIZE", "#define", "EAFNOSUPPORT", "WSAEAFNOSUPPORT", "#define", "EWOULDBLOCK", "WSAEWOULDBLOCK", "#define", "ECONNRESET", "WSAECONNRESET", "#define", "EINPROGRESS"], "content_hash": "31ad0fae3c52c092c8cb361afebaa627"}
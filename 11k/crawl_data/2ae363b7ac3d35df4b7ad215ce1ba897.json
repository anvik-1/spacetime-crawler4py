{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs222-2016-fall-project4?version=2", "word_count": 3817, "words": ["cs222-2016-fall-project4", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "wiki:", "cs222-2016-fall-project4", "Context", "Navigation", "\u2190", "Previous", "Version", "View", "Latest", "Version", "Next", "Version", "\u2192", "Version", "2", "(modified", "by", "Joyce", "Shin", ",", "9", "years", "ago", ")", "(", "diff", ")", "--", "Project", "4:", "Implementing", "a", "Query", "Engine", "with", "the", "Extension", "of", "the", "\u2026", "Introduction", "Part", "4.1:", "RelationManager", "Extensions", "RelationManager", "RC", "createIndex(const", "string", "&tableName,", "const", "string", "&attributeName)", "RC", "destroyIndex(const", "string", "&tableName,", "const", "string", "&attributeName)", "RC", "indexScan(const", "string", "&tableName,", "const", "string", "&attributeName,", "\u2026", "RM_IndexScanIterator", "RC", "getNextEntry(RID", "&rid,", "void", "*key)", "RC", "close()", "Part", "4.2:", "Query", "Engine", "Iterator", "Interface", "virtual", "RC", "getNextTuple(void", "*data)", "virtual", "void", "getAttributes(vector<Attribute>", "&attrs)", "Filter", "Interface", "Project", "Interface", "Block", "Nested-Loop", "Join", "Interface", "Index", "Nested-Loop", "Join", "Interface", "Grace", "Hash", "Join", "Interface", "Aggregate", "Interface", "Important", "Note", "An", "Example", "Command", "Line", "Interface", "Interpreter", "Appendix", "Testing", "Submission", "Instructions", "Grading", "Rubrics", "Q", "&", "A", "Project", "4:", "Implementing", "a", "Query", "Engine", "with", "the", "Extension", "of", "the", "Relation", "Manager", "Deadline:", "Thursday,", "Dec", "1,", "2016", "at", "11:45", "pm,", "on", "EEE.", "Full", "Credit:", "100", "points", "Maximum", "Extra", "Credit:", "15", "points.", "As", "in", "Projects", "2", "and", "3,", "you", "should", "work", "with", "your", "original", "team", "member", "for", "this", "Project.", "Introduction", "In", "this", "project,", "you", "will", "first", "extend", "the", "RelationManager", "(RM)", "component", "that", "you", "implemented", "for", "project", "2", "so", "that", "the", "RM", "layer", "can", "orchestrate", "both", "the", "RecordBasedFileManager", "(RBF)", "and", "IndexManager", "(IX)", "layers", "when", "tuple-level", "operations", "happen,", "and", "the", "RM", "layer", "will", "also", "be", "managing", "the", "catalog", "information", "related", "to", "indices", "at", "this", "level.", "After", "the", "RM", "layer", "extension,", "you", "will", "implement", "a", "QueryEngine", "(QE)", "component.", "The", "QE", "component", "provides", "classes", "and", "methods", "for", "answering", "SQL", "queries.", "For", "simplicity,", "you", "only", "need", "to", "implement", "several", "basic", "relational", "operators.", "All", "operators", "are", "iterator-based.", "To", "give", "you", "a", "jumpstart,", "we've", "implemented", "two", "wrapper", "operators", "on", "top", "of", "the", "RM", "layer", "that", "provide", "file", "and", "index", "scanning.", "See", "the", "Appendix", "for", "more", "details.", "You", "can", "download", "the", "codebase", "\u200b", ".", "See", "also", "the", "test", "cases", "included", "in", "the", "codebase", "for", "in-depth", "examples", "of", "how", "the", "operators", "are", "used.", "Part", "4.1:", "RelationManager", "Extensions", "RelationManager", "All", "of", "the", "methods", "that", "you", "implemented", "for", "Project", "2", "should", "now", "be", "extended", "to", "coordinate", "data", "files", "plus", "any", "associated", "indices", "of", "the", "data", "files.", "For", "example,", "if", "you", "insert", "a", "tuple", "into", "a", "table", "using", "RelationManager::insertTuple(),", "the", "tuple", "should", "be", "inserted", "into", "the", "table", "(via", "the", "RBF", "layer)", "and", "each", "corresponding", "entry", "should", "be", "inserted", "into", "each", "associated", "index", "of", "the", "table", "(via", "the", "IX", "layer).", "Also,", "if", "you", "delete", "a", "table", "using", "RelationManager::deleteTable(),", "all", "associated", "indices", "should", "be", "deleted,", "too.", "This", "applies", "both", "to", "catalog", "entries", "that", "record", "what's", "what", "and", "to", "the", "file", "artifacts", "themselves.", "The", "RelationManager", "class,", "in", "addition", "to", "enforcing", "the", "coordination", "semantics", "between", "data", "files", "and", "the", "indices", "in", "your", "existing", "methods,", "will", "also", "include", "the", "following", "newly-added", "index-related", "methods.", "These", "methods", "can", "all", "be", "implemented", "by", "simply", "delegating", "their", "work", "to", "the", "underlying", "IX", "layer", "that", "you", "built", "in", "Project", "3.", "(This", "part", "of", "the", "project", "is", "largely", "a", "big", "wrapper.", ":-))", "class", "RelationManager", "{", "public:", "...", "RC", "createIndex(const", "string", "&tableName,", "const", "string", "&attributeName);", "RC", "destroyIndex(const", "string", "&tableName,", "const", "string", "&attributeName);", "//", "indexScan", "returns", "an", "iterator", "to", "allow", "the", "caller", "to", "go", "through", "qualified", "entries", "in", "index", "RC", "indexScan(const", "string", "&tableName,", "const", "string", "&attributeName,", "const", "void", "*lowKey,", "const", "void", "*highKey,", "bool", "lowKeyInclusive,", "bool", "highKeyInclusive,", "RM_IndexScanIterator", "&rm_IndexScanIterator", ");", "...", "}", "RC", "createIndex(const", "string", "&tableName,", "const", "string", "&attributeName)", "This", "method", "creates", "an", "index", "on", "a", "given", "attribute", "of", "a", "given", "table.", "(It", "should", "also", "reflect", "its", "existence", "in", "the", "catalogs.)", "RC", "destroyIndex(const", "string", "&tableName,", "const", "string", "&attributeName)", "This", "method", "destroys", "an", "index", "on", "a", "given", "attribute", "of", "a", "given", "table.", "(It", "should", "also", "reflect", "its", "non-existence", "in", "the", "catalogs.)", "RC", "indexScan(const", "string", "&tableName,", "const", "string", "&attributeName,", "const", "void", "*lowKey,", "const", "void", "*highKey,", "bool", "lowKeyInclusive,", "bool", "highKeyInclusive,", "RM_IndexScanIterator", "&rm_IndexScanIterator)", "This", "method", "should", "initialize", "a", "condition-based", "scan", "over", "the", "entries", "in", "the", "open", "index", "on", "the", "given", "attribute", "of", "the", "given", "table.", "If", "the", "scan", "initiation", "method", "is", "successful,", "a", "RM_IndexScanIterator", "object", "called", "rm_IndexScanIterator", "is", "returned.", "(Please", "see", "the", "RM_IndexScanIterator", "class", "below.)", "Once", "underway,", "by", "calling", "RM_IndexScanIterator::getNextEntry(),", "the", "iterator", "should", "produce", "the", "entries", "of", "all", "records", "whose", "indexed", "attribute", "key", "falls", "into", "the", "range", "specified", "by", "the", "lowKey,", "highKey,", "and", "inclusive", "flags.", "If", "lowKey", "is", "NULL,", "it", "can", "be", "interpreted", "as", "-infinity.", "If", "highKey", "is", "NULL,", "it", "can", "be", "interpreted", "as", "+infinity.", "The", "format", "of", "the", "parameter", "lowKey", "and", "highKey", "is", "the", "same", "as", "the", "format", "of", "the", "key", "in", "IndexManager::insertEntry().", "RM_IndexScanIterator", "class", "RM_IndexScanIterator", "{", "public:", "RM_IndexScanIterator();", "//", "Constructor", "~RM_IndexScanIterator();", "//", "Destructor", "//", "\"key\"", "follows", "the", "same", "format", "as", "in", "IndexManager::insertEntry()", "RC", "getNextEntry(RID", "&rid,", "void", "*key);", "//", "Get", "next", "matching", "entry", "RC", "close();", "//", "Terminate", "index", "scan", "};", "RC", "getNextEntry(RID", "&rid,", "void", "*key)", "This", "method", "should", "set", "its", "output", "parameters", "rid", "and", "key", "to", "be", "the", "RID", "and", "key,", "respectively,", "of", "the", "next", "record", "in", "the", "index", "scan.", "This", "method", "should", "return", "RM_EOF", "if", "there", "are", "no", "index", "entries", "left", "satisfying", "the", "scan", "condition.", "You", "may", "assume", "that", "RM", "component", "clients", "will", "not", "close", "the", "corresponding", "open", "index", "while", "a", "scan", "is", "underway.", "RC", "close()", "This", "method", "should", "terminate", "the", "index", "scan.", "Part", "4.2:", "Query", "Engine", "Iterator", "Interface", "All", "of", "the", "operators", "that", "you", "will", "implement", "in", "this", "part", "inherit", "from", "the", "following", "Iterator", "interface.", "class", "Iterator", "{", "//", "All", "the", "relational", "operators", "and", "access", "methods", "are", "iterators", "//", "This", "class", "is", "the", "super", "class", "of", "all", "the", "following", "operator", "classes", "public:", "virtual", "RC", "getNextTuple(void", "*data)", "=", "0;", "//", "For", "each", "attribute", "in", "vector<Attribute>,", "name", "it", "rel.attr", "virtual", "void", "getAttributes(vector<Attribute>", "&attrs)", "const", "=", "0;", "virtual", "~Iterator()", "{};", "};", "virtual", "RC", "getNextTuple(void", "*data)", "This", "method", "should", "set", "the", "output", "parameter", "data", "of", "the", "next", "record.", "The", "format", "of", "the", "data", "parameter,", "which", "refers", "to", "the", "next", "tuple", "of", "the", "operator's", "output,", "is", "the", "same", "as", "that", "used", "in", "previous", "projects.", "Also,", "null-indicators", "for", "the", "given", "attributes", "are", "always", "placed", "at", "the", "beginning", "of", "data", ".", "That", "is,", "the", "tuple", "value", "is", "a", "sequence", "of", "binary", "attribute", "values", "in", "which", "null-indicators", "are", "placed", "first", "and", "then"], "content_hash": "7efe5565e657f55927a1d9f08efb334f"}
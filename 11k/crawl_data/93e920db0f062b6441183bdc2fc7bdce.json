{"url": "http://www.ics.uci.edu/~jacobson/cs122b/Project/06-Phase3SuppSW/LEDAforPostgresql.c", "word_count": 1538, "words": ["/*", "Copyright", "(c)", "2000", "Timothy", "H.", "Keitt", "*/", "/*", "Licence:", "GPL", "version", "2", "or", "higher", "(see", "http://www.gnu.org/)", "*/", "/*", "Modified", "by", "Norman", "Jacobson", "to", "be", "compatible", "with", "Type", "1", "*/", "/*", "C", "functions", "and", "to", "compile", "and", "link", "properly", "*/", "/*", "with", "Visual", "Studio", "(Express)", "90", "on", "Windows", "XP", "*/", "/*", "September", "2008", "*/", "/*", "Minor", "typo", "in", "comments", "fixed", "by", "Norman", "Jacobson,", "November", "2008", "*/", "/*", "Modifications", "to", "use", "32", "bit", "time,", "avoid", "BUILDING_DLL,", "*", "ensure", "thet", "modules", "are", "declared", "as", "export", "(dllexport)", "*", "and", "redefintion", "of", "PG_MODULE_MAGIC", "and", "PG_FUNC_INVO_V1", "*", "to", "work", "properly", "in", "a", "Visal", "Studio", "C/Windows", "environment", "*", "from", "an", "example", "posted", "to", "the", "postgres", "pgsql-general", "*", "mailing", "list", "on", "5", "May", "2008", "by", "Craig", "Ringer", "*/", "/*", "To", "compile", "and", "link", "with", "Visual", "Studio", "9.0,", "call", "up", "*", "the", "Visual", "Studio", "2008", "command", "prompt", "*", "(not", "the", "Windows", "console", "DOS", "window--the", "standard", "*", "command", "prompt", "does", "not", "know", "where", "needed", "C", "libraries", "are)", "*", "and", "issue", "*", "cl", "/I", "\\include", "erver", "/I", "\\include", "erver\\port\\win32", "/c", "LEDAforPostgresql.c\"", "*", "link", "/DLL", "LEDAforPostgresql.obj", "\\bin\\postgres.lib", "*", "*", "Place", "resulting", "ldist.dll", "into", "\\lib", "*", "to", "make", "it", "readily", "available", "to", "postgreSQL", "databases.", "*", "*", "Note", "fixes", "need", "to", "be", "made", "to", "pg_config_os.h", "and", "*", "libintl.h", "added", "to", "/include/server/port/win32", "*", "for", "linking", "to", "suceed;", "for", "details,", "see", "*", "http://www.ics.uci.edu/~jacobson/cs122b/Project/03-Phase0.html", "*", "and", "the", "Ringer", "email", "thread", "noted", "above.", "*/", "/*", "Use", "32-bit", "timer", "(provided", "header", "file", "uses", "64-bit", "timer,", "not", "*", "compatible", "with", "Windows", "postgreSQL", "versions", "*/", "#ifndef", "_USE_32BIT_TIME_T", "#define", "_USE_32BIT_TIME_T", "#endif", "/*", "BUILDING_DLL", "causes", "the", "declarations", "in", "Pg's", "headers", "to", "be", "declared", "*", "__declspec(dllexport)", "which", "will", "break", "DLL", "linkage.", "*/", "#ifdef", "BUILDING_DLL", "#error", "Do", "not", "define", "BUILDING_DLL", "when", "building", "extension", "libraries", "#endif", "/*", "Ensure", "that", "Pg_module_function", "and", "friends", "are", "declared", "__declspec(dllexport)", "*/", "#ifndef", "BUILDING_MODULE", "#define", "BUILDING_MODULE", "#endif", "#include", "\"postgres.h\"", "#include", "#include", "\"fmgr.h\"", "#include", "\"utils/geo_decls.h\"", "/*---------------", "BEGIN", "REDEFINITION", "OF", "PG", "MACROS", "-------------------", "*", "*", "These", "rewritten", "versions", "of", "PG_MODULE_MAGIC", "and", "PG_FUNCTION_INFO_V1", "*", "declare", "the", "module", "functions", "as", "__declspec(dllexport)", "when", "building", "*", "a", "module.", "They", "also", "provide", "PGMODULEEXPORT", "for", "exporting", "functions", "*", "in", "user", "DLLs.", "*/", "#undef", "PG_MODULE_MAGIC", "#undef", "PG_FUNCTION_INFO_V1", "#define", "PGMODULEEXPORT", "__declspec", "(dllexport)", "#define", "PG_MODULE_MAGIC", "\\", "PGMODULEEXPORT", "const", "Pg_magic_struct", "*", "\\", "PG_MAGIC_FUNCTION_NAME(void)", "\\", "{", "\\", "static", "const", "Pg_magic_struct", "Pg_magic_data", "=", "PG_MODULE_MAGIC_DATA;", "\\", "return", "&Pg_magic_data;", "\\", "}", "\\", "extern", "int", "no_such_variable", "#define", "PG_FUNCTION_INFO_V1(funcname)", "\\", "PGMODULEEXPORT", "const", "Pg_finfo_record", "*", "\\", "CppConcat(pg_finfo_,funcname)", "(void)", "\\", "{", "\\", "static", "const", "Pg_finfo_record", "my_finfo", "=", "{", "1", "};", "\\", "return", "&my_finfo;", "\\", "}", "\\", "extern", "int", "no_such_variable", "/*---------------", "END", "REDEFINITION", "OF", "PG", "MACROS", "-------------------*/", "#define", "STATIC_SIZE", "32", "/*", "This", "must", "be", "changed", "if", "STATIC_SIZE", "is", "changed", "*/", "static", "int4", "static_array[STATIC_SIZE][STATIC_SIZE]", "=", "{", "{0,", "1,", "2,", "3,", "4,", "5,", "6,", "7,", "8,", "9,", "10,", "11,", "12,", "13,", "14,", "15,", "16,", "17,", "18,", "19,", "20,", "21,", "22,", "23,", "24,", "25,", "26,", "27,", "28,", "29,", "30,", "31},", "{1,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{2,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{3,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{4,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{5,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{6,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{7,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{8,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{9,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{10,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{11,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{12,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{13,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{14,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{15,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{16,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0},", "{17,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,", "0,"], "content_hash": "5bf60694fae3c1a41dab270067597657"}
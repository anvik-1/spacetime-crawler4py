{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs222-2016-fall-project4?action=diff&version=1", "word_count": 4278, "words": ["cs222-2016-fall-project4", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Initial", "Version", "and", "Version", "1", "of", "cs222-2016-fall-project4", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "Nov", "16,", "2016,", "6:07:59", "PM", "(", "9", "years", "ago)", "Author:", "Joyce", "Shin", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs222-2016-fall-project4", "v1", "v1", "1", "[[PageOutline]]", "2", "3", "=", "Project", "4:", "Implementing", "a", "Query", "Engine", "with", "the", "Extension", "of", "the", "Relation", "Manager", "=", "4", "*", "'''", "Deadline:", "Thursday,", "Dec", "1,", "2016", "at", "11:45", "pm,", "on", "EEE.'''", "5", "*", "'''", "Full", "Credit:", "100", "points", "'''", "6", "*", "'''", "Maximum", "Extra", "Credit:", "15", "points.", "Note:", "If", "you", "are", "a", "solo", "undergraduate", "and", "you", "have", "correctly", "implemented", "all", "functionalities", "in", "this", "document,", "then", "your", "total", "extra-credit", "points", "will", "exceed", "15.", "However,", "you", "will", "only", "get", "15", "extra-credit", "points", "as", "this", "is", "our", "maximum.", "'''[[br]]", "7", "*", "'''", "As", "in", "Projects", "2", "and", "3,", "you", "should", "work", "with", "your", "original", "team", "member", "for", "this", "Project.", "'''", "8", "9", "==", "Introduction", "==", "10", "In", "this", "project,", "you", "will", "first", "extend", "the", "!RelationManager", "(RM)", "component", "that", "you", "implemented", "for", "project", "2", "so", "that", "the", "RM", "layer", "can", "orchestrate", "both", "the", "!RecordBasedFileManager", "(RBF)", "and", "!IndexManager", "(IX)", "layers", "when", "tuple-level", "operations", "happen,", "and", "the", "RM", "layer", "will", "also", "be", "managing", "the", "catalog", "information", "related", "to", "indices", "at", "this", "level.", "After", "the", "RM", "layer", "extension,", "you", "will", "implement", "a", "!QueryEngine", "(QE)", "component.", "The", "QE", "component", "provides", "classes", "and", "methods", "for", "answering", "SQL", "queries.", "For", "simplicity,", "you", "only", "need", "to", "implement", "several", "basic", "relational", "operators.", "All", "operators", "are", "iterator-based.", "To", "give", "you", "a", "jumpstart,", "we've", "implemented", "two", "wrapper", "operators", "on", "top", "of", "the", "RM", "layer", "that", "provide", "file", "and", "index", "scanning.", "See", "the", "[wiki:cs222-2016-fall-project4#Appendix", "Appendix]", "for", "more", "details.[[BR]]", "11", "12", "You", "can", "download", "the", "[attachment:codebase.zip", "codebase].", "13", "See", "also", "the", "test", "cases", "included", "in", "the", "codebase", "for", "in-depth", "examples", "of", "how", "the", "operators", "are", "used.", "14", "15", "16", "[[BR]]", "17", "=", "Part", "4.1:", "!RelationManager", "Extensions", "=", "18", "==", "!RelationManager", "==", "19", "All", "of", "the", "methods", "that", "you", "implemented", "for", "Project", "2", "should", "now", "be", "extended", "to", "coordinate", "data", "files", "plus", "any", "associated", "indices", "of", "the", "data", "files.", "For", "example,", "if", "you", "insert", "a", "tuple", "into", "a", "table", "using", "RelationManager::insertTuple(),", "the", "tuple", "should", "be", "inserted", "into", "the", "table", "(via", "the", "RBF", "layer)", "and", "each", "corresponding", "entry", "should", "be", "inserted", "into", "each", "associated", "index", "of", "the", "table", "(via", "the", "IX", "layer).", "Also,", "if", "you", "delete", "a", "table", "using", "RelationManager::deleteTable(),", "all", "associated", "indices", "should", "be", "deleted,", "too.", "This", "applies", "both", "to", "catalog", "entries", "that", "record", "what's", "what", "and", "to", "the", "file", "artifacts", "themselves.", "The", "!RelationManager", "class,", "in", "addition", "to", "enforcing", "the", "coordination", "semantics", "between", "data", "files", "and", "the", "indices", "in", "your", "existing", "methods,", "will", "also", "include", "the", "following", "newly-added", "index-related", "methods.", "These", "methods", "can", "all", "be", "implemented", "by", "simply", "delegating", "their", "work", "to", "the", "underlying", "IX", "layer", "that", "you", "built", "in", "Project", "3.", "(This", "part", "of", "the", "project", "is", "largely", "a", "big", "wrapper.", ":-))", "20", "21", "{{{", "22", "class", "RelationManager", "23", "{", "24", "public:", "25", "...", "26", "RC", "createIndex(const", "string", "&tableName,", "const", "string", "&attributeName);", "27", "28", "RC", "destroyIndex(const", "string", "&tableName,", "const", "string", "&attributeName);", "29", "30", "//", "indexScan", "returns", "an", "iterator", "to", "allow", "the", "caller", "to", "go", "through", "qualified", "entries", "in", "index", "31", "RC", "indexScan(const", "string", "&tableName,", "32", "const", "string", "&attributeName,", "33", "const", "void", "*lowKey,", "34", "const", "void", "*highKey,", "35", "bool", "lowKeyInclusive,", "36", "bool", "highKeyInclusive,", "37", "RM_IndexScanIterator", "&rm_IndexScanIterator", "38", ");", "39", "...", "40", "}", "41", "}}}", "42", "43", "===", "RC", "createIndex(const", "string", "&tableName,", "const", "string", "&attributeName)", "===", "44", "This", "method", "creates", "an", "index", "on", "a", "given", "attribute", "of", "a", "given", "table.", "(It", "should", "also", "reflect", "its", "existence", "in", "the", "catalogs.)", "45", "46", "===", "RC", "destroyIndex(const", "string", "&tableName,", "const", "string", "&attributeName)", "===", "47", "This", "method", "destroys", "an", "index", "on", "a", "given", "attribute", "of", "a", "given", "table.", "(It", "should", "also", "reflect", "its", "non-existence", "in", "the", "catalogs.)", "48", "49", "===", "RC", "indexScan(const", "string", "&tableName,", "const", "string", "&attributeName,", "const", "void", "*lowKey,", "const", "void", "*highKey,", "bool", "lowKeyInclusive,", "bool", "highKeyInclusive,", "RM_IndexScanIterator", "&rm_IndexScanIterator)", "===", "50", "This", "method", "should", "initialize", "a", "condition-based", "scan", "over", "the", "entries", "in", "the", "open", "index", "on", "the", "given", "attribute", "of", "the", "given", "table.", "If", "the", "scan", "initiation", "method", "is", "successful,", "a", "RM_IndexScanIterator", "object", "called", "rm_IndexScanIterator", "is", "returned.", "(Please", "see", "the", "RM_IndexScanIterator", "class", "below.)", "Once", "underway,", "by", "calling", "RM_IndexScanIterator::getNextEntry(),", "the", "iterator", "should", "produce", "the", "entries", "of", "all", "records", "whose", "indexed", "attribute", "key", "falls", "into", "the", "range", "specified", "by", "the", "lowKey,", "highKey,", "and", "inclusive", "flags.", "If", "lowKey", "is", "NULL,", "it", "can", "be", "interpreted", "as", "-infinity.", "If", "highKey", "is", "NULL,", "it", "can", "be", "interpreted", "as", "+infinity.", "The", "format", "of", "the", "parameter", "lowKey", "and", "highKey", "is", "the", "same", "as", "the", "format", "of", "the", "key", "in", "IndexManager::insertEntry().", "51", "52", "==", "RM_IndexScanIterator", "==", "53", "{{{", "54", "class", "RM_IndexScanIterator", "{", "55", "public:", "56", "RM_IndexScanIterator();", "//", "Constructor", "57", "~RM_IndexScanIterator();", "//", "Destructor", "58", "59", "//", "\"key\"", "follows", "the", "same", "format", "as", "in", "IndexManager::insertEntry()", "60", "RC", "getNextEntry(RID", "&rid,", "void", "*key);", "//", "Get", "next", "matching", "entry", "61", "RC", "close();", "//", "Terminate", "index", "scan", "62", "};", "63", "}}}", "64", "65", "===", "RC", "getNextEntry(RID", "&rid,", "void", "*key)", "===", "66", "This", "method", "should", "set", "its", "output", "parameters", "rid", "and", "key", "to", "be", "the", "RID", "and", "key,", "respectively,", "of", "the", "next", "record", "in", "the", "index", "scan.", "This", "method", "should", "return", "RM_EOF", "if", "there", "are", "no", "index", "entries", "left", "satisfying", "the", "scan", "condition.", "You", "may", "assume", "that", "RM", "component", "clients", "will", "not", "close", "the", "corresponding", "open", "index", "while", "a", "scan", "is", "underway.", "67", "68", "===", "RC", "close()", "===", "69", "This", "method", "should", "terminate", "the", "index", "scan.", "70", "71", "72", "[[BR]]", "73", "[[BR]]", "74", "=", "Part", "4.2:", "Query", "Engine", "=", "75", "==", "Iterator", "Interface", "==", "76", "All", "of", "the", "operators", "that", "you", "will", "implement", "in", "this", "part", "inherit", "from", "the", "following", "'''Iterator'''", "interface.", "77", "78", "{{{", "79", "class", "Iterator", "{", "80", "//", "All", "the", "relational", "operators", "and", "access", "methods", "are", "iterators", "81", "//", "This", "class", "is", "the", "super", "class", "of", "all", "the"], "content_hash": "e66c16b407ad1f5fadb1896b6fbb2c45"}
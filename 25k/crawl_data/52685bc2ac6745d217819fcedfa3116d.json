{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2017-winter-project5?action=diff&version=2", "word_count": 1078, "words": ["cs122b-2017-winter-project5", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Version", "1", "and", "Version", "2", "of", "cs122b-2017-winter-project5", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "Mar", "2,", "2017,", "10:36:41", "PM", "(", "9", "years", "ago)", "Author:", "Chen", "Luo", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs122b-2017-winter-project5", "v1", "v2", "7", "7", "8", "8", "1.", "JDBC", "connection", "pooling", "and", "Prepared", "statements", "9", "2.", "10", "9", "1.", "Scaling", "Fabflix", "with", "a", "cluster", "of", "MySQL/Tomcat", "and", "a", "frontend", "load", "balancer;", "11", "1.", "Implement", "a", "simple", "Android", "app", "for", "Fabflix.", "12", "10", "1.", "Measuring", "the", "performance", "of", "Fabflix", "search", "feature", "13", "11", "14", "12", "----", "\u2026", "\u2026", "20", "18", "'''Step", "2:'''", "Enable", "JDBC", "connection", "pooling", "for", "Fabflix.", "We", "will", "use", "our", "running", "application", "of", "\"!TomcatTest\"", "to", "show", "how", "to", "change", "it", "to", "use", "connection", "pooling.", "Note:", "We", "do", "not", "know", "whether", "the", "instructions", "will", "work", "for", "JSP", "or", "not.", "21", "19", "22", "1.", "Download", "and", "deploy", "the", "following", "[attachment:wiki:cs122b-201", "6", "-winter-project5:TomcatPooling.war", "TomcatPooling.war]", "file.", "The", "file", "'''!TomcatPooling\\META-INF\\context.xml'''", "includes", "important", "information", "about", "the", "database,", "user", "name,", "password,", "and", "pooling", "configuration.", "If", "you", "want", "to", "change", "this", "file,", "you", "need", "to", "undeploy", "the", "war", "file,", "make", "those", "changes,", "make", "a", "new", "war", "file,", "and", "deploy", "the", "new", "war", "file.", "Otherwise,", "the", "Tomcat", "server", "may", "still", "use", "the", "previous", "context.xml.", "Check", "[http://tomcat.apache.org/tomcat-8.5-doc/jndi-datasource-examples-howto.html]", "for", "more", "information", "about", "how", "to", "configure", "connection", "pooling.", "20", "1.", "Download", "and", "deploy", "the", "following", "[attachment:wiki:cs122b-201", "7", "-winter-project5:TomcatPooling.war", "TomcatPooling.war]", "file.", "The", "file", "'''!TomcatPooling\\META-INF\\context.xml'''", "includes", "important", "information", "about", "the", "database,", "user", "name,", "password,", "and", "pooling", "configuration.", "If", "you", "want", "to", "change", "this", "file,", "you", "need", "to", "undeploy", "the", "war", "file,", "make", "those", "changes,", "make", "a", "new", "war", "file,", "and", "deploy", "the", "new", "war", "file.", "Otherwise,", "the", "Tomcat", "server", "may", "still", "use", "the", "previous", "context.xml.", "Check", "[http://tomcat.apache.org/tomcat-8.5-doc/jndi-datasource-examples-howto.html]", "for", "more", "information", "about", "how", "to", "configure", "connection", "pooling.", "23", "21", "1.", "Go", "to", "the", "link", "http://localhost:8080/TomcatPooling/servlet/TomcatTest", "to", "test", "your", "application.", "You", "must", "see", "a", "list", "of", "rows", "displayed", "on", "the", "webpage.", "24", "22", "1.", "Look", "into", "the", "following", "files", "for", "the", "main", "changes", "in", "this", "war", "file", "compared", "to", "the", "previous", "war", "file", "without", "connection", "pooling:", "\u2026", "\u2026", "37", "35", "----", "38", "36", "==", "Task", "2:", "Scaling", "Fabflix", "==", "39", "'''Step", "1''':", "Setup", "two", "AWS", "instances", "as", "two", "backend", "servers.", "We", "call", "them", "the", "\"master", "instance\"", "and", "the", "\"slave", "instance\"", "(in", "the", "context", "of", "MySQL", "replication).", "Learn", "how", "to", "do", "MySQL", "replication", "using", "these", "two", "instances", "by", "following", "this", "[https://grape.ics.uci.edu/wiki/public/wiki/cs122b-201", "6-spring", "-project5-mysql-master-slave", "MySQL", "replication", "tutorial].", "37", "'''Step", "1''':", "Setup", "two", "AWS", "instances", "as", "two", "backend", "servers.", "We", "call", "them", "the", "\"master", "instance\"", "and", "the", "\"slave", "instance\"", "(in", "the", "context", "of", "MySQL", "replication).", "Learn", "how", "to", "do", "MySQL", "replication", "using", "these", "two", "instances", "by", "following", "this", "[https://grape.ics.uci.edu/wiki/public/wiki/cs122b-201", "7-winter", "-project5-mysql-master-slave", "MySQL", "replication", "tutorial].", "40", "38", "41", "39", "'''Step", "2", "(master/slave)''':", "On", "each", "instance,", "uninstall", "the", "old", "MySQL", "and", "re-install", "it", "([http://askubuntu.com/questions/172514/how-do-i-uninstall-mysql", "reference]):", "\u2026", "\u2026", "62", "60", "}}}", "63", "61", "64", "'''Step", "3", "(master/slave)''':", "Setup", "Tomcat", "on", "each", "master/slave", "instance", "by", "following", "the", "[https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-", "7-on-ubuntu-14-04-via-apt-get", "instructions", "].", "(You", "should", "have", "done", "it", "many", "times.)", "65", "66", "'''Step", "4", "(master/slave)''':", "On", "each", "master/slave", "instance,", "deploy", "[https://grape.ics.uci.edu/wiki/public/attachment/wiki/cs122b-201", "6-spring-project2", "/TomcatTest.war", "TomcatTest.war].", "Make", "the", "URL", "http://PUBLIC_IP:8080/TomcatTest/servlet/TomcatTest", "work.", "Make", "sure", "to", "modify", "the", "AWS", "security", "group", "setting", "for", "these", "two", "instances", "to", "allow", "remote", "access", "to", "their", "8080", "port.", "67", "68", "'''Step", "5", "(master/slave)''':", "On", "each", "master/slave", "instance,", "deploy", "[https://grape.ics.uci.edu/wiki/public/attachment/wiki/cs122b-201", "6-spring-project2", "/Session.war", "Session.war].", "Make", "the", "URL", "http://PUBLIC_IP:8080/Session/servlet/ShowSession?myname=Michael", "work.", "62", "'''Step", "3", "(master/slave)''':", "Setup", "Tomcat", "on", "each", "master/slave", "instance", "by", "following", "the", "[https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-", "8-on-ubuntu-14-04", "install", "tomcat", "].", "(You", "should", "have", "done", "it", "many", "times.)", "63", "64", "'''Step", "4", "(master/slave)''':", "On", "each", "master/slave", "instance,", "deploy", "[https://grape.ics.uci.edu/wiki/public/attachment/wiki/cs122b-201", "7-winter-project5", "/TomcatTest.war", "TomcatTest.war].", "Make", "the", "URL", "http://PUBLIC_IP:8080/TomcatTest/servlet/TomcatTest", "work.", "Make", "sure", "to", "modify", "the", "AWS", "security", "group", "setting", "for", "these", "two", "instances", "to", "allow", "remote", "access", "to", "their", "8080", "port.", "65", "66", "'''Step", "5", "(master/slave)''':", "On", "each", "master/slave", "instance,", "deploy", "[https://grape.ics.uci.edu/wiki/public/attachment/wiki/cs122b-201", "7-winter-project5", "/Session.war", "Session.war].", "Make", "the", "URL", "http://PUBLIC_IP:8080/Session/servlet/ShowSession?myname=Michael", "work.", "69", "67", "70", "68", "'''Step", "6", "(instance", "1)''':", "On", "the", "instance", "that", "runs", "the", "original", "Fablix", "instance", "(called", "\"instance", "1\"),", "setup", "Apache", "and", "its", "proxy", "by", "doing", "the", "following:", "\u2026", "\u2026", "135", "133", "Here's", "a", "sample", "Apache", "configuration", "file", "[attachment:000-default.conf].", "136", "134", "137", "'''Step", "9", "(master/slave):'''", "Make", "the", "two", "backend", "instances", "form", "a", "master/slave", "cluster", "based", "on", "the", "instructions", "you", "learned", "in", "step", "1", "about", "[https://grape.ics.uci.edu/wiki/public/wiki/cs122b-201", "6-spring", "-project5-mysql-master-slave", "MySQL", "replication", "tutorial].", "135", "'''Step", "9", "(master/slave):'''", "Make", "the", "two", "backend", "instances", "form", "a", "master/slave", "cluster", "based", "on", "the", "instructions", "you", "learned", "in", "step", "1", "about", "[https://grape.ics.uci.edu/wiki/public/wiki/cs122b-201", "7-winter", "-project5-mysql-master-slave", "MySQL", "replication", "tutorial].", "138", "136", "139", "137", "'''Step", "10", "(main", "task)''':", "Deploy", "your", "Fabflix", "system", "to", "the", "two", "backend", "instances.", "Do", "MySQL", "master/slave", "replication.", "Configure", "the", "original", "instance", "properly", "to", "enable", "load", "balancing,", "connection", "pooling,", "support", "sessions,", "and", "send", "write", "requests", "to", "the", "master", "instance", "only.", "Enabling", "the", "scaled", "version", "with", "HTTPS", "is", "'''optional'''.", "Note", "that", "you", "are", "required", "to", "add", "a", "section", "to", "the", "connection", "pooling", "report", "(i.e.,", "at", "http://INSTANCE1_PUBLIC_IP:8080/fabflix/reports/connection_pooling)", "and", "explain", "how", "to", "use", "connection", "pooling", "in", "the", "case", "of", "having", "two", "backend", "servers.", "\u2026", "\u2026", "142", "140", "143", "141", "[[Image(wiki:cs122b-2017-winter-project5:load_balancing.png)]]", "144", "145", "142", "146", "143", "----", "\u2026", "\u2026", "204", "201", "1.", "Use", "HTTP,", "without", "using", "connection", "pooling,", "10", "threads", "in", "JMeter.", "205", "202", "206", "207", "203", "----", "208", "204", "=", "=", "209", "205", "=", "Preparing", "the", "Package", "for", "Submission", "=", "210", "1.", "There", "will", "be", "no", "demo", "for", "this", "project.", "211", "1.", "You", "should", "take", "the", "following", "steps", "to", "prepare", "your", "package", "for", "submission.", "When", "prepared,", "submit", "the", "package", "to", "EEE", "(i.e.,", "one", "submission", "per", "team).", "212", "1.", "Create", "a", "directory,", "called", "`\"project5_[GROUP", "ID]\"`", "on", "your", "local", "machine.", "You", "are", "required", "to", "include", "all", "the", "three", "`reports`", "as", "well", "as", "the", "`\"fabflix_webapp.war\"`.", "213", "214", "206", "1.", "There", "will", "be", "no", "demo", "for", "this", "project.", "207", "1.", "You", "should", "take", "the", "following", "steps", "to", "prepare", "your", "package", "for", "submission.", "When", "prepared,", "submit", "the", "package", "to", "EEE", "(i.e.,", "one", "submission"], "content_hash": "b358cbc8e6a57317821b984c0984ba40"}
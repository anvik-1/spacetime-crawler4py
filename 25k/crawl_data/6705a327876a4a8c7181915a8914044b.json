{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs221-2019-spring-project4?action=diff&version=1", "word_count": 999, "words": ["cs221-2019-spring-project4", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Initial", "Version", "and", "Version", "1", "of", "cs221-2019-spring-project4", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "May", "23,", "2019,", "12:01:09", "AM", "(", "6", "years", "ago)", "Author:", "Zuozhi", "Wang", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs221-2019-spring-project4", "v1", "v1", "1", "2", "=", "CS221:", "Project", "4", "-", "RA:", "Ranking", "=", "3", "'''Test", "Cases", "Due:", "Week", "9", "Tue.", "(May", "28),", "Due", "on", "Github", "as", "Pull", "Requests'''[[BR]]", "4", "'''Review", "Due:", "Week", "9", "Fri.", "(May", "31),", "Due", "on", "Github", "as", "Pull", "Requests", "Comments'''[[BR]]", "5", "'''Final", "Code", "Due:", "Week", "10,", "Sun.", "(June", "9),", "Due", "on", "Github.'''[[BR]]", "6", "7", "8", "==", "Coding", "Tasks", "==", "9", "1.", "Implement", "TF-IDF", "ranking", "(Cosine)", "(10", "points)", "10", "1.", "Implement", "!PageRank", "and", "run", "with", "ICS", "websites", "(5", "points)", "11", "12", "==", "Testing", "Tasks", "==", "13", "1.", "Write", "at", "least", "2", "test", "cases", "for", "a", "task", "(2", "points)", "14", "1.", "Review", "the", "test", "cases", "of", "two", "teams", "(2", "points)", "15", "16", "Total:", "19", "points", "17", "18", "==", "Overview", "==", "19", "20", "In", "this", "project,", "you'll", "implement", "two", "ranking", "methods:", "TF-IDF", "(Cosine)", "and", "!PageRank.", "21", "22", "23", "==", "Task", "1:", "Implement", "TF-IDF", "ranking.", "==", "24", "25", "Modify", "your", "!InvertedIndex", "from", "Project", "2", "and", "!PositionalIndex", "from", "Project", "3", "to", "include", "all", "necessary", "information", "to", "calculate", "TF-IDF", "scores.", "Implement", "the", "following", "`searchTfIdf`", "function", "that", "returns", "the", "top-K", "documents", "ranked", "by", "TF-IDF", "scores.", "26", "27", "First,", "we'll", "go", "over", "an", "example", "to", "calculate", "TF-IDF", "Cosine", "scores", "using", "the", "vector", "space", "model.", "28", "29", "{{{", "30", "Segment", "1", "31", "d1:", "\u201cnew", "york", "city\u201d", "32", "d2:", "\u201clos", "angeles", "city\u201d", "33", "Segment", "2", "34", "d1:", "\u201cnew", "york", "post\u201d", "35", "Query", "q:", "\"new", "new", "city\".", "(We", "use", "two", "copies", "of", "\"new\"", "on", "purpose.)", "36", "37", "Number", "of", "documents", "in", "the", "system:", "3.", "38", "39", "Document", "frequency", "for", "query", "keywords:", "40", "new", "=", "2", "{s1d1,", "s2d1}", "41", "city", "=", "2", "{s1d1,", "s1d2}", "42", "43", "IDF:", "44", "new", "=", "log(3/2)", "\u2248", "0.18", "45", "city", "=", "log(3/2)", "\u2248", "0.18", "46", "47", "TF", "(Term", "frequency):", "48", "new", "=", "{s1d1:", "1,", "s2d1:", "1,", "query:", "2}", "49", "city", "=", "{s1d1:", "1,", "s1d2:", "1}", "50", "51", "TF-IDF", "vectors", "of", "documents", "and", "query:", "52", "s1d1", "=", "[new:", "1", "*", "IDF(new),", "city:", "1", "*", "IDF(city)]", "=", "[0.18,", "0.18]", "53", "s1d2", "=", "[new:", "0,", "city:", "1", "*", "IDF(city)]", "=", "[0", ",", "0.18]", "54", "s2d1", "=", "[new:", "1", "*", "IDF(new),", "city:", "0]", "=", "[0.18,", "0", "]", "55", "query", "=", "[new:", "2", "*", "IDF(new),", "city:", "1", "*", "IDF(city)]", "=", "[0.36,", "0.18]", "56", "57", "Cosine", "similarity", "between", "the", "query", "and", "each", "document:", "58", "sim(s1d1,", "q)", "=", "s1d1", "\u00b7", "query", "/", "\u2016s1d1\u2016", "=", "(0.18", "*", "0.36", "+", "0.18", "*", "0.18)", "/", "sqrt(0.18^2", "+", "0.18^2)", "\u2248", "0.38", "59", "sim(s1d2,", "q)", "=", "(0", "*", "0.36", "+", "0.18", "*", "0.18)", "/", "sqrt(0", "+", "0.18^2)", "=", "0.18", "60", "sim(s2d1,", "q)", "=", "(0.18", "*", "0.36", "+", "0", "*", "0.18)", "/", "sqrt(0.18^2", "+", "0)", "=", "0.36", "61", "62", "So", "the", "ranked", "order", "of", "the", "documents", "is:", "[s1d1,", "s2d1,", "s1d2].", "63", "}}}", "64", "65", "Next", "we'll", "discuss", "a", "two-pass", "method", "to", "calculate", "these", "scores.", "For", "each", "query", "keyword,", "since", "it", "has", "inverted", "lists", "in", "multiple", "LSM", "segments,", "in", "order", "to", "compute", "its", "global", "IDF,", "we", "need", "to", "know", "the", "frequency", "of", "this", "word", "in", "each", "segment.", "In", "the", "first", "pass,", "we", "access", "each", "segment", "to", "retrieve", "the", "frequency", "of", "each", "query", "keyword,", "as", "well", "as", "the", "number", "of", "documents", "within", "the", "segment,", "and", "use", "these", "values", "to", "calculate", "the", "IDF's", "of", "the", "query", "keywords.", "66", "67", "In", "the", "second", "pass,", "within", "each", "segment,", "we", "traverse", "the", "inverted", "list", "of", "a", "query", "keyword,", "and", "use", "the", "(local)", "TF", "for", "each", "document", "and", "the", "(global)", "IDF", "of", "the", "keyword", "to", "compute", "the", "TF-IDF", "value", "for", "this", "keyword", "and", "this", "document.", "We", "accumulate", "the", "product", "of", "this", "value", "and", "the", "corresponding", "TF-IDF", "value", "of", "the", "query", "keyword", "in", "order", "to", "compute", "the", "dot", "product", "of", "the", "document", "and", "the", "query.", "Furthermore,", "for", "each", "document,", "since", "we", "need", "to", "normalize", "its", "TF-IDF", "vector", "by", "its", "length,", "we", "also", "need", "to", "accumulate", "the", "squares", "of", "the", "TF-IDF's", "of", "the", "query", "keywords", "in", "this", "document.", "The", "following", "is", "the", "pseudo", "code:", "68", "69", "{{{", "70", "Map<DocID,", "Double>", "dotProductAccumulator;", "//", "DocID", "is", "<SegmentID,", "LocalDocID>", "71", "Map<DocID,", "Double>", "vectorLengthAccumulator;", "72", "73", "for", "each", "segment:", "74", "for", "each", "query", "token", "w:", "75", "for", "each", "docID", "on", "the", "postingList", "of", "w:", "76", "tfidf", "=", "TF(w,", "docID)", "*", "IDF(w);", "77", "dotProductAccumulator[docID]", "+=", "tfidf", "*", "queryTfIdf[w];", "78", "vectorLengthAccumulator[docID]", "+=", "tfidf", "^", "2;", "79", "80", "for", "each", "docID", "in", "this", "segment", "81", "score(docID)", "=", "dotProductAccumulator[docID]", "/", "sqrt(vectorLengthAccumulator[docID]);", "82", "}}}", "83", "84", "In", "this", "method,", "we", "need", "to", "store", "a", "double", "(IDF)", "for", "each", "query", "keyword.", "In", "addition,", "for", "each", "segment,", "for", "each", "of", "its", "documents,", "we", "need", "to", "store", "2", "doubles.", "85", "86", "Notice", "that", "since", "we", "want", "to", "return", "topK", "documents,", "we", "need", "to", "maintain", "a", "global", "priority", "queue", "of", "K", "docIDs.", "After", "visiting", "each", "segment,", "we", "only", "need", "to", "add", "the", "top-K", "docIDs", "of", "this", "segment", "into", "this", "priority", "query", "and", "free", "the", "space", "for", "the", "docIDs", "of", "this", "segment.", "87", "88", "To", "implement", "the", "method,", "you", "need", "the", "following", "API", "functions", "for", "each", "segment:", "89", "90", "{{{", "91", "92", "public", "int", "getNumDocuments(int", "segmentNum);", "93", "94", "public", "int", "getDocumentFrequency(int", "segmentNum,", "String", "token);", "95", "96", "public", "Iterator<Document>", "searchTfIdf(List<String>", "keywords,", "int", "topK);", "97", "98", "}}}", "99", "100", "101", "102", "==", "Task", "2:", "Implement", "!PageRank.", "==", "103", "104", "In", "this", "task,", "you'll", "run", "the", "!PageRank", "algorithm", "on", "the", "collection", "of", "ICS", "websites", "we", "provided,", "index", "all", "the", "ICS", "website", "documents,", "and", "combine", "!PageRank", "with", "the", "TF-IDF", "weighted", "search", "results.", "More", "details", "will", "be", "provided", "later.", "105", "106", "107", "==", "Test", "cases", "==", "108", "Please", "follow", "the", "similar", "general", "guideline", "and", "procedure", "as", "previous", "projects.", "Test", "case", "assignments", "will", "be", "published", "later.", "Powered", "by", "Trac", "1.5.3", "By", "Edgewall", "Software", ".", "Visit", "the", "Trac", "open", "source", "project", "at", "http://trac.edgewall.org/"], "content_hash": "eeea63fafc40e2a8e94f79892868ab43"}
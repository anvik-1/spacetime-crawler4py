{"url": "https://grape.ics.uci.edu/wiki/public/attachment/wiki/cs122b-2017-winter-project2/ShowItems.java", "word_count": 382, "words": ["ShowItems.java", "on", "cs122b-2017-winter-project2", "\u2013", "Attachment", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "Back", "to", "cs122b-2017-winter-project2", "cs122b-2017-winter-project2", ":", "ShowItems.java", "File", "ShowItems.java,", "1.8", "KB", "(added", "by", "nailah", ",", "9", "years", "ago", ")", "Line", "1", "import", "java.io.*", ";", "2", "import", "javax.servlet.*", ";", "3", "import", "javax.servlet.http.*", ";", "4", "import", "java.util.*", ";", "5", "6", "public", "class", "ShowItems", "extends", "HttpServlet", "{", "7", "public", "void", "doGet", "(", "HttpServletRequest", "request", ",", "8", "HttpServletResponse", "response", ")", "9", "throws", "ServletException", ",", "IOException", "{", "10", "11", "HttpSession", "session", "=", "request", ".", "getSession", "();", "12", "synchronized", "(", "session", ")", "{", "13", "ArrayList", "previousItems", "=", "(", "ArrayList", ")", "session", ".", "getAttribute", "(", "\"previousItems\"", ");", "14", "if", "(", "previousItems", "==", "null", ")", "{", "15", "previousItems", "=", "new", "ArrayList", "();", "16", "session", ".", "setAttribute", "(", "\"previousItems\"", ",", "previousItems", ");", "17", "}", "18", "}", "19", "20", "String", "newItem", "=", "request", ".", "getParameter", "(", "\"newItem\"", ");", "21", "22", "response", ".", "setContentType", "(", "\"text/html\"", ");", "23", "PrintWriter", "out", "=", "response", ".", "getWriter", "();", "24", "String", "title", "=", "\"Items", "Purchased\"", ";", "25", "String", "docType", "=", "26", "\"<!DOCTYPE", "HTML", "PUBLIC", "\\\"-//W3C//DTD", "HTML", "4.0", "\"", "+", "27", "\"Transitional//EN\\\">\\n\"", ";", "28", "out", ".", "println", "(", "docType", "+", "29", "\"<HTML>\\n\"", "+", "30", "\"<HEAD><TITLE>\"", "+", "title", "+", "\"</TITLE></HEAD>\\n\"", "+", "31", "\"<BODY", "BGCOLOR=\\\"#FDF5E6\\\">\\n\"", "+", "32", "\"<H1>\"", "+", "title", "+", "\"</H1>\"", ");", "33", "34", "35", "synchronized", "(", "previousItems", ")", "{", "36", "if", "(", "newItem", "!=", "null", ")", "{", "37", "previousItems", ".", "add", "(", "newItem", ");", "38", "}", "39", "if", "(", "previousItems", ".", "size", "()", "==", "0", ")", "{", "40", "out", ".", "println", "(", "\"<I>No", "items</I>\"", ");", "41", "}", "else", "{", "42", "out", ".", "println", "(", "\"<UL>\"", ");", "43", "for", "(", "int", "i", "=", "0", ";", "i", "<", "previousItems", ".", "size", "();", "i", "++", ")", "{", "44", "out", ".", "println", "(", "\"<LI>\"", "+", "(", "String", ")", "previousItems", ".", "get", "(", "i", "));", "45", "}", "46", "out", ".", "println", "(", "\"</UL>\"", ");", "47", "}", "48", "}", "49", "50", "//", "The", "following", "two", "statements", "show", "how", "this", "thread", "can", "access", "an", "51", "//", "object", "created", "by", "a", "thread", "of", "the", "ShowSession", "servlet", "52", "//", "Integer", "accessCount", "=", "(Integer)session.getAttribute(\"accessCount\");", "53", "//", "out.println(\"<p>accessCount", "=", "\"", "+", "accessCount);", "54", "55", "out", ".", "println", "(", "\"</BODY></HTML>\"", ");", "56", "}", "57", "}", "Download", "in", "other", "formats:", "Original", "Format", "Powered", "by", "Trac", "1.5.3", "By", "Edgewall", "Software", ".", "Visit", "the", "Trac", "open", "source", "project", "at", "http://trac.edgewall.org/"], "content_hash": "00a67859fb73f030f331b85dc9221073"}
{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2018-spring-project1?action=diff&version=7", "word_count": 1054, "words": ["cs122b-2018-spring-project1", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Version", "6", "and", "Version", "7", "of", "cs122b-2018-spring-project1", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "Apr", "2,", "2018,", "4:11:53", "PM", "(", "8", "years", "ago)", "Author:", "Zuozhi", "Wang", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs122b-2018-spring-project1", "v6", "v7", "157", "157", "[[Span(id=TomcatTestExample)]]", "158", "158", "159", "You", "are", "recommend", "to", "implement", "project", "1", "using", "the", "Java", "servlet", "techniques", "covered", "in", "the", "class.", "This", "!TomcatTest", "example", "will", "help", "you.", "160", "161", "To", "test", "that", "Tomcat", "is", "working", "and", "communicating", "with", "MySQL", "properly,", "we've", "prepared", "a", "servlet", "that", "performs", "basically", "the", "same", "tasks", "as", "the", "JDBC", "program.", "It", "queries", "the", "test", "database", "and", "returns", "some", "structural", "and", "content", "information.", "To", "run", "this", "program:", "162", "163", "1.", "Make", "sure", "the", "MySQL", "database", "server", "containing", "the", "moviedb", "is", "running.", "164", "1.", "Download", "[attachment:wiki:cs122b-2018-spring-project1:TomcatTest.war", "TomcatTest.war]", "165", "166", "A", "WAR", "file", "is", "a", "\"Web", "Application", "Archive.\"", "It", "contains", "a", "compressed", "directory", "of", "the", "files", "needed", "for", "a", "ready-to-run", "java", "servlet", "that", "Tomcat", "will", "launch", "when", "you", "go", "to", "the", "Web", "page", "designated", "in", "the", "WAR.", "A", "WAR", "file", "must", "a", "have", "certain", "directory", "structure", "and", "contain", "appropriate", "files", "(with", "the", "appropriate", "contents)", "for", "Tomcat", "to", "launch", "the", "applet.", "If", "your", "TOMCAT", "installation", "was", "correct,", "there", "should", "be", "a", "\"webapps\"", "folder", "under", "\"Tomcat", "8.5.24\"", "directory", "of", "your", "Tomcat", "root", "installation.", "It", "is", "usually", "'''", "C:\\Program", "Files\\Apache", "Software", "Foundation\\Tomcat8.5.9\\webapps'''", "on", "Windows", "and", "'''", "/var/lib/Tomcat8.5.9/webapps/'''", "on", "Ubuntu.", "You", "should", "place", "this", ".WAR", "here", "inside", "the", "webapps", "folder.", "167", "168", "3.", "We'll", "now", "\"deploy\"", "this", "application.", "Start", "the", "Tomcat", "server.", "Go", "to", "http://localhost:8080;", "this", "is", "your", "local", "web", "page.", "The", "tomcat", "welcome", "page", "should", "appear.", "169", "3.", "Click", "on", "Tomcat", "Manager;", "enter", "your", "admin", "user", "login", "and", "password", "(given", "when", "you", "installed", "Tomcat);", "click", "OK.", "If", "your", "login", "and", "password", "are", "correct,", "the", "Tomcat", "Web", "Application", "Manger", "page", "will", "appear.", "170", "3.", "Under", "\"Deploy", "directory", "or", "WAR", "file", "located", "on", "server\"", "you", "should", "see", "a", "deploy", "button.", "You", "need", "not", "specify", "a", "path.", "If", "you", "simply", "click", "the", "deploy", "button,", "Tomcat", "will", "automatically", "refresh", "its", "list", "of", "applications.", "!TomcatTest", "should", "now", "appear", "in", "the", "\"Applications\"", "list.", "Go", "to", "http://localhost:8080/TomcatTest", "to", "check", "if", "you", "can", "access", "a", "simple", "HTML", "page.", "171", "3.", "Go", "to", "http://localhost:8080/TomcatTest/servlet/TomcatTest.", "Tomcat", "will", "run", "the", "servlet", "!TomcatTest", "and", "print", "its", "output", "onto", "the", "web", "page.", "If", "the", "output", "is", "database", "information,", "all", "is", "well.", "If", "instead", "you", "see", "a", "message", "that", "an", "SQLException", "occurred,", "check", "that", "the", "MySQL", "server", "is", "running,", "that", "the", "test", "database", "with", "the", "correct", "user", "name,", "user", "password,", "and", "table", "structure", "has", "been", "created.", "172", "3.", "Go", "to", "the", "tomcat", "installation", "folder", "and", "open", "the", "\"webapps\"", "folder.", "This", "folder", "contains", "all", "the", "applications", "you", "plugged", "in", "so", "far", "into", "Tomcat.", "Open", "\"!TomcatTest\"", "folder.", "Every", "file", "under", "this", "folder", "except", "for", "WEB-INF", "is", "a", "file", "directly", "accessible", "from", "a", "url", "such", "as", "'''!http://localhost:8080/TomcatTest/MY_FILE_NAME'''.", "This", "folder", "usually", "contains", "all", "the", "static", "HTML", "content", "you", "might", "need", "for", "your", "web", "application.", "In", "our", "case", "we", "have", "\"index.html\".", "Now", "open", "the", "WEB-INF", "folder.", "This", "folder", "is", "not", "directly", "exposed", "on", "the", "internet.", "It", "actually", "contains", "your", "Java", "executable", "classes", "that", "provide", "dynamic", "content", "of", "your", "web", "application.", "173", "174", "The", "subfolder", "\"classes\"", "contains", "your", "Java", "classes,", "while", "the", "\"lib\"", "folder", "is", "used", "to", "store", "the", "libraries", "you", "might", "use", "in", "your", "Java", "classes.", "In", "the", "\"lib\"", "folder,", "you", "will", "find", "the", "MySQL", "JDBC", "driver.", "Another", "very", "important", "file", "in", "this", "folder", "is", "\"web.xml\".", "This", "file", "contains", "description", "of", "all", "your", "Java", "servlets", "that", "you", "would", "use", "in", "your", "application.", "We", "have", "only", "one", "servlet", "in", "this", "application.", "If", "you", "open", "\"web.xml\"", "you", "will", "see", "description", "of", "servlet", "\"!TomcatTest", "\".", "Without", "\"web.xml\"", "Tomcat", "would", "not", "know", "how", "to", "configure", "a", "the", "classes", "you", "have", "in", "the", "\"classes\"", "folder.", "In", "our", "case,", "we", "declare", "that", "we", "have", "a", "servlet", "\"!TomcatTestServlet", "\"", "whose", "Java", "class", "is", "!TomcatTest", ".", "We", "also", "specify", "that", "we", "map", "this", "servlet", "to", "path", "\"servlet/!TomcatTest", "\",", "thus", "can", "be", "accessed", "at!http://localhost:8080/TomcatTest/servlet/TomcatTest", ".", "175", "176", "Now", "let's", "look", "at", "the", "\"sources\"", "folder.", "If", "you", "make", "any", "changes", "to", "\"!TomcatTest", ".java\",", "and", "recompile", "the", "program,", "we'd", "like", "those", "changes", "to", "be", "reflected", "the", "next", "time", "you", "reload", "your", "web", "application.", "To", "recompile", "the", "program,", "your", "-classpath", "flag", "must", "contain", "paths", "to", "both", "the", "MySQL", "driver", "and", "the", "servlet", "API", "jar", "file.", "Assuming", "you", "are", "inside", "the", "\"sources\"", "folder,", "the", "following", "command", "will", "recompile", "the", "servlet", "177", "178", "'''", "(Windows)", "javac", "-classpath", "\"../lib/servlet-api.jar;../lib/mysql-connector-java-5.14.0-bin.jar\"", "!TomcatTest", ".java'''", "179", "180", "Be", "sure", "to", "place", "a", "copy", "of", "the", "!TomcatTest.class", "file", "inside", "the", "WEB-INF\\classes", "folder", "(i.e.,", "you", "want", "to", "overwrite", "the", "old", ".class", "file", "with", "the", "one", "that", "you", "just", "created).", "You", "can", "go", "to", "the", "\"Tomcat", "Manager\"", "page", "and", "click", "on", "\"reload\"", "next", "to", "\"!TomcatTest\".", "When", "you", "run", "the", "servlet", "now,", "you", "should", "see", "the", "desired", "changes", "in", "the", "functionality.", "More", "information", "on", "the", "servlet", "API", "is", "available", "at", "hhttp://docs.oracle.com/javaee/6/tutorial/doc/bnafd.html.", "159", "You", "are", "recommend", "to", "implement", "project", "1", "using", "the", "Java", "servlet", "techniques", "covered", "in", "the", "class.", "We've", "prepared", "this", "[https://github.com/UCI-Chenli-teaching/project1-star-example", "project1-star-example]", "that", "help", "you", "get", "started.", "This", "project", "contains", "a", "Java", "Servlet", "that", "talks", "to", "MySQL", "to", "get", "star", "information", "and", "return", "an", "HTML", "to", "display", "a", "table", "of", "stars.", "160", "161", "To", "import", "and", "run", "this", "example,", "follow", "the", "instructions", "in", "the", "[https://github.com/UCI-Chenli-teaching/project1-star-example", "example", "github", "webpage].", "162", "163", "To", "deploy", "the", "WAR", "file,", "164", "1.", "Start", "the", "Tomcat", "server.", "Go", "to", "http://localhost:8080;", "this", "is", "your", "local", "web", "page.", "The", "tomcat", "welcome", "page", "should", "appear.", "165", "2.", "Click", "\"Tomcat", "Manager\",", "enter", "your", "tomcat", "admin", "username", "and", "password.", "166", "3.", "Under", "\"Deploy", "directory", "or", "WAR", "file", "located", "on", "server\"", "you", "should", "see", "a", "deploy", "button.", "You", "need", "not", "specify", "a", "path.", "If", "you", "simply", "click", "the", "deploy", "button,", "Tomcat", "will", "automatically", "refresh", "its", "list", "of", "applications.", "167", "4.", "the", "new", "project", "should", "appear", "in", "the", "list."], "content_hash": "5e179ecc2258e0a22f326ef5498bbb9f"}
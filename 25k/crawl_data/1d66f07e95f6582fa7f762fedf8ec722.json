{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2018-winter-project1-install-tomcat-on-aws?action=diff&version=1", "word_count": 664, "words": ["cs122b-2018-winter-project1-install-tomcat-on-aws", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Initial", "Version", "and", "Version", "1", "of", "cs122b-2018-winter-project1-install-tomcat-on-aws", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "Jan", "28,", "2018,", "11:09:06", "PM", "(", "8", "years", "ago)", "Author:", "Qiushi", "Bai", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs122b-2018-winter-project1-install-tomcat-on-aws", "v1", "v1", "1", "This", "tutorial", "introduces", "how", "to", "install", "tomcat", "8.51", "on", "AWS", "Ubuntu", "instance", "14.04.", "2", "3", "==", "Start", "your", "AWS", "instance,", "and", "connect", "to", "it", "using", "SSH.", "==", "4", "For", "this", "step,", "please", "refer", "to", "the", "previous", "tutorial", "on", "how", "to", "use", "AWS.", "5", "6", "==", "Download", "Tomcat", "==", "7", "You", "can", "find", "latest", "version", "of", "tomcat", "8.5.x", "from", "http://tomcat.apache.org/download-80.cgi.", "For", "example,", "the", "download", "link", "for", "tomcat", "8.5.24", "is", "http://apache.mirrors.pair.com/tomcat/tomcat-8/v8.5.24/bin/apache-tomcat-8.5.24.tar.gz", "8", "9", "Then", "use", "wget", "on", "your", "AWS", "machine", "to", "download", "it:", "10", "11", "{{{", "12", "wget", "http://apache.mirrors.pair.com/tomcat/tomcat-8/v8.5.24/bin/apache-tomcat-8.5.24.tar.gz", "13", "}}}", "14", "After", "you", "download", "the", "tar.gz,", "decompress", "it", "to", "a", "desired", "destination", "(for", "example,", "I", "use", "/home/ubuntu/tomcat)", "15", "16", "{{{", "17", "mkdir", "/home/ubuntu/tomcat", "18", "}}}", "19", "{{{", "20", "tar", "xvf", "apache-tomcat-8.5.24.tar.gz", "-C", "/home/ubuntu/tomcat/", "--strip-components=1", "21", "}}}", "22", "Now", "go", "to", "/home/ubuntu/tomcat/,", "and", "use", "ls,", "you", "show", "see", "the", "following", "contents:", "23", "24", "[[Image(wiki:cs122b-2017-winter-project1-install-tomcat-on-aws:tomcat-dir.jpeg)]]", "25", "26", "==", "Configure", "Tomcat", "Memory", "==", "27", "By", "default,", "the", "maximum", "heap", "available", "for", "Tomcat", "may", "not", "be", "enough", "for", "large", "projects.", "Thus,", "we", "need", "to", "change", "the", "memory", "configuration", "by", "the", "following", "steps.", "28", "29", "Go", "to", "/home/ubuntu/tomcat/bin/,", "and", "create", "a", "text", "file", "name", "setenv.sh,", "which", "contains", "the", "following", "lines:", "30", "31", "{{{", "32", "#!/bin/sh", "33", "env", "JAVA_OPTS=\"-Xmx512m", "-Xms128m\"", "34", "}}}", "35", "Xmx", "means", "the", "maximum", "heap", "memory", "available", "for", "Tomcat,", "and", "Xms", "means", "the", "initial", "memory", "available", "after", "each", "garbage", "collection.", "You", "may", "vary", "them", "based", "on", "your", "machine", "capacity.", "36", "37", "==", "Change", "Access", "Setting", "of", "host-manager", "and", "manager", "==", "38", "host-manager", "and", "manager", "are", "two", "useful", "default", "applications", "provided", "by", "Tomcat", "to", "manage", "the", "Tomcat", "server.", "However,", "by", "default", "they", "can", "be", "accessed", "by", "only", "the", "machine", "hosting", "tomcat,", "i.e.,", "localhost.", "39", "40", "To", "change", "this,", "you", "need", "to", "change", "/'''home/ubuntu/tomcat/webapps/host-manager/META-INF/context.xml'''", "and", "'''/home/ubuntu/tomcat/webapps/manager/META-INF/context.xml'''", "by", "deleting", "the", "following", "lines:", "41", "42", "{{{", "43", "<Valve", "className=\"org.apache.catalina.valves.RemoteAddrValve\"", "44", "45", "allow=\"127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1\"", "/>", "46", "}}}", "47", "==", "Create", "a", "Tomcat", "User", "==", "48", "Now,", "create", "a", "tomcat", "user", "so", "that", "you", "can", "manage", "the", "tomcat", "server", "remotely.", "49", "50", "Edit", "/home/ubuntu/tomcat/conf/tomcat-users.xml,", "and", "add", "the", "following", "line:", "51", "52", "{{{", "53", "<user", "username=\"tomcat\"", "password=\"123456\"", "roles=\"manager-gui,admin-gui\"/>", "54", "}}}", "55", "[[Image(wiki:cs122b-2017-winter-project1-install-tomcat-on-aws:tomcat-users.jpeg)]]", "56", "57", "By", "doing", "so,", "you've", "created", "a", "user", "named", "\"tomcat\",", "and", "its", "password", "is", "\"123456\".", "You've", "also", "granted", "two", "roles", "\"manager-gui\"", "and", "\"admin-gui\"", "to", "it.", "58", "59", "==", "Start", "Tomcat", "==", "60", "Now", "you", "are", "ready", "to", "start", "tomcat", "by", "executing", "the", "following", "command:", "61", "62", "{{{", "63", "/home/ubuntu/tomcat/bin/startup.sh", "64", "}}}", "65", "If", "you", "see", "this,", "then", "it", "means", "your", "tomcat", "has", "started", "properly.", "66", "67", "==", "Open", "port", "for", "AWS", "==", "68", "If", "you", "do", "the", "above", "steps", "on", "your", "local", "machine,", "then", "you", "should", "be", "able", "to", "access", "http://localhost:8080", "from", "your", "browser", "to", "access", "tomcat.", "69", "70", "However,", "on", "AWS,", "the", "port", "8080", "is", "not", "opened", "to", "public", "by", "default.", "Thus,", "you", "need", "to", "open", "it", "as", "follows.", "71", "72", "Go", "to", "your", "AWS", "console,", "and", "click", "the", "item", "under", "\"'''Security", "Groups'''\"", "for", "your", "instance.", "73", "74", "[[Image(wiki:cs122b-2017-winter-project1-install-tomcat-on-aws:security_group.jpeg)]]", "75", "76", "Click", "\"Edit\"", "to", "add", "more", "inbound", "rules:", "77", "78", "[[Image(wiki:cs122b-2017-winter-project1-install-tomcat-on-aws:add-rule.jpeg)]]", "79", "80", "==", "Access", "Tomcat", "==", "81", "Now", "you", "should", "be", "able", "to", "access", "your", "tomcat", "server", "using", "http://public_ip:8080,", "and", "you", "should", "be", "able", "to", "see", "the", "following", "page:", "82", "83", "[[Image(wiki:cs122b-2017-winter-project1-install-tomcat-on-aws:tomcat.jpeg)]]", "84", "85", "If", "you", "want", "to", "access", "manager", "or", "host-manager,", "just", "click", "the", "button", "on", "the", "right,", "and", "type", "the", "username/password", "you've", "set", "in", "the", "tomcat-users.xml", "file.", "86", "87", "[[Image(wiki:cs122b-2017-winter-project1-install-tomcat-on-aws:manager-pwd.jpeg)]]", "88", "89", "[[Image(wiki:cs122b-2017-winter-project1-install-tomcat-on-aws:manager.jpeg)]]", "90", "91", ">", "Powered", "by", "Trac", "1.5.3", "By", "Edgewall", "Software", ".", "Visit", "the", "Trac", "open", "source", "project", "at", "http://trac.edgewall.org/"], "content_hash": "89db5f65d634f940c1e2bb08c74026de"}
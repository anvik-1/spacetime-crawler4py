{"url": "http://www.ics.uci.edu/~kay/courses/h21/hw/lab6.html", "word_count": 1636, "words": ["Lab", "Assignment", "6", "ICS", "H21", "\u2022", "UC", "IRVINE", "\u2022", "DAVID", "G.", "KAY", "\u2022", "FALL", "2009", "Lab", "Assignment", "6", "This", "assignment", "is", "due", "at", "the", "end", "of", "lab", "on", "Friday,", "November", "6.", "Choose", "a", "partner", "for", "this", "assignment,", "someone", "you", "haven't", "worked", "with", "already.", "Be", "sure", "your", "language", "level", "is", "set", "to", "Intermediate", "Student", "with", "Lambda.", "(a)", "Do", "exercises", "19.1.4,", "19.1.5,", "19.1.6,", "and", "19.2.2.", "(b)", "Suppose", "we", "change", "our", "restaurant", "structure", "so", "that", "instead", "of", "just", "one", "best", "dish", "and", "its", "price,", "each", "restaurant", "has", "a", "menu", "of", "dishes.", "So", "a", "rrant", "is", "now", "(make-rrant", "name", "cuisine", "phone", "menu)", "where", "name", ",", "cuisine", ",", "and", "phone", "are", "strings", "and", "menu", "is", "a", "list", "of", "dish", "structures:", "(make-dish", "name", "price)", "where", "name", "is", "a", "string", "and", "price", "is", "a", "number.", "None", "of", "these", "modifications", "should", "require", "any", "change", "to", "the", "code", "for", "collections.", "(b.1)", "Make", "up", "a", "big", "list", "of", "rrant", "structures", "to", "use", "in", "your", "testing.", "Trade", "and", "combine", "lists", "with", "your", "classmates.", "(b.2)", "Download", "version", "1d", "of", "the", "restaurants", "program.", "Spend", "some", "time", "studying", "it;", "it's", "a", "version", "that", "includes", "the", "erase", "and", "adjust", "commands,", "plus", "binary", "search", "trees", "using", "lazy", "deletion.", "Make", "a", "copy", "of", "the", "restaurants1d.scm", "program", "and", "call", "it", "restaurants1e.scm.", "(b.3)", "Modify", "the", "program", "to", "handle", "rrant", "objects", "that", "include", "menus", "as", "described", "above.", "You", "should", "try", "at", "least", "to", "make", "a", "list", "of", "all", "the", "changes", "you", "will", "need", "before", "looking", "at", "our", "checklist", "of", "modification", "steps.", "(b.4)", "Modify", "the", "program", "to", "display", "the", "average", "price", "(of", "all", "the", "dishes", "on", "the", "menu)", "whenever", "a", "restaurant", "is", "printed.", "(b.5)", "Add", "a", "command", "to", "the", "main", "menu", "that", "allows", "the", "user", "to", "search", "for", "(and", "display)", "all", "the", "restaurants", "that", "serve", "a", "given", "cuisine", "along", "with", "the", "average", "price", "of", "(all", "the", "menus", "of", "the", "restaurants", "that", "serve)", "that", "cuisine.", "(b.6)", "Add", "a", "command", "to", "the", "main", "menu", "that", "allows", "the", "user", "to", "search", "for", "(and", "display)", "all", "the", "restaurants", "that", "serve", "a", "dish", "containing", "a", "given", "word", "or", "phrase.", "(This", "is", "more", "realistic", "than", "forcing", "the", "user", "to", "type", "the", "exact", "name", "of", "the", "dish;", "here,", "the", "user", "can", "just", "type", "\"fava", "beans\"", "and", "match", "all", "the", "dishes", "that", "include", "that", "phrase.", "We've", "provided", "some", "code", "for", "string", "processing", "to", "make", "this", "task", "easier.)", "Collect", "all", "of", "these", "definitions", "and", "submit", "them", "via", "Checkmate.", "(c)", "At", "the", "end", "of", "the", "Functions", "as", "First-Class", "Objects", "sheet,", "we", "refactored", "the", "functions", "find-all-matches", "and", "remove-all-matches", ",", "defining", "both", "in", "terms", "of", "a", "more", "general", "handle-all-matches", ".", "(c.1)", "Do", "the", "same", "thing", "in", "the", "second", "restaurants", "program", "(available", "at", "http://www.ics.uci.edu/~kay/scheme/restaurants2.scm", ")", "with", "collection-search", "and", "collection-remove", ",", "redefining", "both", "in", "terms", "of", "a", "general", "collection-check", "function.", "(c.2)", "(extra", "credit,", "but", "the", "next", "part's", "required)", "Now", "redefine", "collection-check", "and", "collection-change", "in", "terms", "of", "a", "still-more-general", "collection-process", "function.", "(c.3)", "Simplify", "your", "definition", "of", "collection-process", "(or", "collection-check", "and", "collection-change", ")", "using", "map", ",", "filter", ",", "foldr", ",", "and", "similar", "functions.", "Collect", "all", "of", "these", "definitions", "and", "submit", "them", "via", "Checkmate.", "(d)", "Be", "sure", "you've", "read", "the", "section", "in", "Homework", "6", "about", "files;", "now", "it's", "time", "to", "write", "a", "few", "file-handling", "functions.", "Download", "and", "install", "the", "simple-file-io.ss", "teachpack", "at", "http://www.ics.uci.edu/~kay/scheme/simple-file-io.ss", ".", "(Remember", "to", "right-", "or", "control-click", "on", "the", "link", "and", "download", "the", "file,", "saving", "it", "in", "the", "same", "folder", "that", "contains", "your", "code.)", "We", "also", "have", "some", "file-handling", "code", "that", "provides", "four", "functions", "for", "reading", "and", "writing", "text", "files:", ";;", "file->list:", "string", "->", "list", ";;", "Given", "a", "string", "naming", "a", "file,", "read", "the", "file", "into", "a", "list", "of", "strings.", ";;", "file-dialog->list:", "anything", "->", "list", ";;", "Show", "user", "a", "dialog", "box", "to", "choose", "a", "file;", "read", "the", "file", "into", "a", "list", "of", "strings", ";;", "Call", "with", "(file-dialog->list", "'x)", "because", "student", "Schemes", "don't", "allow", ";;", "parameterless", "functions.", ";;", "list->file:", "string", "list", "->", "side", "effects", "(a", "new", "file)", ";;", "Given", "a", "string", "naming", "a", "new", "file,", "write", "list", "of", "strings", "that", "file,", ";;", "one", "string", "per", "line.", ";;", "list->file-dialog:", "list", "->", "side", "effects", "(a", "new", "file)", ";;", "Write", "a", "list", "of", "strings", "to", "a", "new", "file", ";;", "(chosen", "by", "showing", "the", "user", "a", "file", "selection", "dialog)", "These", "functions", "operate", "on", "text", "files", "with", "the", "extension", "\".txt\"", "or", "other", "files", "that", "consist", "only", "of", "characters", "you", "can", "type", "on", "the", "keyboard.", "Word", "documents", "don't", "work", "unless", "they're", "saved", "as", "plain", "text;", "Scheme", "files", "do", "work", "unless", "they're", "saved", "with", "comment", "boxes,", "images,", "or", "other", "special", "features.", "(d.1)", "Define", "the", "function", "copy-file", "that", "takes", "two", "strings\u2014the", "name", "of", "an", "existing", "file", "and", "the", "name", "of", "a", "new", "file\u2014and", "copies", "the", "contents", "of", "one", "to", "the", "other.", "Use", "file->list", "and", "list->file", ".", "Test", "it", "out", "with", "a", "short", "file.", "Then", "download", "the", "Project", "Gutenberg", "version", "of", "The", "Adventures", "of", "Sherlock", "Holmes", "from", "http://www.gutenberg.org/dirs/etext99/advsh12.txt", ".", "(Project", "Gutenberg", "is", "a", "wonderful", "resource", "for", "non-copyright-protected", "texts).", "If", "you", "have", "to", "work", "on", "a", "slow", "network", "connection,", "you", "may", "pick", "a", "smaller", "file;", "this", "one", "is", "577K.", "Use", "your", "copy-file", "program", "to", "make", "another", "copy", "of", "this", "file.", "(d.2)", "Write", "the", "function", "copy-file-dialog", "that", "takes", "one", "parameter", "(that", "it", "ignores\u2014parameterless", "functions", "aren't", "allowed", "in", "the", "DrScheme", "student", "languages),", "displays", "a", "dialog", "box", "for", "the", "user", "to", "select", "a", "file", "to", "copy,", "displays", "another", "dialog", "box", "for", "the", "user", "to", "select", "the", "name", "of", "the", "copied", "file,", "and", "then", "creates", "the", "copy.", "Use", "file-dialog->list", "and", "list->file-dialog", ".", "Test", "this", "function", "with", "a", "couple", "of", "files.", "(Testing", "of", "these", "file-handling", "programs", "isn't", "quite", "as", "convenient", "as", "just", "putting", "examples", "into", "your", "code,", "but", "it", "is", "essential", "nonetheless.", "This", "is", "just", "an", "illustration", "of", "how", "interactive", "programs", "add", "an", "extra", "layer", "of", "complexity", "to", "the", "computing", "task.)", "(d.3)", "Write", "the", "function", "copy-with-line-numbers", "that", "behaves", "like", "copy-file", ",", "except", "that", "the", "copied", "file", "has", "line", "numbers", "in", "this", "form", "1:", "The", "Project", "Gutenberg", "EBook", "of", "The", "Adventures", "of", "Sherlock", "Holmes", "2:", "by", "Sir", "Arthur", "Conan", "Doyle", "3:", "(#15", "in", "our", "series", "by", "Sir", "Arthur", "Conan", "Doyle)", "4:", "...", "13014:", "*END", "THE", "SMALL", "PRINT!", "FOR", "PUBLIC", "DOMAIN", "EBOOKS*Ver.02/11/02*END*", "The", "pre-defined", "functions", "string-append", "and", "number->string", "may", "be", "helpful.", "(d.4)", "(optional,", "but"], "content_hash": "8a484c5e91f9b65212535e3c0ba41231"}
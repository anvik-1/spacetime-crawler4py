{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs222-2018-fall-project3?version=3", "word_count": 2962, "words": ["cs222-2018-fall-project3", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "wiki:", "cs222-2018-fall-project3", "Context", "Navigation", "\u2190", "Previous", "Version", "View", "Latest", "Version", "Next", "Version", "\u2192", "Version", "3", "(modified", "by", "Chen", "Luo", ",", "7", "years", "ago", ")", "(", "diff", ")", "--", "Introduction", "B+Trees", "IX", "Interface", "1.", "IndexManager", "Class", "RC", "createFile(const", "string", "&fileName)", "RC", "destroyFile(const", "string", "&fileName)", "RC", "openFile(const", "string", "&fileName,", "IXFileHandle", "&ixfileHandle)", "RC", "closeFile(IXFileHandle", "&ixfileHandle)", "RC", "insertEntry(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "\u2026", "RC", "deleteEntry", "(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "\u2026", "RC", "scan(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "\u2026", "void", "printBtree(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute);", "2.", "IX_ScanIterator", "Class", "RC", "getNextEntry(RID", "&rid,", "void", "*key)", "RC", "close()", "3.", "IXFileHandle", "Implementation", "Details", "Submission", "Instructions", "Q", "&", "A", "Testing", "Grading", "Rubrics", "Project", "3:", "Implementing", "an", "Index", "Manager", "Deadline:", "Nov", "19,", "2018,", "Monday,", "11:45", "pm,", "on", "Github.", "Full", "Credit:", "100", "points,", "Extra", "Credit:", "20", "points", "Introduction", "In", "this", "project", "you", "will", "implement", "an", "Indexing", "(IX)", "component.", "The", "IX", "component", "provides", "classes", "and", "methods", "for", "managing", "persistent", "indexes", "over", "unordered", "data", "records", "stored", "in", "files.", "Each", "data", "file", "may", "have", "any", "number", "of", "(single-attribute)", "indexes", "associated", "with", "it.", "The", "indexes", "ultimately", "will", "be", "used", "to", "speed", "up", "processing", "of", "relational", "selections,", "joins,", "condition-based", "update,", "and", "delete", "operations.", "Like", "the", "data", "records", "themselves,", "the", "indexes", "are", "also", "stored", "in", "files.", "Hence,", "in", "implementing", "the", "IX", "component,", "you", "will", "use", "the", "file", "system,", "namely", "the", "PagedFileManager", "(PF)", "component", "that", "you", "implemented", "in", "Project", "1,", "similar", "to", "the", "manner", "in", "which", "you", "used", "it", "for", "implementing", "the", "RecordBasedFileManager", "(RBF)", "in", "Projects", "1-2.", "In", "the", "projects'", "overall", "database", "system", "architecture,", "you", "can", "think", "of", "the", "IX", "component", "and", "the", "RBF", "component", "as", "sitting", "side-by-side", "above", "the", "PF", "layer", "and", "below", "the", "RelationManager(RM)", "component.", "As", "you", "did", "for", "the", "RBF", "component,", "you", "should", "pass", "attribute", "information", "in", "to", "the", "methods", "of", "the", "IX", "component.", "The", "RM", "layer", "will", "later", "be", "orchestrating", "both", "the", "RBF", "(for", "data", "files)", "and", "IX", "(for", "indices)", "layers", "when", "tuple-level", "operations", "happen,", "and", "the", "RM", "layer", "will", "also", "be", "managing", "the", "catalog", "information", "related", "to", "indexes", "at", "this", "level.", "However,", "in", "this", "part", "of", "the", "project,", "you", "will", "implement", "the", "IX", "component", "without", "worrying", "(yet)", "about", "the", "RM", "layer,", "just", "as", "you", "did", "for", "the", "RBF", "layer", "earlier.", "The", "RM", "layer", "and", "its", "behavior", "will", "come", "into", "play", "in", "Project", "4.", "B+Trees", "You", "will", "implement", "a", "basic", "B+", "tree", "that", "has", "support", "for", "range", "predicates.", "Each", "B+", "tree", "index", "can", "be", "stored", "in", "one", "file", "in", "the", "paged", "file", "system.", "You", "can", "pull", "from", "the", "github", "to", "fetch", "the", "project", "template.", "Note:", "It", "is", "possible", "to", "find", "pseudo-code", "and", "perhaps", "even", "software", "packages", "for", "B+", "trees", "available", "publicly.", "You", "are", "welcome", "to", "use", "anything", "you", "happen", "to", "find", "as", "a", "reference", ",", "as", "long", "as", "you", "provide", "proper", "acknowledgment", "in", "your", "readme", "file", "when", "you", "turn", "in", "this", "part", "of", "the", "project.", "However,", "you", "are", "not", "welcome", "to", "reuse", "any", "code", "that", "you", "find", "elsewhere;", "the", "purpose", "of", "this", "project", "is", "for", "you", "to", "gain", "experience", "and", "understanding", "by", "actually", "writing", "the", "B+", "tree", "code.", "IX", "Interface", "The", "IX", "interface", "that", "you", "are", "to", "implement", "consists", "of", "two", "classes:", "the", "IndexManager", "class", "and", "IX_ScanIterator", "class.", "In", "addition,", "there", "is", "an", "IX_PrintError", "routine", "for", "printing", "messages", "associated", "with", "nonzero", "return", "codes.", "As", "usual,", "all", "IX", "component", "public", "methods", "(except", "constructors", "and", "destructors)", "should", "return", "0", "if", "they", "complete", "normally", "and", "a", "nonzero", "return", "code", "otherwise.", "If", "you", "compare", "the", "RFB", "and", "IX", "components'", "interfaces,", "the", "pattern", "that", "you", "see", "here", "should", "be", "very", "familiar", "(:-)).", "1.", "IndexManager", "Class", "The", "IndexManager", "class", "handles", "the", "creation,", "deletion,", "opening,", "and", "closing", "of", "index", "files", "as", "well", "as", "the", "insert,", "delete,", "and", "scan", "initiation", "operations.", "Your", "program", "should", "create", "exactly", "one", "instance", "of", "the", "IndexManager", "class.", "All", "necessary", "initialization", "for", "the", "IX", "component", "should", "take", "place", "within", "the", "constructor", "for", "the", "IndexManager", "class.", "Symmetrically,", "any", "necessary", "clean-up", "in", "the", "IX", "component", "should", "take", "place", "within", "the", "destructor", "for", "the", "IndexManager", "class.", "class", "IndexManager", "{", "public:", "static", "IndexManager*", "instance();", "//", "Create", "an", "index", "file", "RC", "createFile(const", "string", "&fileName);", "//", "Delete", "an", "index", "file", "RC", "destroyFile(const", "string", "&fileName);", "//", "Open", "an", "index", "and", "return", "an", "ixfileHandle", "RC", "openFile(const", "string", "&fileName,", "IXFileHandle", "&ixfileHandle);", "//", "Close", "an", "ixfileHandle", "for", "an", "index.", "RC", "closeFile(IXFileHandle", "&ixfileHandle);", "//", "Insert", "an", "entry", "into", "the", "given", "index", "that", "is", "indicated", "by", "the", "given", "ixfileHandle", "RC", "insertEntry(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "void", "*key,", "const", "RID", "&rid);", "//", "Delete", "an", "entry", "from", "the", "given", "index", "that", "is", "indicated", "by", "the", "given", "ixfileHandle", "RC", "deleteEntry(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "void", "*key,", "const", "RID", "&rid);", "//", "Initialize", "and", "IX_ScanIterator", "to", "support", "a", "range", "search", "RC", "scan(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "void", "*lowKey,", "const", "void", "*highKey,", "bool", "lowKeyInclusive,", "bool", "highKeyInclusive,", "IX_ScanIterator", "&ix_ScanIterator);", "//", "Print", "the", "B+", "tree", "in", "pre-order", "(in", "a", "JSON", "record", "format)", "void", "printBtree(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute);", "protected:", "IndexManager();", "~IndexManager();", "private:", "static", "IndexManager", "*_index_manager;", "};", "RC", "createFile(const", "string", "&fileName)", "This", "method", "creates", "a", "B+tree", "index", "file", "with", "the", "given", "index", "name.", "RC", "destroyFile(const", "string", "&fileName)", "This", "method", "should", "delete", "the", "index", "file", "whose", "name", "is", "fileName.", "RC", "openFile(const", "string", "&fileName,", "IXFileHandle", "&ixfileHandle)", "This", "method", "will", "open", "the", "index", "file.", "If", "the", "open", "call", "is", "successful,", "an", "IXFileHandle", "object", "for", "the", "given", "index", "is", "returned.", "This", "ixfileHandle", "is", "passed", "to", "the", "insertEntry(),", "deleteEntry(),", "and", "scan()", "methods", "to", "insert/delete/scan", "entries", "in", "the", "index", "file.", "RC", "closeFile(IXFileHandle", "&ixfileHandle)", "This", "method", "closes", "the", "index", "file", "indicated", "by", "the", "ixfileHandle.", "RC", "insertEntry(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "void", "*key,", "const", "RID", "&rid)", "This", "method", "should", "insert", "a", "new", "entry,", "a", "<key,rid>", "pair,", "into", "the", "index", "file.", "The", "second", "parameter", "is", "the", "attribute", "descriptor", "of", "the", "key,", "and", "the", "parameter", "rid", "identifies", "the", "record", "that", "will", "be", "paired", "with", "the", "key", "in", "the", "index", "file.", "(An", "index", "contains", "only", "the", "records'", "ids,", "not", "the", "records", "themselves.)", "The", "format", "for", "the", "passed-in", "key", "is", "the", "following:", "(1)", "For", "INT", "and", "REAL:", "use", "4", "bytes;", "(2)", "For", "VARCHAR:", "use", "4", "bytes", "for", "the", "length", "followed", "by", "the", "characters.", "Note", "that", "the", "given", "key", "value", "doesn't"], "content_hash": "13c255e6357a3739489e80040a1cbf11"}
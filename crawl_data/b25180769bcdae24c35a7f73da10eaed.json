{"url": "http://www.ics.uci.edu/~eppstein/161/960125.html", "word_count": 2954, "words": ["Selection", "and", "order", "statistics", "ICS", "161:", "Design", "and", "Analysis", "of", "Algorithms", "Lecture", "notes", "for", "January", "25,", "1996", "Selection", "and", "order", "statistics", "Statistics", "refers", "to", "methods", "for", "combining", "a", "large", "amount", "of", "data", "(such", "as", "the", "scores", "of", "the", "whole", "class", "on", "a", "homework)", "into", "a", "single", "number", "of", "small", "set", "of", "numbers", "that", "give", "an", "overall", "flavor", "of", "the", "data.", "The", "phrase", "order", "statistics", "refers", "to", "statistical", "methods", "that", "depend", "only", "on", "the", "ordering", "of", "the", "data", "and", "not", "on", "its", "numerical", "values.", "So,", "for", "instance,", "the", "average", "of", "the", "data,", "while", "easy", "to", "compute", "and", "very", "important", "as", "an", "estimate", "of", "a", "central", "value,", "is", "not", "an", "order", "statistic.", "The", "mode", "(most", "commonly", "occurring", "value)", "also", "does", "not", "depend", "on", "ordering,", "although", "the", "most", "efficient", "methods", "for", "computing", "it", "in", "a", "comparison-based", "model", "involve", "sorting", "algorithms.", "The", "most", "commonly", "used", "order", "statistic", "is", "the", "median", ",", "the", "value", "in", "the", "middle", "position", "in", "the", "sorted", "order", "of", "the", "values.", "Again", "we", "can", "get", "the", "median", "easily", "in", "O(n", "log", "n)", "time", "via", "sorting,", "but", "maybe", "it's", "possible", "to", "do", "better?", "We'll", "see", "that", "the", "answer", "is", "yes,", "O(n).", "We", "will", "solve", "the", "median", "recursively.", "Sometimes,", "especially", "in", "relation", "to", "recursive", "algorithms,", "it", "is", "easier", "to", "solve", "a", "more", "general", "problem", "than", "the", "one", "we", "started", "out", "with.", "(Making", "the", "problem", "more", "difficult", "paradoxically", "makes", "it", "easier", "to", "solve.)", "This", "is", "true", "because", "if", "the", "problem", "is", "more", "general", "it", "may", "be", "easier", "for", "us", "to", "find", "recursive", "subproblems", "that", "help", "lead", "us", "to", "a", "solution.", "The", "more", "general", "problem", "we", "solve", "is", "selection", ":", "given", "a", "list", "of", "n", "items,", "and", "a", "number", "k", "between", "1", "and", "n,", "find", "the", "item", "that", "would", "be", "kth", "if", "we", "sorted", "the", "list.", "The", "median", "is", "the", "special", "case", "of", "this", "for", "which", "k=n/2.", "We'll", "see", "two", "algorithms", "for", "this", "general", "problem,", "a", "randomized", "one", "based", "on", "quicksort", "(\"quickselect\")", "and", "a", "deterministic", "one.", "The", "randomized", "one", "is", "easier", "to", "understand", "&", "better", "in", "practice", "so", "we'll", "do", "it", "first.", "But", "before", "we", "get", "to", "it,", "let's", "warm", "up", "with", "some", "cases", "of", "selection", "that", "don't", "have", "much", "to", "do", "with", "medians", "(because", "k", "is", "very", "far", "from", "n/2).", "Second-best", "search", "If", "k=1,", "the", "selection", "problem", "is", "trivial:", "just", "select", "the", "minimum", "element.", "As", "usual", "we", "maintain", "a", "value", "x", "that", "is", "the", "minimum", "seen", "so", "far,", "and", "compare", "it", "against", "each", "successive", "value,", "updating", "it", "when", "something", "smaller", "is", "seen.", "min(L)", "{", "x", "=", "L[1]", "for", "(i", "=", "2;", "i", "<=", "n;", "i++)", "if", "(L[i]", "<", "x)", "x", "=", "L[i]", "return", "x", "}", "What", "if", "you", "want", "to", "select", "the", "second", "best?", "One", "possibility:", "Follow", "the", "same", "general", "strategy,", "but", "modify", "min(L)", "to", "keep", "two", "values,", "the", "best", "and", "second", "best", "seen", "so", "far.", "We", "need", "only", "compare", "each", "new", "value", "against", "the", "second", "best,", "to", "tell", "whether", "it", "is", "in", "the", "top", "two,", "but", "then", "if", "we", "discover", "that", "a", "new", "value", "is", "one", "of", "the", "top", "two", "so", "far", "we", "need", "to", "tell", "whether", "it's", "best", "or", "second", "best.", "second(L)", "{", "x", "=", "L[1]", "y", "=", "L[2]", "if", "(y", "<", "x)", "switch", "x,", "y", "for", "(i", "=", "3;", "i", "<=", "n;", "i++)", "if", "(L[i]", "<", "y)", "{", "y", "=", "L[i]", "if", "(y", "<", "x)", "switch", "x,", "y", "}", "return", "y", "}", "Although", "this", "algorithm", "is", "pretty", "easy", "to", "come", "up", "with,", "some", "interesting", "behavior", "shows", "up", "when", "we", "try", "to", "analyze", "it.", "In", "the", "worst", "case", ",", "the", "list", "may", "be", "sorted", "in", "decreasing", "order,", "so", "each", "of", "the", "n-2", "iterations", "of", "the", "loop", "performs", "2", "comparisons.", "The", "total", "is", "then", "2n-3", "comparisons.", "In", "the", "average", "case", "(assuming", "any", "permutation", "of", "L", "is", "equally", "likely)", "the", "first", "comparison", "in", "each", "iteration", "still", "always", "happens,", "but", "the", "second", "only", "happens", "when", "L[i]", "is", "one", "of", "the", "two", "smallest", "values", "among", "the", "first", "i.", "Each", "of", "the", "first", "i", "values", "is", "equally", "likely", "to", "be", "one", "of", "these", "two,", "so", "this", "is", "true", "with", "probability", "2/i.", "The", "total", "expected", "number", "of", "times", "we", "make", "the", "second", "comparison", "is", "n", "sum", "2/i", "=", "2", "ln", "n", "+", "O(1)", "i=3", "The", "ln", "is", "a", "natural", "logarithm.", "The", "sum", "(for", "i", "from", "1", "to", "n)", "of", "1/i,", "known", "as", "the", "harmonic", "series", ",", "is", "ln", "n", "+", "O(1)", "(this", "can", "be", "proved", "using", "calculus,", "by", "comparing", "the", "sum", "to", "a", "similar", "integral).", "Therefore", "the", "total", "expected", "number", "of", "comparisons", "overall", "is", "n+O(log", "n).", "This", "small", "increase", "over", "the", "n-1", "comparisons", "needed", "to", "find", "the", "minimum", "gives", "us", "hope", "that", "we", "can", "perform", "selection", "faster", "than", "sorting.", "Heapselect", "We", "saw", "a", "randomized", "algorithm", "with", "n", "+", "O(log", "n)", "comparison", "expected.", "Can", "we", "get", "the", "same", "performance", "out", "of", "an", "unrandomized", "algorithm?", "Think", "about", "basketball", "tournaments,", "involving", "n", "teams.", "We", "form", "a", "complete", "binary", "tree", "with", "n", "leaves;", "each", "internal", "node", "represents", "an", "elimination", "game.", "So", "at", "the", "bottom", "level,", "there", "are", "n/2", "games,", "and", "the", "n/2", "winners", "go", "on", "to", "a", "game", "at", "the", "next", "level", "of", "the", "tree.", "Assuming", "the", "better", "team", "always", "wins", "its", "game,", "the", "best", "team", "always", "wins", "all", "its", "games,", "and", "can", "be", "found", "as", "the", "winner", "of", "the", "last", "game.", "(This", "could", "all", "easily", "be", "expressed", "in", "pseudo", "code.", "So", "far,", "it's", "just", "a", "complicated", "algorithm", "for", "finding", "a", "minimum", "or", "maximum,", "which", "has", "some", "practical", "advantages,", "namely", "that", "it's", "parallel", "(many", "games", "can", "be", "played", "at", "once)", "and", "fair", "(in", "contrast,", "if", "we", "used", "algorithm", "min", "above,", "the", "teams", "placed", "earlier", "in", "L", "would", "have", "to", "play", "many", "more", "games", "and", "be", "at", "a", "big", "disadvantage).", "Now,", "where", "in", "the", "tree", "could", "the", "second", "best", "team", "be?", "This", "team", "would", "always", "beat", "everyone", "except", "the", "eventual", "winner.", "But", "it", "must", "have", "lost", "once", "(since", "only", "the", "overall", "winner", "never", "loses).", "So", "it", "must", "have", "lost", "to", "the", "eventual", "winner.", "Therefore", "it's", "one", "of", "the", "log", "n", "teams", "that", "played", "the", "eventual", "winner", "and", "we", "can", "run", "another", "tournament", "algorithm", "among", "these", "values.", "If", "we", "express", "this", "as", "an", "algorithm"], "content_hash": "3900bba14b049efc5f8ecc9ee95932d4"}
{"url": "http://www.ics.uci.edu/~eppstein/161/960222.html", "word_count": 1822, "words": ["Finite", "automata", "and", "string", "matching", "ICS", "161:", "Design", "and", "Analysis", "of", "Algorithms", "Lecture", "notes", "for", "February", "22,", "1996", "String", "matching", "You", "probably", "often", "use", "your", "text", "editor", "(or", "the", "UNIX", "program", "\"grep\")", "to", "find", "some", "text", "in", "a", "file", "(e.g.", "the", "place", "where", "you", "defined", "your", "depth", "first", "search", "program,", "or", "the", "email", "message", "you", "sent", "six", "weeks", "ago", "asking", "for", "an", "extension", "on", "your", "programming", "project).", "How", "does", "it", "do", "it?", "There", "are", "two", "commonly", "used", "algorithms:", "Knuth-Morris-Pratt", "(KMP)", "and", "Boyer", "-", "Moore", "(BM).", "Both", "use", "similar", "ideas.", "Both", "take", "linear", "time:", "O(m", "+", "n)", "where", "m", "is", "the", "length", "of", "the", "search", "string,", "and", "n", "is", "the", "length", "of", "the", "file.", "Both", "only", "test", "whether", "certain", "characters", "are", "equal", "or", "unequal,", "they", "don't", "do", "any", "complicated", "arithmetic", "on", "characters.", "Boyer-Moore", "is", "a", "little", "faster", "in", "practice,", "but", "more", "complicated.", "Knuth-Morris-Pratt", "is", "simpler,", "so", "it's", "the", "one", "we'll", "discuss.", "The", "book", "talks", "about", "it", "in", "terms", "of", "finite", "state", "machines", "which", "would", "be", "fine", "if", "you'd", "taken", "162", "but", "you", "haven't....", "Finite", "state", "machines", "A", "finite", "state", "machine", "(FSM,", "also", "known", "as", "a", "deterministic", "finite", "automaton", "or", "DFA)", "is", "a", "way", "of", "representing", "a", "language", "(meaning", "a", "set", "of", "strings;", "we're", "interested", "in", "representing", "the", "set", "strings", "matching", "some", "pattern).", "It's", "explicitly", "algorithmic:", "we", "represent", "the", "language", "as", "the", "set", "of", "those", "strings", "accepted", "by", "some", "program.", "So,", "once", "you've", "found", "the", "right", "machine,", "you", "can", "test", "whether", "a", "given", "string", "matches", "just", "by", "running", "it.", "The", "KMP", "algorithm", "works", "by", "turning", "the", "pattern", "it's", "given", "into", "a", "machine,", "and", "then", "running", "the", "machine.", "The", "hard", "part", "of", "KMP", "is", "finding", "the", "machine.", "We", "need", "some", "restrictions", "on", "what", "we", "mean", "by", "\"program\".", "This", "is", "where", "\"deterministic", "&", "finite\"", "come", "from.", "One", "way", "of", "thinking", "about", "it,", "is", "in", "terms", "of", "programs", "without", "any", "variables.", "All", "such", "a", "program", "can", "do", "is", "look", "at", "each", "incoming", "character", "determine", "what", "line", "to", "go", "to,", "and", "eventually", "return", "true", "or", "false", "(depending", "on", "whether", "it", "thinks", "the", "string", "matches", "or", "doesn't).", "As", "a", "simple", "warmup", "example,", "let's", "look", "at", "a", "program", "for", "an", "easier", "problem:", "testing", "whether", "a", "string", "has", "an", "even", "number", "of", "characters.", "main()", "{", "for", "(;;)", "{", "if", "(getchar()", "==", "EOF)", "return", "TRUE;", "if", "(getchar()", "==", "EOF)", "return", "FALSE;", "}", "}", "Note", "the", "lack", "of", "variables.", "To", "simplify", "things,", "we'll", "rewrite", "programs", "to", "avoid", "complicated", "loops,", "and", "instead", "just", "use", "goto", "statements", ".", "(You've", "probably", "been", "taught", "that", "gotos", "are", "bad,", "but", "this", "sort", "of", "rewriting", "happens", "all", "the", "time,", "in", "fact", "every", "time", "you", "run", "a", "compiler", "it", "has", "to", "do", "this.)", "main()", "{", "even:", "if", "(getchar()", "==", "EOF)", "return", "TRUE;", "else", "goto", "odd;", "odd:", "if", "(getchar()", "==", "EOF)", "return", "FALSE;", "else", "goto", "even;", "}", "We've", "chosen", "labels", "for", "the", "goto", "statements,", "to", "represent", "what", "we", "know", "about", "the", "string", "so", "far", "(in", "this", "problem,", "whether", "we've", "seen", "an", "even", "or", "odd", "number", "of", "characters", "so", "far).", "Because", "there", "are", "no", "variables,", "we", "can", "only", "represent", "knowledge", "about", "the", "input", "in", "terms", "of", "where", "we", "are", "in", "the", "program.", "We", "think", "of", "each", "line", "in", "the", "program", "as", "being", "a", "state", ",", "representing", "some", "specific", "fact", "about", "the", "part", "of", "the", "string", "we've", "seen", "so", "far.", "Here", "the", "states", "are", "\"even\"", "and", "\"odd\",", "and", "represent", "what", "we", "know", "about", "the", "number", "of", "characters", "seen", "so", "far.", "Since", "there", "are", "no", "variables,", "the", "only", "thing", "a", "machine", "can", "do", "in", "a", "given", "state", "(state", "=", "what", "line", "the", "prog", "is", "on)", "is", "to", "go", "to", "different", "states,", "depending", "on", "what", "character", "it", "sees.", "This", "can", "be", "a", "useful", "programming", "style;", "for", "instance", "I", "am", "using", "a", "program", "written", "in", "close", "to", "this", "style", "to", "filter", "some", "html", "files", "on", "my", "web", "pages.", "One", "advantage", "of", "this", "style", "is", "that", "there", "are", "few", "ways", "the", "program", "can", "be", "tricked", "into", "having", "unexpected", "values", "in", "its", "variables", "(since", "there", "are", "no", "variables)", "so", "it", "is", "hard", "to", "make", "such", "a", "program", "crash.", "But", "it's", "a", "little", "long", "and", "cumbersome,", "and", "you", "wouldn't", "want", "to", "have", "to", "compile", "a", "separate", "C", "program", "every", "time", "you", "ran", "\"grep\".", "Rather", "than", "writing", "C", "code,", "we'll", "draw", "pictures", "with", "circles", "and", "arrows.", "(These", "pictures", "are", "known", "as", "state", "diagrams", ".)", "A", "circle", "will", "represent", "a", "state,", "an", "arrow", "with", "a", "label", "will", "represent", "that", "we", "go", "to", "that", "state", "if", "we", "see", "that", "character.", "(You", "can", "think", "of", "this", "as", "just", "being", "a", "special", "kind", "of", "graph.)", "We'll", "also", "draw", "an", "arrow", "from", "nowhere", "to", "the", "first", "state", "the", "program", "starts", "in,", "and", "arrows", "to", "nowhere", "if", "the", "program", "returns", "true", "if", "the", "string", "ends", "at", "that", "state.", "So", "our", "program", "can", "be", "represented", "with", "the", "following", "diagram.", "In", "class", "I", "described", "a", "more", "complicated", "example,", "that", "could", "be", "used", "by", "the", "C", "preprocessor", "(a", "part", "of", "most", "C", "compilers)", "to", "tell", "which", "characters", "are", "part", "of", "comments", "and", "can", "be", "removed", "from", "the", "input:", "It's", "easy", "to", "turn", "such", "a", "diagram", "into", "a", "program,", "that", "simply", "has", "one", "label", "and", "one", "case", "statement", "per", "state.", "If", "we're", "given", "such", "a", "diagram,", "and", "a", "string,", "we", "can", "easily", "see", "whether", "the", "corresponding", "program", "returns", "true", "or", "false.", "Simply", "place", "a", "marker", "(such", "as", "a", "penny)", "on", "the", "initial", "state,", "and", "move", "it", "around", "one", "state", "at", "a", "time", "until", "you", "run", "out", "of", "characters.", "Once", "you", "run", "out", "of", "characters,", "see", "whether", "the", "state", "you're", "in", "has", "an", "\"accept\"", "arrow", "--", "if", "so,", "the", "pattern", "matches,", "and", "if", "not", "it", "doesn't.", "In", "a", "computer,", "we", "obviously", "don't", "represent", "these", "things", "with", "circles", "and", "arrows.", "Instead", "they", "can", "be", "viewed", "as", "just", "being", "a", "special", "kind", "of", "graph,", "and", "we", "can", "use", "any", "of", "the", "normal", "graph", "representations", "to", "store", "them.", "One", "particularly", "useful", "representation", "is", "a", "transition", "table", ":", "we", "make", "a", "table", "with", "rows", "indexed", "by", "states,", "and", "columns", "indexed", "by", "possible", "input", "characters.", "Then", "simulating", "the", "machine", "can", "be", "done", "simply", "by", "looking", "up", "each", "new", "step", "in", "the", "table.", "(You", "also"], "content_hash": "9c570c932eeded4d6c6ffd494705dda2"}
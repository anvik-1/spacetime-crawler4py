{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs222-2018-fall-project3?action=diff&version=1", "word_count": 3219, "words": ["cs222-2018-fall-project3", "(diff)", "\u2013", "Public", "Login", "Preferences", "About", "Trac", "Register", "Context", "Navigation", "\u2190", "Previous", "Change", "Wiki", "History", "Next", "Change", "\u2192", "Changes", "between", "Initial", "Version", "and", "Version", "1", "of", "cs222-2018-fall-project3", "View", "differences", "inline", "side", "by", "side", "Show", "lines", "around", "each", "change", "Show", "the", "changes", "in", "full", "context", "Ignore:", "Blank", "lines", "Case", "changes", "White", "space", "changes", "Timestamp:", "Oct", "17,", "2018,", "8:06:15", "PM", "(", "7", "years", "ago)", "Author:", "Chen", "Luo", "Comment:", "--", "Legend:", "Unmodified", "Added", "Removed", "Modified", "cs222-2018-fall-project3", "v1", "v1", "1", "{{{", "2", "#!div", "style=\"background-color:rgb(237,222,222)\"", "3", "4", "[[PageOutline]]", "5", "6", "{{{", "7", "#!div", "style=\"background-color:rgb(237,237,222)\"", "8", "=", "Project", "3:", "Implementing", "an", "Index", "Manager", "=", "9", "}}}", "10", "11", "'''", "Deadline:", "Nov", "19,", "2018,", "Monday,", "11:45", "pm,", "on", "Github.'''", "[[BR]]", "'''", "Full", "Credit:", "100", "points,", "Extra", "Credit:", "20", "points'''", "12", "13", "==", "Introduction", "==", "14", "In", "this", "project", "you", "will", "implement", "an", "Indexing", "(IX)", "component.", "The", "IX", "component", "provides", "classes", "and", "methods", "for", "managing", "persistent", "indexes", "over", "unordered", "data", "records", "stored", "in", "files.", "Each", "data", "file", "may", "have", "any", "number", "of", "(single-attribute)", "indexes", "associated", "with", "it.", "The", "indexes", "ultimately", "will", "be", "used", "to", "speed", "up", "processing", "of", "relational", "selections,", "joins,", "condition-based", "update,", "and", "delete", "operations.", "Like", "the", "data", "records", "themselves,", "the", "indexes", "are", "also", "stored", "in", "files.", "Hence,", "in", "implementing", "the", "IX", "component,", "you", "will", "use", "the", "file", "system,", "namely", "the", "!PagedFileManager", "(PF)", "component", "that", "you", "implemented", "in", "Project", "1,", "similar", "to", "the", "manner", "in", "which", "you", "used", "it", "for", "implementing", "the", "!RecordBasedFileManager", "(RBF)", "in", "Projects", "1-2.", "In", "the", "projects'", "overall", "database", "system", "architecture,", "you", "can", "think", "of", "the", "IX", "component", "and", "the", "RBF", "component", "as", "sitting", "side-by-side", "above", "the", "PF", "layer", "and", "below", "the", "!RelationManager(RM)", "component.", "As", "you", "did", "for", "the", "RBF", "component,", "you", "should", "pass", "attribute", "information", "in", "to", "the", "methods", "of", "the", "IX", "component.", "The", "RM", "layer", "will", "later", "be", "orchestrating", "both", "the", "RBF", "(for", "data", "files)", "and", "IX", "(for", "indices)", "layers", "when", "tuple-level", "operations", "happen,", "and", "the", "RM", "layer", "will", "also", "be", "managing", "the", "catalog", "information", "related", "to", "indexes", "at", "this", "level.", "However,", "in", "this", "part", "of", "the", "project,", "you", "will", "implement", "the", "IX", "component", "without", "worrying", "(yet)", "about", "the", "RM", "layer,", "just", "as", "you", "did", "for", "the", "RBF", "layer", "earlier.", "The", "RM", "layer", "and", "its", "behavior", "will", "come", "into", "play", "in", "Project", "4.", "15", "16", "===", "B+Trees", "===", "17", "You", "will", "implement", "a", "basic", "B+", "tree", "that", "has", "support", "for", "range", "predicates.", "Each", "B+", "tree", "index", "can", "be", "stored", "in", "one", "file", "in", "the", "paged", "file", "system.", "18", "19", "You", "can", "download", "the", "[attachment:codebase.zip", "source", "code].", "20", "21", "''Note:", "It", "is", "possible", "to", "find", "pseudo-code", "and", "perhaps", "even", "software", "packages", "for", "B+", "trees", "available", "publicly.", "You", "are", "welcome", "to", "use", "anything", "you", "happen", "to", "find", "as", "a", "''reference'',", "as", "long", "as", "you", "provide", "proper", "acknowledgment", "in", "your", "readme", "file", "when", "you", "turn", "in", "this", "part", "of", "the", "project.", "However,", "you", "are", "not", "welcome", "to", "reuse", "any", "code", "that", "you", "find", "elsewhere;", "the", "purpose", "of", "this", "project", "is", "for", "you", "to", "gain", "experience", "and", "understanding", "by", "actually", "writing", "the", "B+", "tree", "code.''", "22", "23", "==", "IX", "Interface", "==", "24", "The", "IX", "interface", "that", "you", "are", "to", "implement", "consists", "of", "two", "classes:", "the", "!IndexManager", "class", "and", "IX_ScanIterator", "class.", "In", "addition,", "there", "is", "an", "IX_PrintError", "routine", "for", "printing", "messages", "associated", "with", "nonzero", "return", "codes.", "As", "usual,", "all", "IX", "component", "public", "methods", "(except", "constructors", "and", "destructors)", "should", "return", "0", "if", "they", "complete", "normally", "and", "a", "nonzero", "return", "code", "otherwise.", "If", "you", "compare", "the", "RFB", "and", "IX", "components'", "interfaces,", "the", "pattern", "that", "you", "see", "here", "should", "be", "very", "familiar", "(:-)).", "25", "26", "===", "1.", "!IndexManager", "Class", "===", "27", "The", "!IndexManager", "class", "handles", "the", "creation,", "deletion,", "opening,", "and", "closing", "of", "index", "files", "as", "well", "as", "the", "insert,", "delete,", "and", "scan", "initiation", "operations.", "Your", "program", "should", "create", "exactly", "one", "instance", "of", "the", "!IndexManager", "class.", "All", "necessary", "initialization", "for", "the", "IX", "component", "should", "take", "place", "within", "the", "constructor", "for", "the", "!IndexManager", "class.", "Symmetrically,", "any", "necessary", "clean-up", "in", "the", "IX", "component", "should", "take", "place", "within", "the", "destructor", "for", "the", "!IndexManager", "class.", "28", "29", "{{{", "30", "class", "IndexManager", "{", "31", "32", "public:", "33", "static", "IndexManager*", "instance();", "34", "35", "//", "Create", "an", "index", "file", "36", "RC", "createFile(const", "string", "&fileName);", "37", "38", "//", "Delete", "an", "index", "file", "39", "RC", "destroyFile(const", "string", "&fileName);", "40", "41", "//", "Open", "an", "index", "and", "return", "an", "ixfileHandle", "42", "RC", "openFile(const", "string", "&fileName,", "IXFileHandle", "&ixfileHandle);", "43", "44", "//", "Close", "an", "ixfileHandle", "for", "an", "index.", "45", "RC", "closeFile(IXFileHandle", "&ixfileHandle);", "46", "47", "//", "Insert", "an", "entry", "into", "the", "given", "index", "that", "is", "indicated", "by", "the", "given", "ixfileHandle", "48", "RC", "insertEntry(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "void", "*key,", "const", "RID", "&rid);", "49", "50", "//", "Delete", "an", "entry", "from", "the", "given", "index", "that", "is", "indicated", "by", "the", "given", "ixfileHandle", "51", "RC", "deleteEntry(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "void", "*key,", "const", "RID", "&rid);", "52", "53", "//", "Initialize", "and", "IX_ScanIterator", "to", "support", "a", "range", "search", "54", "RC", "scan(IXFileHandle", "&ixfileHandle,", "55", "const", "Attribute", "&attribute,", "56", "const", "void", "*lowKey,", "57", "const", "void", "*highKey,", "58", "bool", "lowKeyInclusive,", "59", "bool", "highKeyInclusive,", "60", "IX_ScanIterator", "&ix_ScanIterator);", "61", "62", "//", "Print", "the", "B+", "tree", "in", "pre-order", "(in", "a", "JSON", "record", "format)", "63", "void", "printBtree(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute);", "64", "65", "protected:", "66", "IndexManager();", "67", "~IndexManager();", "68", "69", "private:", "70", "static", "IndexManager", "*_index_manager;", "71", "};", "72", "73", "}}}", "74", "====", "RC", "createFile(const", "string", "&fileName)", "====", "75", "This", "method", "creates", "a", "B+tree", "index", "file", "with", "the", "given", "index", "name.", "76", "77", "====", "RC", "destroyFile(const", "string", "&fileName)", "====", "78", "This", "method", "should", "delete", "the", "index", "file", "whose", "name", "is", "fileName.", "79", "80", "====", "RC", "openFile(const", "string", "&fileName,", "IXFileHandle", "&ixfileHandle)", "====", "81", "This", "method", "will", "open", "the", "index", "file.", "If", "the", "open", "call", "is", "successful,", "an", "IXFileHandle", "object", "for", "the", "given", "index", "is", "returned.", "This", "ixfileHandle", "is", "passed", "to", "the", "insertEntry(),", "deleteEntry(),", "and", "scan()", "methods", "to", "insert/delete/scan", "entries", "in", "the", "index", "file.", "82", "83", "====", "RC", "closeFile(IXFileHandle", "&ixfileHandle)", "====", "84", "This", "method", "closes", "the", "index", "file", "indicated", "by", "the", "ixfileHandle.", "85", "86", "====", "RC", "insertEntry(IXFileHandle", "&ixfileHandle,", "const", "Attribute", "&attribute,", "const", "void", "*key,", "const", "RID", "&rid)", "====", "87", "This", "method", "should", "insert", "a", "new", "entry,", "a", "<key,rid>"], "content_hash": "03b1e253ad45be1c6c60629894e32c58"}